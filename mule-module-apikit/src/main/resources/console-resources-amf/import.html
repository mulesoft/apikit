<html><head></head><body><div hidden="" by-polymer-bundler=""><script>(function(a){function b(a){return q.typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?b=function(a){return typeof a}:b=function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(a)}function c(a){function b(d,e){try{var f=a[d](e),g=f.value,h=g instanceof q.AwaitValue;Promise.resolve(h?g.wrapped:g).then(function(a){return h?void b("next",a):void c(f.done?"return":"normal",a)},function(a){b("throw",a)})}catch(a){c("throw",a)}}function c(a,c){switch(a){case"return":d.resolve({value:c,done:!0});break;case"throw":d.reject(c);break;default:d.resolve({value:c,done:!1});}d=d.next,d?b(d.key,d.arg):e=null}var d,e;this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};e?e=e.next=h:(d=e=h,b(a,c))})},"function"!==typeof a.return&&(this.return=void 0)}function d(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function e(a,b){for(var c in b){var d=b[c];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,c,d)}if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(b),f=0;f<e.length;f++){var g=e[f],d=b[g];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,g,d)}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(){return q.extends=g=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},g.apply(this,arguments)}function h(a){return q.getPrototypeOf=h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},h(a)}function i(a,b){return q.setPrototypeOf=i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},i(a,b)}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function k(){return q.construct=j()?k=Reflect.construct:k=function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&q.setPrototypeOf(f,d.prototype),f},k.apply(null,arguments)}function l(a){var b="function"===typeof Map?new Map:void 0;return q.wrapNativeSuper=l=function(a){function c(){return q.construct(a,arguments,q.getPrototypeOf(this).constructor)}if(null===a)return null;if("function"!==typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),q.setPrototypeOf(c,a)},l(a)}function m(a,b,c){return q.get="undefined"!==typeof Reflect&&Reflect.get?m=Reflect.get:m=function(a,b,c){var d=q.superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}},m(a,b,c||a)}function n(a,b,c,d){return n="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(a,b,c,d){var e,f=q.superPropBase(a,b);if(f){if(e=Object.getOwnPropertyDescriptor(f,b),e.set)return e.set.call(d,c),!0;if(!e.writable)return!1}if(e=Object.getOwnPropertyDescriptor(d,b),e){if(!e.writable)return!1;e.value=c,Object.defineProperty(d,b,e)}else q.defineProperty(d,b,c);return!0},n(a,b,c,d)}function o(a,b,c,d,e){var f=n(a,b,c,d||a);if(!f&&e)throw new Error("failed to set property");return c}function p(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}var q=a.babelHelpers={};q.typeof=b,q.asyncIterator=function(a){var b;if("function"===typeof Symbol){if(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator],null!=b))return b.call(a);if(Symbol.iterator&&(b=a[Symbol.iterator],null!=b))return b.call(a)}throw new TypeError("Object is not async iterable")},q.AwaitValue=function(a){this.wrapped=a},"function"===typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this}),c.prototype.next=function(a){return this._invoke("next",a)},c.prototype.throw=function(a){return this._invoke("throw",a)},c.prototype.return=function(a){return this._invoke("return",a)},q.AsyncGenerator=c,q.wrapAsyncGenerator=function(a){return function(){return new q.AsyncGenerator(a.apply(this,arguments))}},q.awaitAsyncGenerator=function(a){return new q.AwaitValue(a)},q.asyncGeneratorDelegate=function(a,b){function c(c,d){return e=!0,d=new Promise(function(b){b(a[c](d))}),{done:!1,value:b(d)}}var d={},e=!1;return"function"===typeof Symbol&&Symbol.iterator&&(d[Symbol.iterator]=function(){return this}),d.next=function(a){return e?(e=!1,a):c("next",a)},"function"===typeof a.throw&&(d.throw=function(a){if(e)throw e=!1,a;return c("throw",a)}),"function"===typeof a.return&&(d.return=function(a){return c("return",a)}),d},q.asyncToGenerator=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a,b){try{var c=i[a](b),f=c.value}catch(a){return void e(a)}c.done?d(f):Promise.resolve(f).then(g,h)}function g(a){f("next",a)}function h(a){f("throw",a)}var i=a.apply(b,c);g()})}},q.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},q.createClass=function(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a},q.defineEnumerableProperties=e,q.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&a[e]===void 0&&Object.defineProperty(a,e,f)}return a},q.defineProperty=f,q.extends=g,q.objectSpread=function(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){q.defineProperty(a,b,c[b])})}return a},q.inherits=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q.setPrototypeOf(a,b)},q.getPrototypeOf=h,q.setPrototypeOf=i,q.construct=k,q.wrapNativeSuper=l,q.instanceof=function(a,b){return null!=b&&"undefined"!==typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},q.interopRequireDefault=function(a){return a&&a.__esModule?a:{default:a}},q.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b},q.newArrowCheck=function(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")},q.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError("Cannot destructure undefined")},q.objectWithoutProperties=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(d=0;d<g.length;d++)c=g[d],!(0<=b.indexOf(c))&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e},q.assertThisInitialized=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},q.possibleConstructorReturn=function(a,b){return b&&("object"===typeof b||"function"===typeof b)?b:q.assertThisInitialized(a)},q.superPropBase=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=q.getPrototypeOf(a),null!==a););return a},q.get=m,q.set=o,q.taggedTemplateLiteral=function(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},q.temporalRef=function(a,b){if(a===q.temporalUndefined)throw new ReferenceError(b+" is not defined - temporal dead zone");else return a},q.readOnlyError=function(a){throw new Error("\""+a+"\" is read-only")},q.temporalUndefined={},q.slicedToArray=function(a,b){return q.arrayWithHoles(a)||q.iterableToArrayLimit(a,b)||q.nonIterableRest()},q.toArray=function(a){return q.arrayWithHoles(a)||q.iterableToArray(a)||q.nonIterableRest()},q.toConsumableArray=function(a){return q.arrayWithoutHoles(a)||q.iterableToArray(a)||q.nonIterableSpread()},q.arrayWithoutHoles=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}},q.arrayWithHoles=function(a){if(Array.isArray(a))return a},q.iterableToArray=p,q.iterableToArrayLimit=function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c},q.nonIterableSpread=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},q.nonIterableRest=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},q.toPropertyKey=function(a){return"symbol"===typeof a?a:a+""}})("undefined"===typeof global?self:global);</script><script>(function(){"use strict";const userPolymer=window.Polymer;window.Polymer=function(info){return window.Polymer._polymerFn(info)};if(userPolymer){Object.assign(Polymer,userPolymer)}window.Polymer._polymerFn=function(){throw new Error("Load polymer.html to use the Polymer() function.")};window.Polymer.version="2.7.2";window.JSCompiler_renameProperty=function(prop){return prop}})();</script><script>(function(){"use strict";let CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}if(workingURL===void 0){workingURL=!1;try{const u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href}catch(e){}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument("temp");resolveDoc.base=resolveDoc.createElement("base");resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement("a");resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}Polymer.ResolveUrl={resolveCss:function(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})},resolveUrl:resolveUrl,pathFromUrl:function(url){return url.substring(0,url.lastIndexOf("/")+1)}}})();</script><script>(function(){"use strict";Polymer.Settings=Polymer.Settings||{};Polymer.Settings.useShadow=!window.ShadyDOM;Polymer.Settings.useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss);Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;Polymer.rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.setRootPath=function(path){Polymer.rootPath=path};Polymer.sanitizeDOMValue=Polymer.sanitizeDOMValue||null;Polymer.setSanitizeDOMValue=function(newSanitizeDOMValue){Polymer.sanitizeDOMValue=newSanitizeDOMValue};Polymer.passiveTouchGestures=Polymer.passiveTouchGestures||!1;Polymer.setPassiveTouchGestures=function(usePassive){Polymer.passiveTouchGestures=usePassive};Polymer.legacyOptimizations=Polymer.legacyOptimizations||window.PolymerSettings&&window.PolymerSettings.legacyOptimizations||!1;Polymer.setLegacyOptimizations=function(useLegacyOptimizations){Polymer.legacyOptimizations=useLegacyOptimizations}})();</script><script>(function(){"use strict";let dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;Polymer.dedupingMixin=function(mixin){let mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}let mixinDedupeId=dedupeId++;function dedupingMixin(base){let baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}let map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}let mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}return dedupingMixin}})();</script><script>(function(){"use strict";const SHADY_UNSCOPED_ATTR="shady-unscoped";function importModule(moduleId){const PolymerDomModule=customElements.get("dom-module");if(!PolymerDomModule){return null}return PolymerDomModule.import(moduleId)}function styleForImport(importDoc){let container=importDoc.body?importDoc.body:importDoc;const importCss=Polymer.ResolveUrl.resolveCss(container.textContent,importDoc.baseURI),style=document.createElement("style");style.textContent=importCss;return style}const StyleGather={stylesFromModules(moduleIds){const modules=moduleIds.trim().split(/\s+/),styles=[];for(let i=0;i<modules.length;i++){styles.push(...this.stylesFromModule(modules[i]))}return styles},stylesFromModule(moduleId){const m=importModule(moduleId);if(!m){console.warn("Could not find style data in module named",moduleId);return[]}if(m._styles===void 0){const styles=[...this._stylesFromModuleImports(m)],template=m.querySelector("template");if(template){styles.push(...this.stylesFromTemplate(template,m.assetpath))}m._styles=styles}return m._styles},stylesFromTemplate(template,baseURI){if(!template._styles){const styles=[],e$=template.content.querySelectorAll("style");for(let i=0;i<e$.length;i++){let e=e$[i],include=e.getAttribute("include");if(include){styles.push(...this.stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index}))}if(baseURI){e.textContent=Polymer.ResolveUrl.resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles},stylesFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._stylesFromModuleImports(m):[]},_stylesFromModuleImports(module){const styles=[],p$=module.querySelectorAll("link[rel=import][type~=css]");for(let i=0,p;i<p$.length;i++){p=p$[i];if(p.import){const importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){const style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,"");importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles},cssFromModules(moduleIds){let modules=moduleIds.trim().split(/\s+/),cssText="";for(let i=0;i<modules.length;i++){cssText+=this.cssFromModule(modules[i])}return cssText},cssFromModule(moduleId){let m=importModule(moduleId);if(m&&m._cssText===void 0){let cssText=this._cssFromModuleImports(m),t=m.querySelector("template");if(t){cssText+=this.cssFromTemplate(t,m.assetpath)}m._cssText=cssText||null}if(!m){console.warn("Could not find style data in module named",moduleId)}return m&&m._cssText||""},cssFromTemplate(template,baseURI){let cssText="";const e$=this.stylesFromTemplate(template,baseURI);for(let i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText},cssFromModuleImports(moduleId){let m=importModule(moduleId);return m?this._cssFromModuleImports(m):""},_cssFromModuleImports(module){let cssText="",styles=this._stylesFromModuleImports(module);for(let i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}};Polymer.StyleGather=StyleGather})();</script><script>(function(){"use strict";let modules={},lcModules={};function setModule(id,module){modules[id]=lcModules[id.toLowerCase()]=module}function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector("style")){console.warn("dom-module %s has style outside template",inst.id)}}class DomModule extends HTMLElement{static get observedAttributes(){return["id"]}static import(id,selector){if(id){let m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}attributeChangedCallback(name,old,value){if(old!==value){this.register()}}get assetpath(){if(!this.__assetpath){const owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=Polymer.ResolveUrl.resolveUrl(this.getAttribute("assetpath")||"",owner.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(url)}return this.__assetpath}register(id){id=id||this.id;if(id){if(Polymer.strictTemplatePolicy&&findModule(id)!==void 0){setModule(id,null);throw new Error(`strictTemplatePolicy: dom-module ${id} re-registered`)}this.id=id;setModule(id,this);styleOutsideTemplateCheck(this)}}}DomModule.prototype.modules=modules;customElements.define("dom-module",DomModule);Polymer.DomModule=DomModule})();</script><script>(function(){"use strict";const Path={isPath:function(path){return 0<=path.indexOf(".")},root:function(path){let dotIndex=path.indexOf(".");if(-1===dotIndex){return path}return path.slice(0,dotIndex)},isAncestor:function(base,path){return 0===base.indexOf(path+".")},isDescendant:function(base,path){return 0===path.indexOf(base+".")},translate:function(base,newBase,path){return newBase+path.slice(base.length)},matches:function(base,path){return base===path||this.isAncestor(base,path)||this.isDescendant(base,path)},normalize:function(path){if(Array.isArray(path)){let parts=[];for(let i=0,args;i<path.length;i++){args=path[i].toString().split(".");for(let j=0;j<args.length;j++){parts.push(args[j])}}return parts.join(".")}else{return path}},split:function(path){if(Array.isArray(path)){return this.normalize(path).split(".")}return path.toString().split(".")},get:function(root,path,info){let prop=root,parts=this.split(path);for(let i=0;i<parts.length;i++){if(!prop){return}let part=parts[i];prop=prop[part]}if(info){info.path=parts.join(".")}return prop},set:function(root,path,value){let prop=root,parts=this.split(path),last=parts[parts.length-1];if(1<parts.length){for(let i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}prop[last]=value}else{prop[path]=value}return parts.join(".")}};Path.isDeep=Path.isPath;Polymer.Path=Path})();</script><script>(function(){"use strict";const caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g,CaseMap={dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,m=>m[1].toUpperCase()))},camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}};Polymer.CaseMap=CaseMap})();</script><script>(function(){"use strict";let microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(function(){const len=microtaskCallbacks.length;for(let i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(()=>{throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}).observe(microtaskNode,{characterData:!0});Polymer.Async={timeOut:{after(delay){return{run(fn){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}}},run(fn,delay){return window.setTimeout(fn,delay)},cancel(handle){window.clearTimeout(handle)}},animationFrame:{run(fn){return window.requestAnimationFrame(fn)},cancel(handle){window.cancelAnimationFrame(handle)}},idlePeriod:{run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}},microTask:{run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel(handle){const idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}}}})();</script><script>(function(){"use strict";const microtask=Polymer.Async.microTask;Polymer.PropertiesChanged=Polymer.dedupingMixin(superClass=>{return class extends superClass{static createProperties(props){const proto=this.prototype;for(let prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}static attributeNameForProperty(property){return property.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}_addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){const attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}_definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}constructor(){super();this.__dataEnabled=!1;this.__dataReady=!1;this.__dataInvalid=!1;this.__data={};this.__dataPending=null;this.__dataOld=null;this.__dataInstanceProps=null;this.__serializing=!1;this._initializeProperties()}ready(){this.__dataReady=!0;this._flushProperties()}_initializeProperties(){for(let p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}_initializeInstanceProperties(props){Object.assign(this,props)}_setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}_getProperty(property){return this.__data[property]}_setPendingProperty(property,value){let old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}_invalidateProperties(){if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microtask.run(()=>{if(this.__dataInvalid){this.__dataInvalid=!1;this._flushProperties()}})}}_enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}_flushProperties(){const props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}_shouldPropertiesChange(currentProps,changedProps){return!!changedProps}_propertiesChanged(){}_shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(super.attributeChangedCallback){super.attributeChangedCallback(name,old,value,namespace)}}_attributeToProperty(attribute,value,type){if(!this.__serializing){const map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}_propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}_valueToNodeAttribute(node,value,attribute){const str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}_serializeValue(value){switch(typeof value){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}_deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}})})();</script><script>(function(){"use strict";let caseMap=Polymer.CaseMap;const nativeProperties={};let proto=HTMLElement.prototype;while(proto){let props=Object.getOwnPropertyNames(proto);for(let i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}function saveAccessorValue(model,property){if(!nativeProperties[property]){let value=model[property];if(value!==void 0){if(model.__data){model._setPendingProperty(property,value)}else{if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty("__dataProto",model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}Polymer.PropertyAccessors=Polymer.dedupingMixin(superClass=>{const base=Polymer.PropertiesChanged(superClass);return class extends base{static createPropertiesForAttributes(){let a$=this.observedAttributes;for(let i=0;i<a$.length;i++){this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[i]))}}static attributeNameForProperty(property){return caseMap.camelToDashCase(property)}_initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}super._initializeProperties()}_initializeProtoProperties(props){for(let p in props){this._setProperty(p,props[p])}}_ensureAttribute(attribute,value){const el=this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}_serializeValue(value){switch(typeof value){case"object":if(value instanceof Date){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return""}}default:return super._serializeValue(value);}}_deserializeValue(value,type){let outValue;switch(type){case Object:try{outValue=JSON.parse(value)}catch(x){outValue=value}break;case Array:try{outValue=JSON.parse(value)}catch(x){outValue=null;console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`)}break;case Date:outValue=isNaN(value)?value+"":+value;outValue=new Date(outValue);break;default:outValue=super._deserializeValue(value,type);break;}return outValue}_definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);super._definePropertyAccessor(property,readOnly)}_hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}_isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}})})();</script><script>(function(){"use strict";const walker=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(node){let is=node.getAttribute("is");if(is&&templateExtensions[is]){let t=node;t.removeAttribute("is");node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){let parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);if(parent){walker.currentNode=parent;for(let n=walker.firstChild(),i=0;n;n=walker.nextSibling()){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(let j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){context=context._methodHost||context;let handler=function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn("listener method `"+methodName+"` not defined")}};return handler}Polymer.TemplateStamp=Polymer.dedupingMixin(superClass=>{return class extends superClass{static _parseTemplate(template,outerTemplateInfo){if(!template._templateInfo){let templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute("strip-whitespace");this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}static _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted,element=node;if("template"==element.localName&&!element.hasAttribute("preserve-content")){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if("slot"===element.localName){templateInfo.hasInsertionPoint=!0}walker.currentNode=element;if(walker.firstChild()){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}static _parseTemplateChildNodes(root,templateInfo,nodeInfo){if("script"===root.localName||"style"===root.localName){return}walker.currentNode=root;for(let node=walker.firstChild(),parentIndex=0,next;node;node=next){if("template"==node.localName){node=wrapTemplateExtension(node)}walker.currentNode=node;next=walker.nextSibling();if(node.nodeType===Node.TEXT_NODE){let n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=walker.nextSibling();root.removeChild(n);n=next}if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}let childInfo={parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(childInfo)-1}walker.currentNode=node;if(walker.parentNode()){parentIndex++}}}static _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){let templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}static _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){let noted=!1,attrs=Array.from(node.attributes);for(let i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){if("on-"===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value});return!0}else if("id"===name){nodeInfo.id=value;return!0}return!1}static _contentForTemplate(template){let templateInfo=template._templateInfo;return templateInfo&&templateInfo.content||template.content}_stampTemplate(template){if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}let templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=document.importNode(content,!0);dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;let nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(let i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=dom;return dom}_addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;let handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}_addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}_removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}})})();</script><script>(function(){"use strict";const CaseMap=Polymer.CaseMap;let dedupeId=0;const TYPES={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},capitalAttributeRegex=/[A-Z]/;function ensureOwnEffectMap(model,type){let effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(let p in effects){let protoFx=effects[p],instFx=effects[p]=Array(protoFx.length);for(let i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){let ran=!1,id=dedupeId++;for(let prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){let ran=!1,rootProperty=hasPaths?Polymer.Path.root(prop):prop,fxs=effects[rootProperty];if(fxs){for(let i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}function pathMatchesTrigger(path,trigger){if(trigger){let triggerPath=trigger.name;return triggerPath==path||trigger.structured&&Polymer.Path.isAncestor(triggerPath,path)||trigger.wildcard&&Polymer.Path.isDescendant(triggerPath,path)}else{return!0}}function runObserverEffect(inst,property,props,oldProps,info){let fn="string"===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn("observer method `"+info.method+"` not defined")}}function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){let fxs=inst[TYPES.NOTIFY],notified,id=dedupeId++;for(let prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}let host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}function notifyPath(inst,path,props){let rootProperty=Polymer.Path.root(path);if(rootProperty!==path){let eventName=Polymer.CaseMap.camelToDashCase(rootProperty)+"-changed";dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}function dispatchNotifyEvent(inst,eventName,value,path){let detail={value:value,queueProperty:!0};if(path){detail.path=path}inst.dispatchEvent(new CustomEvent(eventName,{detail}))}function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){let rootProperty=hasPaths?Polymer.Path.root(property):property,path=rootProperty!=property?property:null,value=path?Polymer.Path.get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property]}dispatchNotifyEvent(inst,info.eventName,value,path)}function handleNotification(event,inst,fromProp,toPath,negate){let value,detail=event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=Polymer.Path.translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.currentTarget[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}function runReflectEffect(inst,property,props,oldProps,info){let value=inst.__data[property];if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,info.attrName,"attribute",inst)}inst._propertyToAttribute(property,info.attrName,value)}function runComputedEffects(inst,changedProps,oldProps,hasPaths){let computeEffects=inst[TYPES.COMPUTE];if(computeEffects){let inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}function runComputedEffect(inst,property,props,oldProps,info){let result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}function computeLinkedPaths(inst,path,value){let links=inst.__dataLinkedPaths;if(links){let link;for(let a in links){let b=links[a];if(Polymer.Path.isDescendant(a,path)){link=Polymer.Path.translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(Polymer.Path.isDescendant(b,path)){link=Polymer.Path.translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){nodeInfo.bindings=nodeInfo.bindings||[];let binding={kind,target,parts,literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);if(shouldAddListener(binding)){let{event,negate}=binding.parts[0];binding.listenerEvent=event||CaseMap.camelToDashCase(target)+"-changed";binding.listenerNegate=negate}let index=templateInfo.nodeInfoList.length;for(let i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if("attribute"===binding.kind&&"-"===binding.target[0]){console.warn("Cannot set attribute "+binding.target+" because \"-\" is not a valid attribute starting character")}else{let dependencies=part.dependencies,info={index,binding,part,evaluator:constructor};for(let j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if("string"==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info,trigger})}}}}function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){let node=nodeList[info.index],binding=info.binding,part=info.part;if(hasPaths&&part.source&&path.length>part.source.length&&"property"==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){let value=props[path];path=Polymer.Path.translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{let value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);applyBindingValue(inst,node,binding,part,value)}}function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,binding.target,binding.kind,node)}if("attribute"==binding.kind){inst._valueToNodeAttribute(node,value,binding.target)}else{let prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}function computeBindingValue(node,value,binding,part){if(binding.isCompound){let storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join("")}if("attribute"!==binding.kind){if("textContent"===binding.target||"value"===binding.target&&("input"===node.localName||"textarea"===node.localName)){value=value==void 0?"":value}}return value}function shouldAddListener(binding){return!!binding.target&&"attribute"!=binding.kind&&"text"!=binding.kind&&!binding.isCompound&&"{"===binding.parts[0].mode}function setupBindings(inst,templateInfo){let{nodeList,nodeInfoList}=templateInfo;if(nodeInfoList.length){for(let i=0;i<nodeInfoList.length;i++){let info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(let i=0,binding;i<bindings.length;i++){binding=bindings[i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}function setupCompoundStorage(node,binding){if(binding.isCompound){let storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length);for(let j=0;j<parts.length;j++){literals[j]=parts[j].literal}let target=binding.target;storage[target]=literals;if(binding.literal&&"property"==binding.kind){node[target]=binding.literal}}}function addNotifyListener(node,inst,binding){if(binding.listenerEvent){let part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&("object"!==typeof dynamicFn||dynamicFn[sig.methodName]);let info={methodName:sig.methodName,args:sig.args,methodInfo,dynamicFn};for(let i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}function runMethodEffect(inst,property,props,oldProps,info){let context=inst._methodHost||inst,fn=context[info.methodName];if(fn){let args=inst._marshalArgs(info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn("method `"+info.methodName+"` not defined")}}const emptyArray=[],IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")",ARGUMENT="(?:("+IDENT+"|"+("(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")")+"|"+("(?:"+("(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")")+"|"+("(?:"+"\"(?:[^\"\\\\]|\\\\.)*\""+")")+")")+")\\s*"+")",bindingRegex=new RegExp("(\\[\\[|{{)"+"\\s*"+"(?:(!)\\s*)?"+("("+IDENT+"\\s*"+("(?:"+"\\(\\s*"+"(?:"+("(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")")+"?"+")"+"\\)\\s*"+")")+"?"+")")+"(?:]]|}})","g");function literalFromParts(parts){let s="";for(let i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||""}return s}function parseMethod(expression){let m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){let methodName=m[1],sig={methodName,static:!0,args:emptyArray};if(m[2].trim()){let args=m[2].replace(/\\,/g,"&comma;").split(",");return parseArgs(args,sig)}else{return sig}}return null}function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){let arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}function parseArg(rawArg){let arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),a={name:arg,value:"",literal:!1},fc=arg[0];if("-"===fc){fc=arg[1]}if("0"<=fc&&"9">=fc){fc="#"}switch(fc){case"'":case"\"":a.value=arg.slice(1,-1);a.literal=!0;break;case"#":a.value=+arg;a.literal=!0;break;}if(!a.literal){a.rootProperty=Polymer.Path.root(arg);a.structured=Polymer.Path.isPath(arg);if(a.structured){a.wildcard=".*"==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}function notifySplices(inst,array,path,splices){let splicesPath=path+".splices";inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+".length",array.length);inst.__data[splicesPath]={indexSplices:null}}function notifySplice(inst,array,path,index,addedCount,removed){notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:"splice"}])}function upper(name){return name[0].toUpperCase()+name.substring(1)}Polymer.PropertyEffects=Polymer.dedupingMixin(superClass=>{const propertyEffectsBase=Polymer.TemplateStamp(Polymer.PropertyAccessors(superClass));class PropertyEffects extends propertyEffectsBase{constructor(){super();this.__isPropertyEffectsClient=!0;this.__dataCounter=0;this.__dataClientsReady;this.__dataPendingClients;this.__dataToNotify;this.__dataLinkedPaths;this.__dataHasPaths;this.__dataCompoundStorage;this.__dataHost;this.__dataTemp;this.__dataClientsInitialized;this.__data;this.__dataPending;this.__dataOld;this.__computeEffects;this.__reflectEffects;this.__notifyEffects;this.__propagateEffects;this.__observeEffects;this.__readOnly;this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return TYPES}_initializeProperties(){super._initializeProperties();hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}_initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}_initializeInstanceProperties(props){let readOnly=this[TYPES.READ_ONLY];for(let prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}_addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);let effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}_removePropertyEffect(property,type,effect){let effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}_hasPropertyEffect(property,type){let effects=this[type];return!!(effects&&effects[property])}_hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}_hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}_hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}_hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}_setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||Polymer.Path.root(Array.isArray(path)?path[0]:path)!==path){if(!isPathNotification){let old=Polymer.Path.get(this,path);path=Polymer.Path.set(this,path,value);if(!path||!super._shouldPropertyChange(path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(path,value,shouldNotify)}else{this[path]=value}}return!1}_setUnmanagedPropertyToNode(node,prop,value){if(value!==node[prop]||"object"==typeof value){node[prop]=value}}_setPendingProperty(property,value,shouldNotify){let isPath=this.__dataHasPaths&&Polymer.Path.isPath(property),prevProps=isPath?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}if(isPath){this.__dataTemp[property]=value}else{this.__data[property]=value}this.__dataPending[property]=value;if(isPath||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}_setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}_invalidateProperties(){if(this.__dataReady){this._flushProperties()}}_enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}_flushProperties(){this.__dataCounter++;super._flushProperties();this.__dataCounter--}_flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();this.__dataReady=!0}else{this.__enableOrFlushClients()}}__enableOrFlushClients(){let clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(let i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}_readyClients(){this.__enableOrFlushClients()}setProperties(props,setReadOnly){for(let path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}ready(){this._flushProperties();if(!this.__dataClientsReady){this._flushClients()}if(this.__dataPending){this._flushProperties()}}_propertiesChanged(currentProps,changedProps,oldProps){let hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;runComputedEffects(this,changedProps,oldProps,hasPaths);let notifyProps=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(changedProps,oldProps,hasPaths);this._flushClients();runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}if(1==this.__dataCounter){this.__dataTemp={}}}_propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}let templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}linkPaths(to,from){to=Polymer.Path.normalize(to);from=Polymer.Path.normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}unlinkPaths(path){path=Polymer.Path.normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}notifySplices(path,splices){let info={path:""},array=Polymer.Path.get(this,path,info);notifySplices(this,array,info.path,splices)}get(path,root){return Polymer.Path.get(root||this,path)}set(path,value,root){if(root){Polymer.Path.set(root,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}push(path,...items){let info={path:""},array=Polymer.Path.get(this,path,info),len=array.length,ret=array.push(...items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}pop(path){let info={path:""},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}splice(path,start,deleteCount,...items){var _Mathfloor=Math.floor;let info={path:""},array=Polymer.Path.get(this,path,info);if(0>start){start=array.length-_Mathfloor(-start)}else if(start){start=_Mathfloor(start)}let ret;if(2===arguments.length){ret=array.splice(start)}else{ret=array.splice(start,deleteCount,...items)}if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}shift(path){let info={path:""},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}unshift(path,...items){let info={path:""},array=Polymer.Path.get(this,path,info),ret=array.unshift(...items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}notifyPath(path,value){let propPath;if(1==arguments.length){let info={path:""};value=Polymer.Path.get(this,path,info);propPath=info.path}else if(Array.isArray(path)){propPath=Polymer.Path.normalize(path)}else{propPath=path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}_createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this["_set"+upper(property)]=function(value){this._setProperty(property,value)}}}_createPropertyObserver(property,method,dynamicFn){let info={property,method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(method,TYPES.OBSERVE,{fn:runObserverEffect,info,trigger:{name:method}})}}_createMethodObserver(expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed observer expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}_createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(property)+"-changed",property:property}})}_createReflectedProperty(property){let attr=this.constructor.attributeNameForProperty(property);if("-"===attr[0]){console.warn("Property "+property+" cannot be reflected to attribute "+attr+" because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.")}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}_createComputedProperty(property,expression,dynamicFn){let sig=parseMethod(expression);if(!sig){throw new Error("Malformed computed expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}_marshalArgs(args,path,props){const data=this.__data;let values=[];for(let i=0,l=args.length;i<l;i++){let arg=args[i],name=arg.name,v;if(arg.literal){v=arg.value}else{if(arg.structured){v=Polymer.Path.get(data,name);if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){let baseChanged=0===name.indexOf(path+"."),matches=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches?path:name,value:matches?props[path]:v,base:v}}else{values[i]=v}}return values}static addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}static createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}static createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}static createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}static createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}static createReflectedProperty(property){this.prototype._createReflectedProperty(property)}static createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}static bindTemplate(template){return this.prototype._bindTemplate(template)}_bindTemplate(template,instanceBinding){let templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;if(!wasPreBound){for(let prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){templateInfo=Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){let last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}static _addTemplatePropertyEffect(templateInfo,prop,effect){let hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;let effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}_stampTemplate(template){hostStack.beginHosting(this);let dom=super._stampTemplate(template);hostStack.endHosting(this);let templateInfo=this._bindTemplate(template,!0);templateInfo.nodeList=dom.nodeList;if(!templateInfo.wasPreBound){let nodes=templateInfo.childNodes=[];for(let n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;setupBindings(this,templateInfo);if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}_removeBoundDom(dom){let templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;let nodes=templateInfo.childNodes;for(let i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}static _parseTemplateNode(node,templateInfo,nodeInfo){let noted=super._parseTemplateNode(node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){let parts=this._parseBindings(node.textContent,templateInfo);if(parts){node.textContent=literalFromParts(parts)||" ";addBinding(this,templateInfo,nodeInfo,"text","textContent",parts);noted=!0}}return noted}static _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){let parts=this._parseBindings(value,templateInfo);if(parts){let origName=name,kind="property";if(capitalAttributeRegex.test(name)){kind="attribute"}else if("$"==name[name.length-1]){name=name.slice(0,-1);kind="attribute"}let literal=literalFromParts(parts);if(literal&&"attribute"==kind){if("class"==name&&node.hasAttribute("class")){literal+=" "+node.getAttribute(name)}node.setAttribute(name,literal)}if("input"===node.localName&&"value"===origName){node.setAttribute(origName,"")}node.removeAttribute(origName);if("property"===kind){name=Polymer.CaseMap.dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return super._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value)}}static _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){let noted=super._parseTemplateNestedTemplate(node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps;for(let source in hostProps){addBinding(this,templateInfo,nodeInfo,"property","_host_"+source,[{mode:"{",source,dependencies:[source]}])}return noted}static _parseBindings(text,templateInfo){let parts=[],lastIndex=0,m;while(null!==(m=bindingRegex.exec(text))){if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}let mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent="",colon=-1;if("{"==mode&&0<(colon=source.indexOf("::"))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}let signature=parseMethod(source),dependencies=[];if(signature){let{args,methodName}=signature;for(let i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}let dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{dependencies.push(source)}parts.push({source,mode,negate,customEvent,signature,dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}if(lastIndex&&lastIndex<text.length){let literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}static _evaluateBinding(inst,part,path,props,oldProps,hasPaths){let value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=Polymer.Path.get(inst,part.source)}else{if(hasPaths&&Polymer.Path.isPath(path)){value=Polymer.Path.get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}return PropertyEffects});let hostStack={stack:[],registerHost(inst){if(this.stack.length){let host=this.stack[this.stack.length-1];host._enqueueClient(inst)}},beginHosting(inst){this.stack.push(inst)},endHosting(inst){let stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}}})();</script><script>(function(){"use strict";Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(prototype){console.log("["+prototype.is+"]: registered")},register:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}}})();</script><script>(function(){"use strict";function normalizeProperties(props){const output={};for(let p in props){const o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}Polymer.PropertiesMixin=Polymer.dedupingMixin(superClass=>{const base=Polymer.PropertiesChanged(superClass);function superPropertiesClass(constructor){const superCtor=Object.getPrototypeOf(constructor);return superCtor.prototype instanceof PropertiesMixin?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){let props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))){const properties=constructor.properties;if(properties){props=normalizeProperties(properties)}}constructor.__ownProperties=props}return constructor.__ownProperties}class PropertiesMixin extends base{static get observedAttributes(){if(!this.hasOwnProperty("__observedAttributes")){Polymer.telemetry.register(this.prototype);const props=this._properties;this.__observedAttributes=props?Object.keys(props).map(p=>this.attributeNameForProperty(p)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}static _finalizeClass(){const props=ownProperties(this);if(props){this.createProperties(props)}}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}static typeForProperty(name){const info=this._properties[name];return info&&info.type}_initializeProperties(){Polymer.telemetry.instanceCount++;this.constructor.finalize();super._initializeProperties()}connectedCallback(){if(super.connectedCallback){super.connectedCallback()}this._enableProperties()}disconnectedCallback(){if(super.disconnectedCallback){super.disconnectedCallback()}}}return PropertiesMixin})})();</script><script>(function(){"use strict";const builtCSS=window.ShadyCSS&&window.ShadyCSS.cssBuild;Polymer.ElementMixin=Polymer.dedupingMixin(base=>{const polymerElementBase=Polymer.PropertiesMixin(Polymer.PropertyEffects(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;let props=constructor._properties;for(let p in props){let info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){if(!builtCSS){const templateStyles=template.content.querySelectorAll("style"),stylesWithImports=Polymer.StyleGather.stylesFromTemplate(template),linkedStyles=Polymer.StyleGather.stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild;for(let idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}let templateStyleIndex=0;for(let i=0;i<stylesWithImports.length;i++){let s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==s){s=s.cloneNode(!0);templateStyle.parentNode.insertBefore(s,templateStyle)}else{templateStyleIndex++}s.textContent=klass._processStyleText(s.textContent,baseURI)}}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}function getTemplateFromDomModule(is){let template=null;if(is&&Polymer.DomModule){template=Polymer.DomModule.import(is,"template");if(Polymer.strictTemplatePolicy&&!template){throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${is}`)}}return template}class PolymerElement extends polymerElementBase{static _finalizeClass(){super._finalizeClass();const observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}this._prepareTemplate()}static _prepareTemplate(){let template=this.template;if(template){if("string"===typeof template){let t=document.createElement("template");t.innerHTML=template;template=t}else if(!Polymer.legacyOptimizations){template=template.cloneNode(!0)}}this.prototype._template=template}static createProperties(props){for(let p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}static createObservers(observers,dynamicFns){const proto=this.prototype;for(let i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:getTemplateFromDomModule(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(value){this._template=value}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const meta=this.importMeta;if(meta){this._importPath=Polymer.ResolveUrl.pathFromUrl(meta.url)}else{const module=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super();this._template;this._importPath;this.rootPath;this.importPath;this.root;this.$}_initializeProperties(){this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);super._initializeProperties();this.rootPath=Polymer.rootPath;this.importPath=this.constructor.importPath;let p$=propertyDefaults(this.constructor);if(!p$){return}for(let p in p$){let info=p$[p];if(!this.hasOwnProperty(p)){let value="function"==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}static _processStyleText(cssText,baseURI){return Polymer.ResolveUrl.resolveCss(cssText,baseURI)}static _finalizeTemplate(is){const template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;const importPath=this.importPath,baseURI=importPath?Polymer.ResolveUrl.resolveUrl(importPath):"";processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}super.connectedCallback()}ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}super.ready()}_readyClients(){if(this._template){this.root=this._attachDom(this.root)}super._readyClients()}_attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+"Polymer.Element can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}resolveUrl(url,base){if(!base&&this.importPath){base=Polymer.ResolveUrl.resolveUrl(this.importPath)}return Polymer.ResolveUrl.resolveUrl(url,base)}static _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return super._parseTemplateContent(template,templateInfo,nodeInfo)}}return PolymerElement});Polymer.updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}}})();</script><script>(function(){"use strict";class LiteralString{constructor(string){this.value=string.toString()}toString(){return this.value}}function literalValue(value){if(value instanceof LiteralString){return value.value}else{throw new Error(`non-literal value passed to Polymer.htmlLiteral: ${value}`)}}function htmlValue(value){if(value instanceof HTMLTemplateElement){return value.innerHTML}else if(value instanceof LiteralString){return literalValue(value)}else{throw new Error(`non-template value passed to Polymer.html: ${value}`)}}Polymer.html=function(strings,...values){const template=document.createElement("template");template.innerHTML=values.reduce((acc,v,idx)=>acc+htmlValue(v)+strings[idx+1],strings[0]);return template};Polymer.htmlLiteral=function(strings,...values){return new LiteralString(values.reduce((acc,v,idx)=>acc+literalValue(v)+strings[idx+1],strings[0]))}})();</script><script>(function(){"use strict";Polymer.Element=Polymer.ElementMixin(HTMLElement);Polymer.html=Polymer.html})();</script><script>(function(){"use strict";const RAMLAware={defaultScope:"default",ramlAwares:[],raml:{},attachRamlAware:function(aware){if(-1===this.ramlAwares.indexOf(aware)){this.ramlAwares.push(aware);if(!aware.scope){aware.scope=this.defaultScope}else{this.scopeChanged(aware)}}},detachRamlAware:function(aware){const index=this.ramlAwares.indexOf(aware);if(-1!==index){this.ramlAwares.splice(index,1);this.cleanUpData(aware.scope)}else{console.warn("The aware wasn't attached!")}},setRaml:function(srcAware){const scope=srcAware.scope||this.defaultScope,raml=srcAware.raml||void 0;this.raml[scope]=raml;const defaultScope=this.defaultScope;this.ramlAwares.forEach(function(aware){if(aware===srcAware){return}const localScope=aware.scope||defaultScope;if(localScope!==scope){return}aware.raml=raml})},scopeChanged:function(aware){const scope=aware.scope||this.defaultScope;if(this.raml[scope]){aware.raml=this.raml[scope]}},cleanUpData:function(scope){const awares=this.ramlAwares;for(var i=0,len=awares.length;i<len;i++){if(awares[i].scope===scope){return}}delete this.raml[scope]}};class RamlAware extends Polymer.Element{static get is(){return"raml-aware"}static get properties(){return{scope:{type:String,observer:"_scopeChanged"},raml:{type:Object,notify:!0}}}static get observers(){return["_ramlChanged(raml.*)"]}connectedCallback(){super.connectedCallback();RAMLAware.attachRamlAware(this)}disconnectedCallback(){super.disconnectedCallback();RAMLAware.detachRamlAware(this)}_scopeChanged(){RAMLAware.scopeChanged(this)}_ramlChanged(){RAMLAware.setRaml(this)}}window.customElements.define(RamlAware.is,RamlAware)})();</script><script>(function(){"use strict";var l=!(window.ShadyDOM&&window.ShadyDOM.inUse),p;function r(a){p=a&&a.shimcssproperties?!1:l||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}var t;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(t=window.ShadyCSS.cssBuild);var aa=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?p=window.ShadyCSS.nativeCss:window.ShadyCSS?(r(window.ShadyCSS),window.ShadyCSS=void 0):r(window.WebComponents&&window.WebComponents.flags);var u=p,v=t;function w(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}function x(a){a=a.replace(ba,"").replace(ca,"");var c=a,e=new w;e.start=0;e.end=c.length;for(var d=e,f=0,g=c.length;f<g;f++)if("{"===c[f]){d.rules||(d.rules=[]);var h=d,k=h.rules[h.rules.length-1]||null;d=new w;d.start=f+1;d.parent=h;d.previous=k;h.rules.push(d)}else"}"===c[f]&&(d.end=f+1,d=d.parent||e);return y(e,a)}function y(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=da(c),c=c.replace(z," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?0===c.indexOf("@media")?a.type=A:c.match(ea)&&(a.type=B,a.keyframesName=a.selector.split(z).pop()):a.type=0===c.indexOf("--")?C:D);if(c=a.rules)for(var e=0,d=c.length,f=void 0;e<d&&(f=c[e]);e++)y(f,b);return a}function da(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})}function E(a,b,c){c=void 0===c?"":c;var e="";if(a.cssText||a.rules){var d=a.rules,f;if(f=d)f=d[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=d.length,h=void 0;f<g&&(h=d[f]);f++)e=E(h,b,e)}else b?b=a.cssText:(b=a.cssText,b=b.replace(fa,"").replace(ha,""),b=b.replace(ia,"").replace(ja,"")),(e=b.trim())&&(e="  "+e+"\n")}e&&(a.selector&&(c+=a.selector+" {\n"),c+=e,a.selector&&(c+="}\n\n"));return c}var D=1,B=7,A=4,C=1E3,ba=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ca=/@import[^;]*;/gim,fa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,ha=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ia=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ja=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,ea=/^@[^\s]*keyframes/,z=/\s+/g,G=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,H=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ka=/@media\s(.*)/,I=new Set;function J(a){if(!a)return"";"string"===typeof a&&(a=x(a));return E(a,u)}function K(a){!a.__cssRules&&a.textContent&&(a.__cssRules=x(a.textContent));return a.__cssRules||null}function L(a,b,c,e){if(a){var d=!1,f=a.type;if(e&&f===A){var g=a.selector.match(ka);g&&(window.matchMedia(g[1]).matches||(d=!0))}f===D?b(a):c&&f===B?c(a):f===C&&(d=!0);if((a=a.rules)&&!d)for(d=0,f=a.length,g=void 0;d<f&&(g=a[d]);d++)L(g,b,c,e)}}function M(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");a:{for(var e=0,d=c+3,f=a.length;d<f;d++)if("("===a[d])e++;else if(")"===a[d]&&0===--e)break a;d=-1}e=a.substring(c+4,d);c=a.substring(0,c);a=M(a.substring(d+1),b);d=e.indexOf(",");return-1===d?b(c,e.trim(),"",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function N(a){if(void 0!==v)return v;if(void 0===a.__cssBuild){var b=a.getAttribute("css-build");if(b)a.__cssBuild=b;else{a:{b="template"===a.localName?a.content.firstChild:a.firstChild;if(b instanceof Comment&&(b=b.textContent.trim().split(":"),"css-build"===b[0])){b=b[1];break a}b=""}if(""!==b){var c="template"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.__cssBuild=b}}return a.__cssBuild||""}var la=/;\s*/m,ma=/^\s*(initial)|(inherit)\s*$/,O=/\s*!important/;function P(){this.a={}}P.prototype.set=function(a,b){a=a.trim();this.a[a]={h:b,i:{}}};P.prototype.get=function(a){a=a.trim();return this.a[a]||null};var Q=null;function R(){this.b=this.c=null;this.a=new P}R.prototype.o=function(a){a=H.test(a)||G.test(a);H.lastIndex=0;G.lastIndex=0;return a};R.prototype.m=function(a,b){if(void 0===a._gatheredStyle){for(var c=[],e=a.content.querySelectorAll("style"),d=0,f;d<e.length;d++){f=e[d];if(f.hasAttribute("shady-unscoped")){if(!l){var g=f.textContent;I.has(g)||(I.add(g),g=f.cloneNode(!0),document.head.appendChild(g));f.parentNode.removeChild(f)}}else c.push(f.textContent),f.parentNode.removeChild(f)}(c=c.join("").trim())?(e=document.createElement("style"),e.textContent=c,a.content.insertBefore(e,a.content.firstChild),c=e):c=null;a._gatheredStyle=c}return(a=a._gatheredStyle)?this.j(a,b):null};R.prototype.j=function(a,b){b=void 0===b?"":b;var c=K(a);this.l(c,b);a.textContent=J(c);return c};R.prototype.f=function(a){var b=this,c=K(a);L(c,function(a){":root"===a.selector&&(a.selector="html");b.g(a)});a.textContent=J(c);return c};R.prototype.l=function(a,b){var c=this;this.c=b;L(a,function(a){c.g(a)});this.c=null};R.prototype.g=function(a){a.cssText=na(this,a.parsedCssText,a);":root"===a.selector&&(a.selector=":host > *")};function na(a,b,c){b=b.replace(G,function(b,d,f,g){return oa(a,b,d,f,g,c)});return S(a,b,c)}function pa(a,b){for(var c=b;c.parent;)c=c.parent;var e={},d=!1;L(c,function(c){(d=d||c===b)||c.selector===b.selector&&Object.assign(e,T(a,c.parsedCssText))});return e}function S(a,b,c){for(var e;e=H.exec(b);){var d=e[0],f=e[1];e=e.index;var g=b.slice(0,e+d.indexOf("@apply"));b=b.slice(e+d.length);var h=c?pa(a,c):{};Object.assign(h,T(a,g));d=void 0;var k=a;f=f.replace(la,"");var n=[],m=k.a.get(f);m||(k.a.set(f,{}),m=k.a.get(f));if(m){k.c&&(m.i[k.c]=!0);var q=m.h;for(d in q)k=h&&h[d],m=[d,": var(",f,"_-_",d],k&&m.push(",",k.replace(O,"")),m.push(")"),O.test(q[d])&&m.push(" !important"),n.push(m.join(""))}d=n.join("; ");b=g+d+b;H.lastIndex=e+d.length}return b}function T(a,b,c){c=void 0===c?!1:c;b=b.split(";");for(var e,d,f={},g=0,h;g<b.length;g++)if(e=b[g])if(h=e.split(":"),1<h.length){e=h[0].trim();d=h.slice(1).join(":");if(c){var k=a;h=e;var n=ma.exec(d);n&&(n[1]?(k.b||(k.b=document.createElement("meta"),k.b.setAttribute("apply-shim-measure",""),k.b.style.all="initial",document.head.appendChild(k.b)),h=window.getComputedStyle(k.b).getPropertyValue(h)):h="apply-shim-inherit",d=h)}f[e]=d}return f}function qa(a,b){if(Q)for(var c in b.i)c!==a.c&&Q(c)}function oa(a,b,c,e,d,f){e&&M(e,function(b,c){c&&a.a.get(c)&&(d="@apply "+c+";")});if(!d)return b;var g=S(a,""+d,f);f=b.slice(0,b.indexOf("--"));var h=g=T(a,g,!0),k=a.a.get(c),n=k&&k.h;n?h=Object.assign(Object.create(n),g):a.a.set(c,h);var m=[],q,Z=!1;for(q in h){var F=g[q];void 0===F&&(F="initial");!n||q in n||(Z=!0);m.push(c+"_-_"+q+": "+F)}Z&&qa(a,k);k&&(k.h=h);e&&(f=b+";"+f);return f+m.join("; ")+";"}R.prototype.detectMixin=R.prototype.o;R.prototype.transformStyle=R.prototype.j;R.prototype.transformCustomStyle=R.prototype.f;R.prototype.transformRules=R.prototype.l;R.prototype.transformRule=R.prototype.g;R.prototype.transformTemplate=R.prototype.m;R.prototype._separator="_-_";Object.defineProperty(R.prototype,"invalidCallback",{get:function(){return Q},set:function(a){Q=a}});var U={},ra=Promise.resolve();function sa(a){if(a=U[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function ta(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function ua(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a._validating||(a._validating=!0,ra.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a._validating=!1}))}var V=new R;function W(){this.a=null;V.invalidCallback=sa}function X(a){!a.a&&window.ShadyCSS.CustomStyleInterface&&(a.a=window.ShadyCSS.CustomStyleInterface,a.a.transformCallback=function(a){V.f(a)},a.a.validateCallback=function(){requestAnimationFrame(function(){a.a.enqueued&&a.flushCustomStyles()})})}W.prototype.prepareTemplate=function(a,b){X(this);""===N(a)&&(U[b]=a,b=V.m(a,b),a._styleAst=b)};W.prototype.flushCustomStyles=function(){X(this);if(this.a){var a=this.a.processStyles();if(this.a.enqueued){for(var b=0,c;b<a.length;b++){c=this.a.getStyleForCustomStyle(a[b]);c&&V.f(c)}this.a.enqueued=!1}}};W.prototype.styleSubtree=function(a,b){X(this);if(b)for(var c in b)null===c?a.style.removeProperty(c):a.style.setProperty(c,b[c]);if(a.shadowRoot)for(this.styleElement(a),a=a.shadowRoot.children||a.shadowRoot.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b]);else for(a=a.children||a.childNodes,b=0;b<a.length;b++)this.styleSubtree(a[b])};W.prototype.styleElement=function(a){X(this);var b=a.localName,c;b?-1<b.indexOf("-")?c=b:c=a.getAttribute&&a.getAttribute("is")||"":c=a.is;b=U[c];if(!(b&&""!==N(b)||!b||ta(b))){if(ta(b)||b._applyShimValidatingVersion!==b._applyShimNextVersion)this.prepareTemplate(b,c),ua(b);if(a=a.shadowRoot)if(a=a.querySelector("style"))a.__cssRules=b._styleAst,a.textContent=J(b._styleAst)}};W.prototype.styleDocument=function(a){X(this);this.styleSubtree(document.body,a)};if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var Y=new W,va=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(a,b){Y.flushCustomStyles();Y.prepareTemplate(a,b)},prepareTemplateStyles:function(a,b,c){window.ShadyCSS.prepareTemplate(a,b,c)},prepareTemplateDom:function(){},styleSubtree:function(a,b){Y.flushCustomStyles();Y.styleSubtree(a,b)},styleElement:function(a){Y.flushCustomStyles();Y.styleElement(a)},styleDocument:function(a){Y.flushCustomStyles();Y.styleDocument(a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function(){Y.flushCustomStyles()},nativeCss:u,nativeShadow:l,cssBuild:v,disableRuntime:aa};va&&(window.ShadyCSS.CustomStyleInterface=va)}window.ShadyCSS.ApplyShim=V}).call(this);</script><script>(function(){"use strict";class Debouncer{constructor(){this._asyncModule=null;this._callback=null;this._timer=null}setConfig(asyncModule,callback){this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(()=>{this._timer=null;debouncerQueue.delete(this);this._callback()})}cancel(){if(this.isActive()){this._cancelAsync();debouncerQueue.delete(this)}}_cancelAsync(){if(this.isActive()){this._asyncModule.cancel(this._timer);this._timer=null}}flush(){if(this.isActive()){this.cancel();this._callback()}}isActive(){return null!=this._timer}static debounce(debouncer,asyncModule,callback){if(debouncer instanceof Debouncer){debouncer._cancelAsync()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}}Polymer.Debouncer=Debouncer;let debouncerQueue=new Set;Polymer.enqueueDebouncer=function(debouncer){debouncerQueue.add(debouncer)};Polymer.flushDebouncers=function(){const didFlush=!!debouncerQueue.size;debouncerQueue.forEach(debouncer=>{try{debouncer.flush()}catch(e){setTimeout(()=>{throw e})}});return didFlush}})();</script><script>(function(){"use strict";var _Mathabs=Math.abs;let HAS_NATIVE_TA="string"===typeof document.head.style.touchAction,GESTURE_KEY="__polymerGestures",HANDLED_OBJ="__polymerGesturesHandled",TOUCH_ACTION="__polymerGesturesTouchAction",TAP_DISTANCE=25,TRACK_DISTANCE=5,MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}let SUPPORTS_PASSIVE=!1;(function(){try{let opts=Object.defineProperty({},"passive",{get(){SUPPORTS_PASSIVE=!0}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||"touchend"===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.passiveTouchGestures){return{passive:!0}}else{}}let IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),GestureRecognizer=function(){};GestureRecognizer.prototype.reset;GestureRecognizer.prototype.mousedown;GestureRecognizer.prototype.mousemove;GestureRecognizer.prototype.mouseup;GestureRecognizer.prototype.touchstart;GestureRecognizer.prototype.touchmove;GestureRecognizer.prototype.touchend;GestureRecognizer.prototype.click;const clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},canBeDisabled={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function canBeLabelled(el){return labellable[el.localName]||!1}function matchingLabels(el){let labels=Array.from(el.labels||[]);if(!labels.length){labels=[];let root=el.getRootNode();if(el.id){let matching=root.querySelectorAll(`label[for = ${el.id}]`);for(let i=0;i<matching.length;i++){labels.push(matching[i])}}}return labels}let mouseCanceller=function(mouseEvent){let sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}mouseEvent[HANDLED_OBJ]={skip:!0};if("click"===mouseEvent.type){let clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(let i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if("label"===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){let ownerLabels=matchingLabels(path[i]);for(let j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){let events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS;for(let i=0,en;i<events.length;i++){en=events[i];if(setup){clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function hasLeftMouseButton(ev){let type=ev.type;if(!isMouseEvent(type)){return!1}if("mousemove"===type){let buttons=ev.buttons===void 0?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}return!!(1&buttons)}else{let button=ev.button===void 0?0:ev.button;return 0===button}}function isSyntheticClick(ev){if("click"===ev.type){if(0===ev.detail){return!0}let t=Gestures._findOriginalTarget(ev);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE){return!0}let bcr=t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}let POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){let ta="auto",path=ev.composedPath&&ev.composedPath();if(path){for(let i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",function(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null})},SUPPORTS_PASSIVE?{passive:!0}:!1);const Gestures={gestures:{},recognizers:[],deepTargetFind:function(x,y){let node=document.elementFromPoint(x,y),next=node;while(next&&next.shadowRoot&&!window.ShadyDOM){let oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);if(oldNext===next){break}if(next){node=next}}return node},_findOriginalTarget:function(ev){if(ev.composedPath){const targets=ev.composedPath();return 0<targets.length?targets[0]:ev.target}return ev.target},_handleNative:function(ev){let handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}let gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if("touch"===type.slice(0,5)){ev=ev;let t=ev.changedTouches[0];if("touchstart"===type){if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if("touchstart"===type||"touchmove"===type){Gestures._handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];if(handled.skip){return}for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}for(let i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=!0;r[type](ev)}}},_handleTouchAction:function(ev){let t=ev.changedTouches[0],type=ev.type;if("touchstart"===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if("touchmove"===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;let ta=firstTouchAction(ev),prevent=!1,dx=_Mathabs(POINTERSTATE.touch.x-t.clientX),dy=_Mathabs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){}else if("none"===ta){prevent=!0}else if("pan-x"===ta){prevent=dy>dx}else if("pan-y"===ta){prevent=dx>dy}if(prevent){ev.preventDefault()}else{Gestures.prevent("track")}}},addListener:function(node,evType,handler){if(this.gestures[evType]){this._add(node,evType,handler);return!0}return!1},removeListener:function(node,evType,handler){if(this.gestures[evType]){this._remove(node,evType,handler);return!0}return!1},_add:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&"click"!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){this.setTouchAction(node,recognizer.touchAction)}},_remove:function(node,evType,handler){let recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(let i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)},register:function(recog){this.recognizers.push(recog);for(let i=0;i<recog.emits.length;i++){this.gestures[recog.emits[i]]=recog}},_findRecognizerByEvent:function(evName){for(let i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(let j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null},setTouchAction:function(node,value){if(HAS_NATIVE_TA){Polymer.Async.microTask.run(()=>{node.style.touchAction=value})}node[TOUCH_ACTION]=value},_fire:function(target,type,detail){let ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);if(ev.defaultPrevented){let preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}},prevent:function(evName){let recognizer=this._findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}},resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}};Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this;trackDocument(this.info,function(e){if(!hasLeftMouseButton(e)){self._fire("up",t,e);untrackDocument(self.info)}},function(e){if(hasLeftMouseButton(e)){self._fire("up",t,e)}untrackDocument(self.info)});this._fire("down",t,e)},touchstart:function(e){this._fire("down",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this._fire("up",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},_fire:function(type,target,event,preventer){Gestures._fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(move){if(this.moves.length>2){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},hasMovedEnough:function(x,y){if(this.info.prevent){return!1}if(this.info.started){return!0}let dx=_Mathabs(this.info.x-x),dy=_Mathabs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function(e){if(!hasLeftMouseButton(e)){return}let t=Gestures._findOriginalTarget(e),self=this,movefn=function(e){let x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?"mouseup"===e.type?"end":"track":"start";if("start"===self.info.state){Gestures.prevent("tap")}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}self._fire(t,e);self.info.started=!0}};trackDocument(this.info,movefn,function(e){if(self.info.started){movefn(e)}untrackDocument(self.info)});this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){let ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if("start"===this.info.state){Gestures.prevent("tap")}this.info.addMove({x:x,y:y});this._fire(t,ct);this.info.state="track";this.info.started=!0}},touchend:function(e){let t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});this._fire(t,ct,e)}},_fire:function(target,touch){let secondlast=this.info.moves[this.info.moves.length-2],lastmove=this.info.moves[this.info.moves.length-1],dx=lastmove.x-this.info.x,dy=lastmove.y-this.info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}Gestures._fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function(e){if(hasLeftMouseButton(e)){this.save(e)}},click:function(e){if(hasLeftMouseButton(e)){this.forward(e)}},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,preventer){let dx=_Mathabs(e.clientX-this.info.x),dy=_Mathabs(e.clientY-this.info.y),t=Gestures._findOriginalTarget(preventer||e);if(!t||canBeDisabled[t.localName]&&t.hasAttribute("disabled")){return}if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){if(!this.info.prevent){Gestures._fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}});Gestures.findOriginalTarget=Gestures._findOriginalTarget;Gestures.add=Gestures.addListener;Gestures.remove=Gestures.removeListener;Polymer.Gestures=Gestures})();</script><script>(function(){"use strict";const gestures=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(superClass=>{return class extends superClass{_addEventListenerToNode(node,eventName,handler){if(!gestures.addListener(node,eventName,handler)){super._addEventListenerToNode(node,eventName,handler)}}_removeEventListenerFromNode(node,eventName,handler){if(!gestures.removeListener(node,eventName,handler)){super._removeEventListenerFromNode(node,eventName,handler)}}}})})();</script><script>(function(){"use strict";const HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,DIR_CHECK=/:dir\((?:ltr|rtl)\)/,SHIM_SHADOW=!!(window.ShadyDOM&&window.ShadyDOM.inUse),DIR_INSTANCES=[];let observer=null,DOCUMENT_DIR="";function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute("dir")}function setRTL(instance){if(!instance.__autoDirOptOut){instance.setAttribute("dir",DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute("dir");for(let i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}Polymer.DirMixin=Polymer.dedupingMixin(base=>{if(!SHIM_SHADOW){if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]})}}const elementBase=Polymer.PropertyAccessors(base);class Dir extends elementBase{static _processStyleText(cssText,baseURI){cssText=super._processStyleText(cssText,baseURI);if(!SHIM_SHADOW&&DIR_CHECK.test(cssText)){cssText=this._replaceDirInCssText(cssText);this.__activateDir=!0}return cssText}static _replaceDirInCssText(text){let replacedText=text;replacedText=replacedText.replace(HOST_DIR,":host([dir=\"$1\"])");replacedText=replacedText.replace(EL_DIR,":host([dir=\"$2\"]) $1");return replacedText}constructor(){super();this.__autoDirOptOut=!1}ready(){super.ready();this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){if(elementBase.prototype.connectedCallback){super.connectedCallback()}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){super.disconnectedCallback()}if(this.constructor.__activateDir){const idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}Dir.__activateDir=!1;return Dir})})();</script><script>(function(){"use strict";function whenImportsReady(cb){if(window.HTMLImports){HTMLImports.whenReady(cb)}else{cb()}}Polymer.importHref=function(href,onload,onerror,optAsync){let link=document.head.querySelector("link[href=\""+href+"\"][import-href]");if(!link){link=document.createElement("link");link.rel="import";link.href=href;link.setAttribute("import-href","")}if(optAsync){link.setAttribute("async","")}let cleanup=function(){link.removeEventListener("load",loadListener);link.removeEventListener("error",errorListener)},loadListener=function(event){cleanup();link.__dynamicImportLoaded=!0;if(onload){whenImportsReady(()=>{onload(event)})}},errorListener=function(event){cleanup();if(link.parentNode){link.parentNode.removeChild(link)}if(onerror){whenImportsReady(()=>{onerror(event)})}};link.addEventListener("load",loadListener);link.addEventListener("error",errorListener);if(null==link.parentNode){document.head.appendChild(link)}else if(link.__dynamicImportLoaded){link.dispatchEvent(new Event("load"))}return link}})();</script><script>(function(){"use strict";let scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(let i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){const context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(()=>{throw e})}}Polymer.RenderStatus={beforeNextRender:function(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])},afterNextRender:function(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])},flush:function(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}}})();</script><script>(function(){"use strict";function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents){window.addEventListener("WebComponentsReady",resolve)}else{if("interactive"===document.readyState||"complete"===document.readyState){resolve()}else{window.addEventListener("DOMContentLoaded",resolve)}}})();</script><script>(function(){"use strict";function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}const EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){let rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount);for(let i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}for(let j=0;j<columnCount;j++)distances[0][j]=j;for(let i=1;i<rowCount;i++){for(let j=1;j<columnCount;j++){if(equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{let north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}}}return distances}function spliceOperationsFromEditDistances(distances){let i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}let northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){let prefixCount=0,suffixCount=0,splice,minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];let ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;let splices=[],index=currentStart,oldIndex=oldStart;for(let i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(let i=0;i<searchLength;i++)if(!equals(current[i],old[i]))return i;return searchLength}function sharedSuffix(current,old,searchLength){let index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2]))count++;return count}function equals(currentValue,previousValue){return currentValue===previousValue}Polymer.ArraySplice={calculateSplices:function(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}}})();</script><script>(function(){"use strict";function isSlot(node){return"slot"===node.localName}Polymer.FlattenedNodesObserver=class{static getFlattenedNodes(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(node=>{if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce((a,b)=>a.concat(b),[])}}constructor(target,callback){this._shadyChildrenObserver=null;this._nativeChildrenObserver=null;this._connected=!1;this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;this._boundSchedule=()=>{this._schedule()};this.connect();this._schedule()}connect(){if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,mutations=>{this._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(mutations=>{this._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}_schedule(){if(!this._scheduled){this._scheduled=!0;Polymer.Async.microTask.run(()=>this.flush())}}_processMutations(mutations){this._processSlotMutations(mutations);this.flush()}_processSlotMutations(mutations){if(mutations){for(let i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;let info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=Polymer.ArraySplice.calculateSplices(newNodes,this._effectiveNodes);for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}for(let i=0,s;i<splices.length&&(s=splices[i]);i++){for(let j=s.index;j<s.index+s.addedCount;j++){info.addedNodes.push(newNodes[j])}}this._effectiveNodes=newNodes;let didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}_listenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener("slotchange",this._boundSchedule)}}}_unlistenSlots(nodeList){for(let i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener("slotchange",this._boundSchedule)}}}}})();</script><script>(function(){"use strict";Polymer.flush=function(){let shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=Polymer.flushDebouncers()}while(shadyDOM||debouncers)}})();</script><script>(function(){"use strict";const p=Element.prototype,normalizedMatchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)};class DomApi{constructor(node){this.node=node}observeNodes(callback){return new Polymer.FlattenedNodesObserver(this.node,callback)}unobserveNodes(observerHandle){observerHandle.disconnect()}notifyObserver(){}deepContains(node){if(this.node.contains(node)){return!0}let n=node,doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node){n=n.parentNode||n.host}return n===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}importNode(node,deep){let doc=this.node instanceof Document?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(selector){let c$=this.getEffectiveChildNodes(),list=[];for(let i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}get activeElement(){let node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}(function(proto,methods){for(let i=0,method;i<methods.length;i++){method=methods[i];proto[method]=function(){return this.node[method].apply(this.node,arguments)}}})(DomApi.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]);(function(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},configurable:!0})}})(DomApi.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]);(function(proto,properties){for(let i=0,name;i<properties.length;i++){name=properties[i];Object.defineProperty(proto,name,{get:function(){const domApi=this;return domApi.node[name]},set:function(value){this.node[name]=value},configurable:!0})}})(DomApi.prototype,["textContent","innerHTML"]);class EventApi{constructor(event){this.event=event}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Polymer.DomApi=DomApi;Polymer.DomApi.prototype.cloneNode;Polymer.DomApi.prototype.appendChild;Polymer.DomApi.prototype.insertBefore;Polymer.DomApi.prototype.removeChild;Polymer.DomApi.prototype.replaceChild;Polymer.DomApi.prototype.setAttribute;Polymer.DomApi.prototype.removeAttribute;Polymer.DomApi.prototype.querySelector;Polymer.DomApi.prototype.querySelectorAll;Polymer.dom=function(obj){obj=obj||document;if(!obj.__domApi){let helper;if(obj instanceof Event){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi};Polymer.dom.matchesSelector=matchesSelector;Polymer.dom.flush=Polymer.flush;Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})();</script><script>(function(){"use strict";let styleInterface=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(base=>{const legacyElementBase=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(base))),DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class LegacyElement extends legacyElementBase{constructor(){super();this.isAttached;this.__boundListeners;this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback();this.isAttached=!0;this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback();this.isAttached=!1;this.detached()}detached(){}attributeChangedCallback(name,old,value,namespace){if(old!==value){super.attributeChangedCallback(name,old,value,namespace);this.attributeChanged(name,old,value)}}attributeChanged(){}_initializeProperties(){let proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty("__hasRegisterFinished")){this._registered();proto.__hasRegisterFinished=!0}super._initializeProperties();this.root=this;this.created();this._applyListeners()}_registered(){}ready(){this._ensureAttributes();super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(value){return this._serializeValue(value)}deserialize(value,type){return this._deserializeValue(value,type)}reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(node||this,value,attribute)}extend(prototype,api){if(!(prototype&&api)){return prototype||api}let n$=Object.getOwnPropertyNames(api);for(let i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}mixin(target,source){for(let i in source){target[i]=source[i]}return target}chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}instanceTemplate(template){let content=this.constructor._contentForTemplate(template),dom=document.importNode(content,!0);return dom}fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;let event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;let node=options.node||this;node.dispatchEvent(event);return event}listen(node,eventName,methodName){node=node||this;let hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}let key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}unlisten(node,eventName,methodName){node=node||this;let bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}setScrollDirection(direction,node){Polymer.Gestures.setTouchAction(node||this,DIRECTION_MAP[direction]||"auto")}$$(slctr){return this.root.querySelector(slctr)}get domHost(){let root=this.getRootNode();return root instanceof DocumentFragment?root.host:root}distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}getEffectiveChildNodes(){const thisEl=this,domApi=Polymer.dom(thisEl);return domApi.getEffectiveChildNodes()}queryDistributedElements(selector){const thisEl=this,domApi=Polymer.dom(thisEl);return domApi.queryDistributedElements(selector)}getEffectiveChildren(){let list=this.getEffectiveChildNodes();return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let cn=this.getEffectiveChildNodes(),tc=[];for(let i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join("")}queryEffectiveChildren(selector){let e$=this.queryDistributedElements(selector);return e$&&e$[0]}queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}getContentChildNodes(slctr){let content=this.root.querySelector(slctr||"slot");return content?Polymer.dom(content).getDistributedNodes():[]}getContentChildren(slctr){let children=this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}isLightDescendant(node){const thisNode=this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}isLocalDescendant(node){return this.root===node.getRootNode()}scopeSubtree(){}getComputedStyleValue(property){return styleInterface.getComputedStyleValue(this,property)}debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Polymer.Debouncer.debounce(this._debouncers[jobName],0<wait?Polymer.Async.timeOut.after(wait):Polymer.Async.microTask,callback.bind(this))}isDebouncerActive(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}flushDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}cancelDebouncer(jobName){this._debouncers=this._debouncers||{};let debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}async(callback,waitTime){return 0<waitTime?Polymer.Async.timeOut.run(callback.bind(this),waitTime):~Polymer.Async.microTask.run(callback.bind(this))}cancelAsync(handle){0>handle?Polymer.Async.microTask.cancel(~handle):Polymer.Async.timeOut.cancel(handle)}create(tag,props){let elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(let n in props){elt[n]=props[n]}}}return elt}importHref(href,onload,onerror,optAsync){let loadFn=onload?onload.bind(this):null,errorFn=onerror?onerror.bind(this):null;return Polymer.importHref(href,loadFn,errorFn,optAsync)}elementMatches(selector,node){return Polymer.dom.matchesSelector(node||this,selector)}toggleAttribute(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}toggleClass(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}transform(transformText,node){node=node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}translate3d(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)}arrayDelete(arrayOrPath,item){let index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{let arr=Polymer.Path.get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}_logger(level,args){if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case"log":case"warn":case"error":console[level](...args);}}_log(...args){this._logger("log",args)}_warn(...args){this._logger("warn",args)}_error(...args){this._logger("error",args)}_logf(methodName,...args){return["[%s::%s]",this.is,methodName,...args]}}LegacyElement.prototype.is="";return LegacyElement})})();</script><script>(function(){"use strict";const lifecycleProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},excludeOnInfo={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},excludeOnBehaviors=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},excludeOnInfo);function copyProperties(source,target,excludeProps){const noAccessors=source._noAccessors,propertyNames=Object.getOwnPropertyNames(source);for(let i=0,p;i<propertyNames.length;i++){p=propertyNames[i];if(p in excludeProps){continue}if(noAccessors){target[p]=source[p]}else{let pd=Object.getOwnPropertyDescriptor(source,p);if(pd){pd.configurable=!0;Object.defineProperty(target,p,pd)}}}}function applyBehaviors(proto,behaviors,lifecycle){for(let i=0;i<behaviors.length;i++){applyInfo(proto,behaviors[i],lifecycle,excludeOnBehaviors)}}function applyInfo(proto,info,lifecycle,excludeProps){copyProperties(info,proto,excludeProps);for(let p in lifecycleProps){if(info[p]){lifecycle[p]=lifecycle[p]||[];lifecycle[p].push(info[p])}}}function flattenBehaviors(behaviors,list,exclude){list=list||[];for(let i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn("behavior is null, check for missing or 404 import")}}return list}function GenerateClassFromInfo(info,Base,behaviors){let behaviorList;const lifecycle={};class PolymerGenerated extends Base{static _finalizeClass(){if(!this.hasOwnProperty(window.JSCompiler_renameProperty("generatedFrom",this))){super._finalizeClass()}else{if(behaviorList){for(let i=0,b;i<behaviorList.length;i++){b=behaviorList[i];if(b.properties){this.createProperties(b.properties)}if(b.observers){this.createObservers(b.observers,b.properties)}}}if(info.properties){this.createProperties(info.properties)}if(info.observers){this.createObservers(info.observers,info.properties)}this._prepareTemplate()}}static get properties(){const properties={};if(behaviorList){for(let i=0;i<behaviorList.length;i++){Object.assign(properties,behaviorList[i].properties)}}Object.assign(properties,info.properties);return properties}static get observers(){let observers=[];if(behaviorList){for(let i=0,b;i<behaviorList.length;i++){b=behaviorList[i];if(b.observers){observers=observers.concat(b.observers)}}}if(info.observers){observers=observers.concat(info.observers)}return observers}created(){super.created();const list=lifecycle.created;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}_registered(){const generatedProto=PolymerGenerated.prototype;if(!generatedProto.hasOwnProperty("__hasRegisterFinished")){generatedProto.__hasRegisterFinished=!0;super._registered();if(Polymer.legacyOptimizations){copyPropertiesToProto(generatedProto)}const proto=Object.getPrototypeOf(this);let list=lifecycle.beforeRegister;if(list){for(let i=0;i<list.length;i++){list[i].call(proto)}}list=lifecycle.registered;if(list){for(let i=0;i<list.length;i++){list[i].call(proto)}}}}_applyListeners(){super._applyListeners();const list=lifecycle.listeners;if(list){for(let i=0;i<list.length;i++){const listeners=list[i];if(listeners){for(let l in listeners){this._addMethodEventListenerToNode(this,l,listeners[l])}}}}}_ensureAttributes(){const list=lifecycle.hostAttributes;if(list){for(let i=list.length-1;0<=i;i--){const hostAttributes=list[i];for(let a in hostAttributes){this._ensureAttribute(a,hostAttributes[a])}}}super._ensureAttributes()}ready(){super.ready();let list=lifecycle.ready;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}attached(){super.attached();let list=lifecycle.attached;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}detached(){super.detached();let list=lifecycle.detached;if(list){for(let i=0;i<list.length;i++){list[i].call(this)}}}attributeChanged(name,old,value){super.attributeChanged();let list=lifecycle.attributeChanged;if(list){for(let i=0;i<list.length;i++){list[i].call(this,name,old,value)}}}}if(behaviors){if(!Array.isArray(behaviors)){behaviors=[behaviors]}let superBehaviors=Base.prototype.behaviors;behaviorList=flattenBehaviors(behaviors,null,superBehaviors);PolymerGenerated.prototype.behaviors=superBehaviors?superBehaviors.concat(behaviors):behaviorList}const copyPropertiesToProto=proto=>{if(behaviorList){applyBehaviors(proto,behaviorList,lifecycle)}applyInfo(proto,info,lifecycle,excludeOnInfo)};if(!Polymer.legacyOptimizations){copyPropertiesToProto(PolymerGenerated.prototype)}PolymerGenerated.generatedFrom=info;return PolymerGenerated}Polymer.Class=function(info,mixin){if(!info){console.warn("Polymer.Class requires `info` argument")}let klass=mixin?mixin(Polymer.LegacyElementMixin(HTMLElement)):Polymer.LegacyElementMixin(HTMLElement);klass=GenerateClassFromInfo(info,klass,info.behaviors);if(info._enableDisableUpgrade){klass=Polymer.DisableUpgradeMixin(klass)}klass.is=klass.prototype.is=info.is;return klass};Polymer.mixinBehaviors=function(behaviors,klass){return GenerateClassFromInfo({},Polymer.LegacyElementMixin(klass),behaviors)}})();</script><script>(function(){"use strict";window.Polymer._polymerFn=function(info){let klass;if("function"===typeof info){klass=info}else{klass=Polymer.Class(info)}customElements.define(klass.is,klass);return klass}})();</script><script>(function(){"use strict";function mutablePropertyChange(inst,property,value,old,mutableData){let isObject;if(mutableData){isObject="object"===typeof value&&null!==value;if(isObject){old=inst.__dataTemp[property]}}let shouldChange=old!==value&&(old===old||value===value);if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}Polymer.MutableData=Polymer.dedupingMixin(superClass=>{return class extends superClass{_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}});Polymer.OptionalMutableData=Polymer.dedupingMixin(superClass=>{class OptionalMutableData extends superClass{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}return OptionalMutableData});Polymer.MutableData._mutablePropertyChange=mutablePropertyChange})();</script><script>(function(){"use strict";let newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});const DataTemplate=Polymer.PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=Polymer.MutableData(DataTemplate);function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}const base=Polymer.PropertyEffects(class{});class TemplateInstanceBase extends base{constructor(props){super();this._configureProperties(props);this.root=this._stampTemplate(this.__dataHost);let children=this.children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=this}if(this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__){this._showHideChildren(!0)}let options=this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){this._enableProperties()}}_configureProperties(props){let options=this.__templatizeOptions;if(options.forwardHostProp){for(let hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost["_host_"+hprop])}}for(let iprop in props){this._setPendingProperty(iprop,props[iprop])}}forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,!1,!0)){this.__dataHost._enqueueClient(this)}}_addEventListenerToNode(node,eventName,handler){if(this._methodHost&&this.__templatizeOptions.parentModel){this._methodHost._addEventListenerToNode(node,eventName,e=>{e.model=this;handler(e)})}else{let templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}_showHideChildren(hide){let c=this.children;for(let i=0,n;i<c.length;i++){n=c[i];if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else{n.textContent=n.__polymerTextContent__}}else if("slot"===n.localName){if(hide){n.__polymerReplaced__=document.createComment("hidden-slot");n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{const replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}_setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&"textContent"==prop){node.__polymerTextContent__=value}else{super._setUnmanagedPropertyToNode(node,prop,value)}}get parentModel(){let model=this.__parentModel;if(!model){let options;model=this;do{model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}dispatchEvent(){return!0}}TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;const MutableTemplateInstanceBase=Polymer.MutableData(TemplateInstanceBase);function findMethodHost(template){let templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}function createTemplatizerClass(template,templateInfo,options){let base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase;if(Polymer.Templatize.mixin){base=Polymer.Templatize.mixin(base)}let klass=class extends base{};klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}function addPropagateEffects(template,templateInfo,options){let userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){let klass=templateInfo.templatizeTemplateClass;if(!klass){let base=options.mutableData?MutableDataTemplate:DataTemplate;klass=templateInfo.templatizeTemplateClass=class extends base{};let hostProps=templateInfo.hostProps;for(let prop in hostProps){klass.prototype._addPropertyEffect("_host_"+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty("_host_"+prop)}}upgradeTemplate(template,klass);if(template.__dataProto){Object.assign(template.__data,template.__dataProto)}template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}function createForwardHostPropEffect(hostProp,userForwardHostProp){return function(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring("_host_".length),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){let hostProps=templateInfo.hostProps||{};for(let iprop in options.instanceProps){delete hostProps[iprop];let userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(let hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath("_host_"+prop,props[prop],!0,!0)}}Polymer.Templatize={templatize(template,owner,options){if(Polymer.strictTemplatePolicy&&!findMethodHost(template)){throw new Error("strictTemplatePolicy: template owner not trusted")}options=options||{};if(template.__templatizeOwner){throw new Error("A <template> can only be templatized once")}template.__templatizeOwner=owner;const ctor=owner?owner.constructor:TemplateInstanceBase;let templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}addPropagateEffects(template,templateInfo,options);let klass=class extends baseClass{};klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=klass;return klass},modelForElement(template,node){let model;while(node){if(model=node.__templatizeInstance){if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{node=node.parentNode}}return null}};Polymer.TemplateInstanceBase=TemplateInstanceBase})();</script><script>(function(){"use strict";let TemplateInstanceBase=Polymer.TemplateInstanceBase;Polymer.Templatizer={templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=Polymer.Templatize.templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(model){return new this.ctor(model)},modelForElement(el){return Polymer.Templatize.modelForElement(this._templatizerTemplate,el)}}})();</script><script>(function(){"use strict";const domBindBase=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement)));class DomBind extends domBindBase{static get observedAttributes(){return["mutable-data"]}constructor(){super();if(Polymer.strictTemplatePolicy){throw new Error(`strictTemplatePolicy: dom-bind not allowed`)}this.root=null;this.$=null;this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display="none";this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children){for(let i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}render(){let template;if(!this.__children){template=template||this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{template=this.querySelector("template");if(template){observer.disconnect();this.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(let n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}customElements.define("dom-bind",DomBind);Polymer.DomBind=DomBind})();</script><script>(function(){"use strict";Polymer.TemplateInstanceBase;const domRepeatBase=Polymer.OptionalMutableData(Polymer.Element);class DomRepeat extends domRepeatBase{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super();this.__instances=[];this.__limit=1/0;this.__pool=[];this.__renderDebouncer=null;this.__itemsIdxToInstIdx={};this.__chunkCount=null;this.__lastChunkTime=null;this.__sortFn=null;this.__filterFn=null;this.__observePaths=null;this.__ctor=null;this.__isDetached=!0;this.template=null}disconnectedCallback(){super.disconnectedCallback();this.__isDetached=!0;for(let i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.__isDetached){this.__isDetached=!1;let parent=this.parentNode;for(let i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}__ensureTemplatized(){if(!this.__ctor){let template=this.template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-repeat requires a <template> child")}});observer.observe(this,{childList:!0});return!1}let instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,forwardHostProp:function(prop,value){let i$=this.__instances;for(let i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},notifyInstanceProp:function(inst,prop,value){if(Polymer.Path.matches(this.as,prop)){let idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}let path=Polymer.Path.translate(this.as,`${JSCompiler_renameProperty("items",this)}.${idx}`,prop);this.notifyPath(path,value)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(functionOrMethodName){if("string"===typeof functionOrMethodName){let obj=this.__getMethodHost();return function(){return obj[functionOrMethodName].apply(obj,arguments)}}return functionOrMethodName}__sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}__filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}__computeFrameTime(rate){return Math.ceil(1e3/rate)}__initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}__tryRenderChunk(){if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn("dom-repeat expected array for `items`, found",this.items)}if(!this.__handleItemPath(change.path,change.value)){this.__initializeChunking();this.__debounceRender(this.__render)}}__handleObservedPaths(path){if(this.__sortFn||this.__filterFn){if(!path){this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){let paths=this.__observePaths;for(let i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}__debounceRender(fn,delay=0){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<delay?Polymer.Async.timeOut.after(delay):Polymer.Async.microTask,fn.bind(this));Polymer.enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render);Polymer.flush()}__render(){if(!this.__ensureTemplatized()){return}this.__applyFullRefresh();this.__pool.length=0;this._setRenderedItemCount(this.__instances.length);this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this.__tryRenderChunk()}__applyFullRefresh(){let items=this.items||[],isntIdxToItemsIdx=Array(items.length);for(let i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter((i,idx,array)=>this.__filterFn(items[i],idx,array))}if(this.__sortFn){isntIdxToItemsIdx.sort((a,b)=>this.__sortFn(items[a],items[b]))}const itemsIdxToInstIdx=this.__itemsIdxToInstIdx={};let instIdx=0;const limit=Math.min(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){let inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}for(let i=this.__instances.length-1;i>=instIdx;i--){this.__detachAndRemoveInstance(i)}}__detachInstance(idx){let inst=this.__instances[idx];for(let i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}__attachInstance(idx,parent){let inst=this.__instances[idx];parent.insertBefore(inst.root,this)}__detachAndRemoveInstance(idx){let inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}__stampInstance(item,instIdx,itemIdx){let model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}__insertInstance(item,instIdx,itemIdx){let inst=this.__pool.pop();if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}let beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}_showHideChildren(hidden){for(let i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}__handleItemPath(path,value){let itemsPath=path.slice(6),dot=itemsPath.indexOf("."),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);if(itemsIdx==parseInt(itemsIdx,10)){let itemSubPath=0>dot?"":itemsPath.substring(dot+1);this.__handleObservedPaths(itemSubPath);let instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){let itemPath=this.as+(itemSubPath?"."+itemSubPath:"");inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}itemForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.as]}indexForElement(el){let instance=this.modelForElement(el);return instance&&instance[this.indexAs]}modelForElement(el){return Polymer.Templatize.modelForElement(this.template,el)}}customElements.define(DomRepeat.is,DomRepeat);Polymer.DomRepeat=DomRepeat})();</script><script>(function(){"use strict";class DomIf extends Polymer.Element{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super();this.__renderDebouncer=null;this.__invalidProps=null;this.__instance=null;this._lastIf=!1;this.__ctor=null}__debounceRender(){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,()=>this.__render());Polymer.enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}connectedCallback(){super.connectedCallback();this.style.display="none";if(this.if){this.__debounceRender()}}render(){Polymer.flush()}__render(){if(this.if){if(!this.__ensureInstance()){return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this._lastIf=this.if}}__ensureInstance(){let parentNode=this.parentNode;if(parentNode){if(!this.__ctor){let template=this.querySelector("template");if(!template){let observer=new MutationObserver(()=>{if(this.querySelector("template")){observer.disconnect();this.__render()}else{throw new Error("dom-if requires a <template> child")}});observer.observe(this,{childList:!0});return!1}this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:!0,forwardHostProp:function(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[Polymer.Path.root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();let c$=this.__instance.children;if(c$&&c$.length){let lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}__syncHostProperties(){let props=this.__invalidProps;if(props){for(let prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let c$=this.__instance.children;if(c$&&c$.length){let parent=c$[0].parentNode;if(parent){for(let i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}}this.__instance=null;this.__invalidProps=null}}_showHideChildren(){let hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}customElements.define(DomIf.is,DomIf);Polymer.DomIf=DomIf})();</script><script>(function(){"use strict";let ArraySelectorMixin=Polymer.dedupingMixin(superClass=>{let elementBase=Polymer.ElementMixin(superClass);class ArraySelectorMixin extends elementBase{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super();this.__lastItems=null;this.__lastMulti=null;this.__selectedMap=null}__updateSelection(multi,itemsInfo){let path=itemsInfo.path;if(path==JSCompiler_renameProperty("items",this)){let newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){let splices=Polymer.ArraySplice.calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if(`${JSCompiler_renameProperty("items",this)}.splices`==itemsInfo.path){this.__applySplices(itemsInfo.value.indexSplices)}else{let part=path.slice(`${JSCompiler_renameProperty("items",this)}.`.length),idx=parseInt(part,10);if(0>part.indexOf(".")&&part==idx){this.__deselectChangedIdx(idx)}}}__applySplices(splices){let selected=this.__selectedMap;for(let i=0,s;i<splices.length;i++){s=splices[i];selected.forEach((idx,item)=>{if(idx<s.index){}else if(idx>=s.index+s.removed.length){selected.set(item,idx+s.addedCount-s.removed.length)}else{selected.set(item,-1)}});for(let j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(this.items[idx])){selected.set(this.items[idx],idx)}}}this.__updateLinks();let sidx=0;selected.forEach((idx,item)=>{if(0>idx){if(this.multi){this.splice(JSCompiler_renameProperty("selected",this),sidx,1)}else{this.selected=this.selectedItem=null}selected.delete(item)}else{sidx++}})}__updateLinks(){this.__dataLinkedPaths={};if(this.multi){let sidx=0;this.__selectedMap.forEach(idx=>{if(0<=idx){this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${idx}`,`${JSCompiler_renameProperty("selected",this)}.${sidx++}`)}})}else{this.__selectedMap.forEach(idx=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${idx}`);this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${idx}`)})}}clearSelection(){this.__dataLinkedPaths={};this.__selectedMap=new Map;this.selected=this.multi?[]:null;this.selectedItem=null}isSelected(item){return this.__selectedMap.has(item)}isIndexSelected(idx){return this.isSelected(this.items[idx])}__deselectChangedIdx(idx){let sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){let i=0;this.__selectedMap.forEach((idx,item)=>{if(sidx==i++){this.deselect(item)}})}}__selectedIndexForItemIndex(idx){let selected=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${idx}`];if(selected){return parseInt(selected.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}}deselect(item){let idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);let sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice(JSCompiler_renameProperty("selected",this),sidx,1)}else{this.selected=this.selectedItem=null}}}deselectIndex(idx){this.deselect(this.items[idx])}select(item){this.selectIndex(this.items.indexOf(item))}selectIndex(idx){let item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push(JSCompiler_renameProperty("selected",this),item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}return ArraySelectorMixin});Polymer.ArraySelectorMixin=ArraySelectorMixin;let baseArraySelector=ArraySelectorMixin(Polymer.Element);class ArraySelector extends baseArraySelector{static get is(){return"array-selector"}}customElements.define(ArraySelector.is,ArraySelector);Polymer.ArraySelector=ArraySelector})();</script><script>(function(){"use strict";var c=null,f=window.HTMLImports&&window.HTMLImports.whenReady||null,g;function h(a){requestAnimationFrame(function(){f?f(a):(c||(c=new Promise(function(a){g=a}),"complete"===document.readyState?g():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&g()})),c.then(function(){a&&a()}))})}var k=null,l=null;function m(){this.customStyles=[];this.enqueued=!1;h(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}function n(a){!a.enqueued&&l&&(a.enqueued=!0,h(l))}m.prototype.c=function(a){a.__seenByShadyCSS||(a.__seenByShadyCSS=!0,this.customStyles.push(a),n(this))};m.prototype.b=function(a){if(a.__shadyCSSCachedStyle)return a.__shadyCSSCachedStyle;var b;a.getStyle?b=a.getStyle():b=a;return b};m.prototype.a=function(){for(var a=this.customStyles,b=0,d;b<a.length;b++){d=a[b];if(!d.__shadyCSSCachedStyle){var e=this.b(d);e&&(e=e.__appliedElement||e,k&&k(e),d.__shadyCSSCachedStyle=e)}}return a};m.prototype.addCustomStyle=m.prototype.c;m.prototype.getStyleForCustomStyle=m.prototype.b;m.prototype.processStyles=m.prototype.a;Object.defineProperties(m.prototype,{transformCallback:{get:function(){return k},set:function(a){k=a}},validateCallback:{get:function(){return l},set:function(a){var b=!1;l||(b=!0);l=a;b&&n(this)}}});function p(a,b){for(var d in b)null===d?a.style.removeProperty(d):a.style.setProperty(d,b[d])}var q=!(window.ShadyDOM&&window.ShadyDOM.inUse),r;function t(a){r=a&&a.shimcssproperties?!1:q||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}var u;window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(u=window.ShadyCSS.cssBuild);var v=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?r=window.ShadyCSS.nativeCss:window.ShadyCSS?(t(window.ShadyCSS),window.ShadyCSS=void 0):t(window.WebComponents&&window.WebComponents.flags);var w=r,x=u,y=new m;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},prepareTemplateDom:function(){},prepareTemplateStyles:function(){},styleSubtree:function(a,b){y.a();p(a,b)},styleElement:function(){y.a()},styleDocument:function(a){y.a();p(document.body,a)},getComputedStyleValue:function(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function(){},nativeCss:w,nativeShadow:q,cssBuild:x,disableRuntime:v});window.ShadyCSS.CustomStyleInterface=y}).call(this);</script><script>(function(){"use strict";const attr="include",CustomStyleInterface=window.ShadyCSS.CustomStyleInterface;class CustomStyle extends HTMLElement{constructor(){super();this._style=null;CustomStyleInterface.addCustomStyle(this)}"getStyle"(){if(this._style){return this._style}const style=this.querySelector("style");if(!style){return null}this._style=style;const include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=Polymer.StyleGather.cssFromModules(include)+style.textContent}if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}window.customElements.define("custom-style",CustomStyle);Polymer.CustomStyle=CustomStyle})();</script><script>(function(){"use strict";let mutablePropertyChange;(()=>{mutablePropertyChange=Polymer.MutableData._mutablePropertyChange})();Polymer.MutableDataBehavior={_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}};Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}})();</script><script>Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;Polymer.html=Polymer.html;</script><script>(function(){var style=document.createElement("style");style.textContent="[hidden] { display: none !important; }";document.head.appendChild(style)})();</script><custom-style><style is="custom-style">[hidden]{display:none !important;}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex;};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none;};--layout-flex:{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2;};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3;};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4;};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5;};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6;};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7;};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8;};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9;};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10;};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11;};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12;};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center;};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center;};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;};--layout-block:{display:block;};--layout-invisible:{visibility:hidden !important;};--layout-relative:{position:relative;};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0;};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto;};--layout-fullbleed:{margin:0;height:100vh;};--layout-fixed-top:{position:fixed;top:0;left:0;right:0;};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0;};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0;};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0;};}</style></custom-style><dom-module id="app-drawer" assetpath="bower_components/app-layout/app-drawer/"><template><style>:host{position:fixed;top:-120px;right:0;bottom:-120px;left:0;visibility:hidden;transition-property:visibility;}:host([opened]){visibility:visible;}:host([persistent]){width:var(--app-drawer-width, 256px);}:host([persistent][position=left]){right:auto;}:host([persistent][position=right]){left:auto;}#contentContainer{position:absolute;top:0;bottom:0;left:0;width:var(--app-drawer-width, 256px);padding:120px 0;transition-property:-webkit-transform;transition-property:transform;-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);background-color:#FFF;@apply --app-drawer-content-container;}#contentContainer[persistent]{width:100%;}#contentContainer[position=right]{right:0;left:auto;-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);}#contentContainer[swipe-open]::after{position:fixed;top:0;bottom:0;left:100%;visibility:visible;width:20px;content:'';}#contentContainer[swipe-open][position=right]::after{right:100%;left:auto;}#contentContainer[opened]{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;transition-property:opacity;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:0;background:var(--app-drawer-scrim-background, rgba(0, 0, 0, 0.5));}#scrim.visible{opacity:1;}:host([no-transition]) #contentContainer{transition-property:none;}</style><div id="scrim" on-click="close"></div><div id="contentContainer" opened$="[[opened]]" persistent$="[[persistent]]" position$="[[position]]" swipe-open$="[[swipeOpen]]"><slot></slot></div></template><script>Polymer({is:"app-drawer",properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:"left"},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:["resetLayout(position, isAttached)","_resetPosition(align, isAttached)","_styleTransitionDuration(transitionDuration)","_openedPersistentChanged(opened, persistent)"],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this);this.addEventListener("keydown",this._tabKeydownHandler.bind(this));this.listen(this,"track","_track");this.setScrollDirection("y")});this.fire("app-reset-layout")},detached:function(){document.removeEventListener("keydown",this._boundEscKeydownHandler)},open:function(){this.opened=!0},close:function(){this.opened=!1},toggle:function(){this.opened=!this.opened},getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return"rtl"===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case"start":this._setPosition(this._isRTL()?"right":"left");return;case"end":this._setPosition(this._isRTL()?"left":"right");return;}this._setPosition(this.align)},_escKeydownHandler:function(event){if(event.keyCode===27){event.preventDefault();this.close()}},_track:function(event){if(this.persistent||this.disableSwipe){return}event.preventDefault();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackMove(event);break;case"end":this._trackEnd(event);break;}},_trackStart:function(){this._drawerState=this._DRAWER_STATE.TRACKING;var rect=this.$.contentContainer.getBoundingClientRect();this._savedWidth=rect.width;if("left"===this.position){this._translateOffset=rect.left}else{this._translateOffset=rect.right-window.innerWidth}this._trackDetails=[];this._styleTransitionDuration(0);this.style.visibility="visible"},_trackMove:function(event){this._translateDrawer(event.detail.dx+this._translateOffset);this._trackDetails.push({dx:event.detail.dx,timeStamp:Date.now()})},_trackEnd:function(event){var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isInEndState=isPositionLeft?0<=x||x<=-drawerWidth:0>=x||x>=drawerWidth;if(!isInEndState){var trackDetails=this._trackDetails;this._trackDetails=null;this._flingDrawer(event,trackDetails);if(this._drawerState===this._DRAWER_STATE.FLINGING){return}}var halfWidth=drawerWidth/2;if(event.detail.dx<-halfWidth){this.opened="right"===this.position}else if(event.detail.dx>halfWidth){this.opened="left"===this.position}if(isInEndState){this.debounce("_resetDrawerState",this._resetDrawerState)}else{this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)}this._styleTransitionDuration(this.transitionDuration);this._resetDrawerTranslate();this.style.visibility=""},_calculateVelocity:function(event,trackDetails){var now=Date.now(),trackDetail,min=0,max=trackDetails.length-1;while(min<=max){var mid=min+max>>1,d=trackDetails[mid];if(d.timeStamp>=now-100){trackDetail=d;max=mid-1}else{min=mid+1}}if(trackDetail){var dx=event.detail.dx-trackDetail.dx,dt=now-trackDetail.timeStamp||1;return dx/dt}return 0},_flingDrawer:function(event,trackDetails){var velocity=this._calculateVelocity(event,trackDetails);if(Math.abs(velocity)<this._MIN_FLING_THRESHOLD){return}this._drawerState=this._DRAWER_STATE.FLINGING;var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isVelocityPositive=0<velocity,dx;if(!isVelocityPositive&&isPositionLeft){dx=-(x+drawerWidth)}else if(isVelocityPositive&&!isPositionLeft){dx=drawerWidth-x}else{dx=-x}if(isVelocityPositive){velocity=Math.max(velocity,this._MIN_TRANSITION_VELOCITY);this.opened="left"===this.position}else{velocity=Math.min(velocity,-this._MIN_TRANSITION_VELOCITY);this.opened="right"===this.position}var t=this._FLING_INITIAL_SLOPE*dx/velocity;this._styleTransitionDuration(t);this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION);this._resetDrawerTranslate();this.debounce("_resetDrawerState",this._resetDrawerState,t)},_styleTransitionDuration:function(duration){this.style.transitionDuration=duration+"ms";this.$.contentContainer.style.transitionDuration=duration+"ms";this.$.scrim.style.transitionDuration=duration+"ms"},_styleTransitionTimingFunction:function(timingFunction){this.$.contentContainer.style.transitionTimingFunction=timingFunction;this.$.scrim.style.transitionTimingFunction=timingFunction},_translateDrawer:function(x){var _Mathmin=Math.min,_Mathmax=Math.max,drawerWidth=this.getWidth();if("left"===this.position){x=_Mathmax(-drawerWidth,_Mathmin(x,0));this.$.scrim.style.opacity=1+x/drawerWidth}else{x=_Mathmax(0,_Mathmin(x,drawerWidth));this.$.scrim.style.opacity=1-x/drawerWidth}this.translate3d(x+"px","0","0",this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity="";this.transform("",this.$.contentContainer)},_resetDrawerState:function(){var oldState=this._drawerState;if(oldState===this._DRAWER_STATE.FLINGING){this._styleTransitionDuration(this.transitionDuration);this._styleTransitionTimingFunction("");this.style.visibility=""}this._savedWidth=null;if(this.opened){this._drawerState=this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED}else{this._drawerState=this._DRAWER_STATE.CLOSED}if(oldState!==this._drawerState){if(this._drawerState===this._DRAWER_STATE.OPENED){this._setKeyboardFocusTrap();document.addEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow="hidden"}else{document.removeEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow=""}if(oldState!==this._DRAWER_STATE.INIT){this.fire("app-drawer-transitioned")}}},resetLayout:function(){this.fire("app-reset-layout")},_setKeyboardFocusTrap:function(){if(this.noFocusTrap){return}var focusableElementsSelector=["a[href]:not([tabindex=\"-1\"])","area[href]:not([tabindex=\"-1\"])","input:not([disabled]):not([tabindex=\"-1\"])","select:not([disabled]):not([tabindex=\"-1\"])","textarea:not([disabled]):not([tabindex=\"-1\"])","button:not([disabled]):not([tabindex=\"-1\"])","iframe:not([tabindex=\"-1\"])","[tabindex]:not([tabindex=\"-1\"])","[contentEditable=true]:not([tabindex=\"-1\"])"].join(","),focusableElements=Polymer.dom(this).querySelectorAll(focusableElementsSelector);if(0<focusableElements.length){this._firstTabStop=focusableElements[0];this._lastTabStop=focusableElements[focusableElements.length-1]}else{this._firstTabStop=null;this._lastTabStop=null}var tabindex=this.getAttribute("tabindex");if(tabindex&&-1<parseInt(tabindex,10)){this.focus()}else if(this._firstTabStop){this._firstTabStop.focus()}},_tabKeydownHandler:function(event){if(this.noFocusTrap){return}if(this._drawerState===this._DRAWER_STATE.OPENED&&event.keyCode===9){if(event.shiftKey){if(this._firstTabStop&&Polymer.dom(event).localTarget===this._firstTabStop){event.preventDefault();this._lastTabStop.focus()}}else{if(this._lastTabStop&&Polymer.dom(event).localTarget===this._lastTabStop){event.preventDefault();this._firstTabStop.focus()}}}},_openedPersistentChanged:function(opened,persistent){this.toggleClass("visible",opened&&!persistent,this.$.scrim);this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:"cubic-bezier(0.667, 1, 0.667, 1)",_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}});</script></dom-module><script>Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none";this.queryChanged()},detached:function(){this._remove()},_add:function(){if(this._mq){this._mq.addListener(this._boundMQHandler)}},_remove:function(){if(this._mq){this._mq.removeListener(this._boundMQHandler)}this._mq=null},queryChanged:function(){this._remove();var query=this.query;if(!query){return}if(!this.full&&"("!==query[0]){query="("+query+")"}this._mq=window.matchMedia(query);this._add();this.queryHandler(this._mq)},queryHandler:function(mq){this._setQueryMatches(mq.matches)}});</script><script>(function(){var ORPHANS=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}else{ORPHANS.delete(this);window.removeEventListener("resize",this._boundNotifyResize)}this._parentResizable=null},notifyResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this);this._fireResize()},assignParentResizable:function(parentResizable){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}this._parentResizable=parentResizable;if(parentResizable&&-1===parentResizable._interestedResizables.indexOf(this)){parentResizable._interestedResizables.push(this);parentResizable.listen(this,"iron-resize","_onDescendantIronResize")}},stopResizeNotificationsFor:function(target){var index=this._interestedResizables.indexOf(target);if(-1<index){this._interestedResizables.splice(index,1);this.unlisten(target,"iron-resize","_onDescendantIronResize")}},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(event){if(this._notifyingDescendant){event.stopPropagation();return}if(!Polymer.Settings.useShadow){this._fireResize()}},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(event){var target=Polymer.dom(event).rootTarget;if(target===this){return}target.assignParentResizable(this);this._notifyDescendant(target);event.stopPropagation()},_parentResizableChanged:function(parentResizable){if(parentResizable){window.removeEventListener("resize",this._boundNotifyResize)}},_notifyDescendant:function(descendant){if(!this.isAttached){return}this._notifyingDescendant=!0;descendant.notifyResize();this._notifyingDescendant=!1},_requestResizeNotifications:function(){if(!this.isAttached)return;if("loading"===document.readyState){var _requestResizeNotifications=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function readystatechanged(){document.removeEventListener("readystatechange",readystatechanged);_requestResizeNotifications()})}else{this._findParent();if(!this._parentResizable){ORPHANS.forEach(function(orphan){if(orphan!==this){orphan._findParent()}},this);window.addEventListener("resize",this._boundNotifyResize);this.notifyResize()}else{this._parentResizable._interestedResizables.forEach(function(resizable){if(resizable!==this){resizable._findParent()}},this)}}},_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});if(!this._parentResizable){ORPHANS.add(this)}else{ORPHANS.delete(this)}}}})();</script><script>Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function(){this.fire("app-reset-layout")},_appResetLayoutHandler:function(e){if(Polymer.dom(e).path[0]===this){return}this.resetLayout();e.stopPropagation()},_updateLayoutStates:function(){console.error("unimplemented")},resetLayout:function(){var self=this,cb=this._updateLayoutStates.bind(this);if(Polymer.Async&&Polymer.Async.animationFrame){this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,cb);Polymer.enqueueDebouncer(this._layoutDebouncer)}else{this.debounce("resetLayout",cb)}this._notifyDescendantResize()},_notifyLayoutChanged:function(){var self=this;requestAnimationFrame(function(){self.fire("app-reset-layout")})},_notifyDescendantResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this)}}];</script><dom-module id="app-drawer-layout" assetpath="bower_components/app-layout/app-drawer-layout/"><template><style>:host{display:block;position:relative;z-index:0;}:host ::slotted([slot=drawer]){z-index:1;}:host([fullbleed]){@apply --layout-fit;}#contentContainer{position:relative;z-index:0;height:100%;transition:var(--app-drawer-layout-content-transition, none);}#contentContainer[drawer-position=left]{margin-left:var(--app-drawer-width, 256px);}#contentContainer[drawer-position=right]{margin-right:var(--app-drawer-width, 256px);}</style><slot id="drawerSlot" name="drawer"></slot><div id="contentContainer" drawer-position$="[[_drawerPosition]]"><slot></slot></div><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:"app-drawer-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:"640px"},narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:"_clickHandler"},observers:["_narrowChanged(narrow)"],get drawer(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},attached:function(){var drawer=this.drawer;if(drawer){drawer.setAttribute("no-transition","")}},_clickHandler:function(e){var target=Polymer.dom(e).localTarget;if(target&&target.hasAttribute("drawer-toggle")){var drawer=this.drawer;if(drawer&&!drawer.persistent){drawer.toggle()}}},_updateLayoutStates:function(){var drawer=this.drawer;if(!this.isAttached||!drawer){return}this._drawerPosition=this.narrow?null:drawer.position;if(this._drawerNeedsReset){if(this.narrow){drawer.opened=this.openedWhenNarrow;drawer.persistent=!1}else{drawer.opened=drawer.persistent=!0}if(drawer.hasAttribute("no-transition")){Polymer.RenderStatus.afterNextRender(this,function(){drawer.removeAttribute("no-transition")})}this._drawerNeedsReset=!1}},_narrowChanged:function(){this._drawerNeedsReset=!0;this.resetLayout()},_onQueryMatchesChanged:function(event){this._setNarrow(event.detail.value)},_computeMediaQuery:function(forceNarrow,responsiveWidth){return forceNarrow?"(min-width: 0px)":"(max-width: "+responsiveWidth+")"}});</script></dom-module><script>Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(scrollTarget,isAttached){if(this._oldScrollTarget){this._toggleScrollListener(!1,this._oldScrollTarget);this._oldScrollTarget=null}if(!isAttached){return}if("document"===scrollTarget){this.scrollTarget=this._doc}else if("string"===typeof scrollTarget){var domHost=this.domHost;this.scrollTarget=domHost&&domHost.$?domHost.$[scrollTarget]:Polymer.dom(this.ownerDocument).querySelector("#"+scrollTarget)}else if(this._isValidScrollTarget()){this._oldScrollTarget=scrollTarget;this._toggleScrollListener(this._shouldHaveListener,scrollTarget)}},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop}return 0},get _scrollLeft(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft}return 0},set _scrollTop(top){if(this.scrollTarget===this._doc){window.scrollTo(window.pageXOffset,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollTop=top}},set _scrollLeft(left){if(this.scrollTarget===this._doc){window.scrollTo(left,window.pageYOffset)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left}},scroll:function(leftOrOptions,top){var left;if("object"===typeof leftOrOptions){left=leftOrOptions.left;top=leftOrOptions.top}else{left=leftOrOptions}left=left||0;top=top||0;if(this.scrollTarget===this._doc){window.scrollTo(left,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left;this.scrollTarget.scrollTop=top}},get _scrollTargetWidth(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth}return 0},get _scrollTargetHeight(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight}return 0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(yes,scrollTarget){var eventTarget=scrollTarget===this._doc?window:scrollTarget;if(yes){if(!this._boundScrollHandler){this._boundScrollHandler=this._scrollHandler.bind(this);eventTarget.addEventListener("scroll",this._boundScrollHandler)}}else{if(this._boundScrollHandler){eventTarget.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}}},toggleScrollListener:function(yes){this._shouldHaveListener=yes;this._toggleScrollListener(yes,this.scrollTarget)}};</script><script>Polymer.AppLayout=Polymer.AppLayout||{};Polymer.AppLayout._scrollEffects={};Polymer.AppLayout._scrollTimer=null;Polymer.AppLayout.scrollTimingFunction=function(t,b,c,d){t/=d;return-c*t*(t-2)+b};Polymer.AppLayout.registerEffect=function(effectName,effectDef){if(null!=Polymer.AppLayout._scrollEffects[effectName]){throw new Error("effect `"+effectName+"` is already registered.")}Polymer.AppLayout._scrollEffects[effectName]=effectDef};Polymer.AppLayout.queryAllRoot=function(selector,root){var queue=[root],matches=[];while(0<queue.length){var node=queue.shift();matches.push.apply(matches,node.querySelectorAll(selector));for(var i=0;node.children[i];i++){if(node.children[i].shadowRoot){queue.push(node.children[i].shadowRoot)}}}return matches};Polymer.AppLayout.scroll=function(options){options=options||{};var docEl=document.documentElement,target=options.target||docEl,hasNativeScrollBehavior="scrollBehavior"in target.style&&target.scroll,scrollTop=options.top||0,scrollLeft=options.left||0,scrollTo=target===docEl?window.scrollTo:function(scrollLeft,scrollTop){target.scrollLeft=scrollLeft;target.scrollTop=scrollTop};if("smooth"===options.behavior){if(hasNativeScrollBehavior){target.scroll(options)}else{var timingFn=Polymer.AppLayout.scrollTimingFunction,startTime=Date.now(),currentScrollTop=target===docEl?window.pageYOffset:target.scrollTop,currentScrollLeft=target===docEl?window.pageXOffset:target.scrollLeft,duration=300,updateFrame=function updateFrame(){var now=Date.now(),elapsedTime=now-startTime;if(elapsedTime<duration){scrollTo(timingFn(elapsedTime,currentScrollLeft,scrollLeft-currentScrollLeft,duration),timingFn(elapsedTime,currentScrollTop,scrollTop-currentScrollTop,duration));requestAnimationFrame(updateFrame)}else{scrollTo(scrollLeft,scrollTop)}}.bind(this);updateFrame()}}else if("silent"===options.behavior){var headers=Polymer.AppLayout.queryAllRoot("app-header",document.body);headers.forEach(function(header){header.setAttribute("silent-scroll","")});if(Polymer.AppLayout._scrollTimer){window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer)}Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){headers.forEach(function(header){header.removeAttribute("silent-scroll")});Polymer.AppLayout._scrollTimer=null});scrollTo(scrollLeft,scrollTop)}else{scrollTo(scrollLeft,scrollTop)}};</script><script>Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,{properties:{effects:{type:String},effectsConfig:{type:Object,value:function(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig, isAttached)"],_updateScrollState:function(){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},detached:function(){this._tearDownEffects()},createEffect:function(effectName,effectConfig){var effectDef=Polymer.AppLayout._scrollEffects[effectName];if(!effectDef){throw new ReferenceError(this._getUndefinedMsg(effectName))}var prop=this._boundEffect(effectDef,effectConfig||{});prop.setUp();return prop},_effectsChanged:function(effects,effectsConfig,isAttached){this._tearDownEffects();if(!effects||!isAttached){return}effects.split(" ").forEach(function(effectName){var effectDef;if(""!==effectName){if(effectDef=Polymer.AppLayout._scrollEffects[effectName]){this._effects.push(this._boundEffect(effectDef,effectsConfig[effectName]))}else{console.warn(this._getUndefinedMsg(effectName))}}},this);this._setUpEffect()},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(effectDef,effectsConfig){effectsConfig=effectsConfig||{};var startsAt=parseFloat(effectsConfig.startsAt||0),endsAt=parseFloat(effectsConfig.endsAt||1),noop=function(){},runFn=0===startsAt&&1===endsAt?effectDef.run:function(progress,y){effectDef.run.call(this,Math.max(0,(progress-startsAt)/(endsAt-startsAt)),y)};return{setUp:effectDef.setUp?effectDef.setUp.bind(this,effectsConfig):noop,run:effectDef.run?runFn.bind(this):noop,tearDown:effectDef.tearDown?effectDef.tearDown.bind(this):noop}},_setUpEffect:function(){if(this.isAttached&&this._effects){this._effectsRunFn=[];this._effects.forEach(function(effectDef){if(!1!==effectDef.setUp()){this._effectsRunFn.push(effectDef.run)}},this)}},_tearDownEffects:function(){if(this._effects){this._effects.forEach(function(effectDef){effectDef.tearDown()})}this._effectsRunFn=[];this._effects=[]},_runEffects:function(p,y){if(this._effectsRunFn){this._effectsRunFn.forEach(function(run){run(p,y)})}},_scrollHandler:function(){if(!this.disabled){var scrollTop=this._clampedScrollTop;this._updateScrollState(scrollTop);if(0<this.threshold){this._setThresholdTriggered(scrollTop>=this.threshold)}}},_getDOMRef:function(id){console.warn("_getDOMRef","`"+id+"` is undefined")},_getUndefinedMsg:function(effectName){return"Scroll effect `"+effectName+"` is undefined. "+"Did you forget to import app-layout/app-scroll-effects/effects/"+effectName+".html ?"}}];</script><dom-module id="app-header" assetpath="bower_components/app-layout/app-header/"><template><style>:host{position:relative;display:block;transition-timing-function:linear;transition-property:-webkit-transform;transition-property:transform;}:host::before{position:absolute;right:0px;bottom:-5px;left:0px;width:100%;height:5px;content:"";transition:opacity 0.4s;pointer-events:none;opacity:0;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);will-change:opacity;@apply --app-header-shadow;}:host([shadow])::before{opacity:1;}#background{@apply --layout-fit;overflow:hidden;}#backgroundFrontLayer,
      #backgroundRearLayer{@apply --layout-fit;height:100%;pointer-events:none;background-size:cover;}#backgroundFrontLayer{@apply --app-header-background-front-layer;}#backgroundRearLayer{opacity:0;@apply --app-header-background-rear-layer;}#contentContainer{position:relative;width:100%;height:100%;}:host([disabled]),
      :host([disabled])::after,
      :host([disabled]) #backgroundFrontLayer,
      :host([disabled]) #backgroundRearLayer,
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]),
      :host([silent-scroll])::after,
      :host([silent-scroll]) #backgroundFrontLayer,
      :host([silent-scroll]) #backgroundRearLayer{transition:none !important;}:host([disabled]) ::slotted(app-toolbar:first-of-type),
      :host([disabled]) ::slotted([sticky]),
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]) ::slotted(app-toolbar:first-of-type),
      :host([silent-scroll]) ::slotted([sticky]){transition:none !important;}</style><div id="contentContainer"><slot id="slot"></slot></div></template><script>Polymer({is:"app-header",behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:["_configChanged(isAttached, condenses, fixed)"],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},get _stickyEl(){if(this._stickyElRef){return this._stickyElRef}for(var nodes=Polymer.dom(this.$.slot).getDistributedNodes(),i=0,node;node=nodes[i];i++){if(node.nodeType===Node.ELEMENT_NODE){if(node.hasAttribute("sticky")){this._stickyElRef=node;break}else if(!this._stickyElRef){this._stickyElRef=node}}}return this._stickyElRef},_configChanged:function(){this.resetLayout();this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0===this.offsetWidth&&0===this.offsetHeight){return}var scrollTop=this._clampedScrollTop,firstSetup=0===this._height||0===scrollTop,currentDisabled=this.disabled;this._height=this.offsetHeight;this._stickyElRef=null;this.disabled=!0;if(!firstSetup){this._updateScrollState(0,!0)}if(this._mayMove()){this._dHeight=this._stickyEl?this._height-this._stickyEl.offsetHeight:0}else{this._dHeight=0}this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0;this._setUpEffect();if(firstSetup){this._updateScrollState(scrollTop,!0)}else{this._updateScrollState(this._lastScrollTop,!0);this._layoutIfDirty()}this.disabled=currentDisabled},_updateScrollState:function(scrollTop,forceUpdate){var _Mathabs=Math.abs;if(0===this._height){return}var progress=0,top=0,lastTop=this._top,lastScrollTop=this._lastScrollTop,maxHeaderTop=this._maxHeaderTop,dScrollTop=scrollTop-this._lastScrollTop,absDScrollTop=_Mathabs(dScrollTop),isScrollingDown=scrollTop>this._lastScrollTop,now=performance.now();if(this._mayMove()){top=this._clamp(this.reveals?lastTop+dScrollTop:scrollTop,0,maxHeaderTop)}if(scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?Math.max(this._dHeight,top):top;this.style.transitionDuration="0ms"}if(this.reveals&&!this.disabled&&100>absDScrollTop){if(300<now-this._initTimestamp||this._wasScrollingDown!==isScrollingDown){this._initScrollTop=scrollTop;this._initTimestamp=now}if(scrollTop>=maxHeaderTop){if(30<_Mathabs(this._initScrollTop-scrollTop)||10<absDScrollTop){if(isScrollingDown&&scrollTop>=maxHeaderTop){top=maxHeaderTop}else if(!isScrollingDown&&scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?this._dHeight:0}var scrollVelocity=dScrollTop/(now-this._lastTimestamp);this.style.transitionDuration=this._clamp((top-lastTop)/scrollVelocity,0,300)+"ms"}else{top=this._top}}}if(0===this._dHeight){progress=0<scrollTop?1:0}else{progress=top/this._dHeight}if(!forceUpdate){this._lastScrollTop=scrollTop;this._top=top;this._wasScrollingDown=isScrollingDown;this._lastTimestamp=now}if(forceUpdate||progress!==this._progress||lastTop!==top||0===scrollTop){this._progress=progress;this._runEffects(progress,top);this._transformHeader(top)}},_mayMove:function(){return this.condenses||!this.fixed},willCondense:function(){return 0<this._dHeight&&this.condenses},isOnScreen:function(){return 0!==this._height&&this._top<this._height},isContentBelow:function(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},_transformHeader:function(y){this.translate3d(0,-y+"px",0);if(this._stickyEl){this.translate3d(0,this.condenses&&y>=this._stickyElTop?Math.min(y,this._dHeight)-this._stickyElTop+"px":0,0,this._stickyEl)}},_clamp:function(v,min,max){return Math.min(max,Math.max(min,v))},_ensureBgContainers:function(){if(!this._bgContainer){this._bgContainer=document.createElement("div");this._bgContainer.id="background";this._bgRear=document.createElement("div");this._bgRear.id="backgroundRearLayer";this._bgContainer.appendChild(this._bgRear);this._bgFront=document.createElement("div");this._bgFront.id="backgroundFrontLayer";this._bgContainer.appendChild(this._bgFront);Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer)}},_getDOMRef:function(id){switch(id){case"backgroundFrontLayer":this._ensureBgContainers();return this._bgFront;case"backgroundRearLayer":this._ensureBgContainers();return this._bgRear;case"background":this._ensureBgContainers();return this._bgContainer;case"mainTitle":return Polymer.dom(this).querySelector("[main-title]");case"condensedTitle":return Polymer.dom(this).querySelector("[condensed-title]");}return null},getScrollState:function(){return{progress:this._progress,top:this._top}}});</script></dom-module><dom-module id="app-header-layout" assetpath="bower_components/app-layout/app-header-layout/"><template><style>:host{display:block;position:relative;z-index:0;}#wrapper ::slotted([slot=header]){@apply --layout-fixed-top;z-index:1;}#wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]){height:100%;}:host([has-scrolling-region]) #wrapper ::slotted([slot=header]){position:absolute;}:host([has-scrolling-region]) #wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]) #wrapper #contentContainer{@apply --layout-fit;overflow-y:auto;-webkit-overflow-scrolling:touch;}:host([has-scrolling-region]) #wrapper.initializing #contentContainer{position:relative;}:host([fullbleed]){@apply --layout-vertical;@apply --layout-fit;}:host([fullbleed]) #wrapper,
      :host([fullbleed]) #wrapper #contentContainer{@apply --layout-vertical;@apply --layout-flex;}#contentContainer{position:relative;z-index:0;}@media print{:host([has-scrolling-region]) #wrapper #contentContainer{overflow-y:visible;}}</style><div id="wrapper" class="initializing"><slot id="headerSlot" name="header"></slot><div id="contentContainer"><slot></slot></div></div></template><script>Polymer({is:"app-header-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{hasScrollingRegion:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["resetLayout(isAttached, hasScrollingRegion)"],get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},_updateLayoutStates:function(){var header=this.header;if(!this.isAttached||!header){return}this.$.wrapper.classList.remove("initializing");header.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;var headerHeight=header.offsetHeight;if(!this.hasScrollingRegion){requestAnimationFrame(function(){var rect=this.getBoundingClientRect(),rightOffset=document.documentElement.clientWidth-rect.right;header.style.left=rect.left+"px";header.style.right=rightOffset+"px"}.bind(this))}else{header.style.left="";header.style.right=""}var containerStyle=this.$.contentContainer.style;if(header.fixed&&!header.condenses&&this.hasScrollingRegion){containerStyle.marginTop=headerHeight+"px";containerStyle.paddingTop=""}else{containerStyle.paddingTop=headerHeight+"px";containerStyle.marginTop=""}}});</script></dom-module><script>Polymer.AppLayout.registerEffect("blend-background",{setUp:function(){var fx={backgroundFrontLayer:this._getDOMRef("backgroundFrontLayer"),backgroundRearLayer:this._getDOMRef("backgroundRearLayer")};fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.opacity=0;this._fxBlendBackground=fx},run:function(p){var fx=this._fxBlendBackground;fx.backgroundFrontLayer.style.opacity=1-p;fx.backgroundRearLayer.style.opacity=p},tearDown:function(){delete this._fxBlendBackground}});</script><script>Polymer.AppLayout.registerEffect("fade-background",{setUp:function(config){var fx={},duration=config.duration||"0.5s";fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.webkitTransform="translateZ(0)";fx.backgroundFrontLayer.style.transitionProperty="opacity";fx.backgroundFrontLayer.style.transitionDuration=duration;fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.webkitTransform="translateZ(0)";fx.backgroundRearLayer.style.transitionProperty="opacity";fx.backgroundRearLayer.style.transitionDuration=duration;this._fxFadeBackground=fx},run:function(p){var fx=this._fxFadeBackground;if(1<=p){fx.backgroundFrontLayer.style.opacity=0;fx.backgroundRearLayer.style.opacity=1}else{fx.backgroundFrontLayer.style.opacity=1;fx.backgroundRearLayer.style.opacity=0}},tearDown:function(){delete this._fxFadeBackground}});</script><script>Polymer.AppLayout.registerEffect("waterfall",{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});</script><script>(function(){function interpolate(progress,points,fn,ctx){fn.apply(ctx,points.map(function(point){return point[0]+(point[1]-point[0])*progress}))}Polymer.AppLayout.registerEffect("resize-title",{setUp:function(){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle");if(!condensedTitle){console.warn("Scroll effect `resize-title`: undefined `condensed-title`");return!1}if(!title){console.warn("Scroll effect `resize-title`: undefined `main-title`");return!1}condensedTitle.style.willChange="opacity";condensedTitle.style.webkitTransform="translateZ(0)";condensedTitle.style.transform="translateZ(0)";condensedTitle.style.webkitTransformOrigin="left top";condensedTitle.style.transformOrigin="left top";title.style.willChange="opacity";title.style.webkitTransformOrigin="left top";title.style.transformOrigin="left top";title.style.webkitTransform="translateZ(0)";title.style.transform="translateZ(0)";var titleClientRect=title.getBoundingClientRect(),condensedTitleClientRect=condensedTitle.getBoundingClientRect(),fx={};fx.scale=parseInt(window.getComputedStyle(condensedTitle)["font-size"],10)/parseInt(window.getComputedStyle(title)["font-size"],10);fx.titleDX=titleClientRect.left-condensedTitleClientRect.left;fx.titleDY=titleClientRect.top-condensedTitleClientRect.top;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeTitle=fx},run:function(p,y){var fx=this._fxResizeTitle;if(!this.condenses){y=0}if(1<=p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}interpolate(Math.min(1,p),[[1,fx.scale],[0,-fx.titleDX],[y,y-fx.titleDY]],function(scale,translateX,translateY){this.transform("translate("+translateX+"px, "+translateY+"px) "+"scale3d("+scale+", "+scale+", 1)",fx.title)},this)},tearDown:function(){delete this._fxResizeTitle}})})();</script><script>Polymer.AppLayout.registerEffect("parallax-background",{setUp:function(config){var fx={},scalar=parseFloat(config.scalar);fx.background=this._getDOMRef("background");fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.deltaBg=fx.backgroundFrontLayer.offsetHeight-fx.background.offsetHeight;if(0===fx.deltaBg){if(isNaN(scalar)){scalar=.8}fx.deltaBg=(this._dHeight||0)*scalar}else{if(isNaN(scalar)){scalar=1}fx.deltaBg=fx.deltaBg*scalar}this._fxParallaxBackground=fx},run:function(p){var _Mathmin=Math.min,fx=this._fxParallaxBackground;this.transform("translate3d(0px, "+fx.deltaBg*_Mathmin(1,p)+"px, 0px)",fx.backgroundFrontLayer);if(fx.backgroundRearLayer){this.transform("translate3d(0px, "+fx.deltaBg*_Mathmin(1,p)+"px, 0px)",fx.backgroundRearLayer)}},tearDown:function(){delete this._fxParallaxBackground}});</script><script>Polymer.AppLayout.registerEffect("material",{setUp:function(){this.effects="waterfall resize-title blend-background parallax-background";return!1}});</script><script>Polymer.AppLayout.registerEffect("resize-snapped-title",{setUp:function(config){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle"),duration=config.duration||"0.2s",fx={};if(!condensedTitle){console.warn("Scroll effect `resize-snapped-title`: undefined `condensed-title`");return!1}if(!title){console.warn("Scroll effect `resize-snapped-title`: undefined `main-title`");return!1}title.style.transitionProperty="opacity";title.style.transitionDuration=duration;condensedTitle.style.transitionProperty="opacity";condensedTitle.style.transitionDuration=duration;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeSnappedTitle=fx},run:function(p){var fx=this._fxResizeSnappedTitle;if(0<p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}},tearDown:function(){var fx=this._fxResizeSnappedTitle;fx.title.style.transition="";fx.condensedTitle.style.transition="";delete this._fxResizeSnappedTitle}});</script><dom-module id="app-toolbar" assetpath="bower_components/app-layout/app-toolbar/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;position:relative;height:64px;padding:0 16px;pointer-events:none;font-size:var(--app-toolbar-font-size, 20px);}:host ::slotted(*){pointer-events:auto;}:host ::slotted(paper-icon-button){font-size:0;}:host ::slotted([main-title]),
      :host ::slotted([condensed-title]){pointer-events:none;@apply --layout-flex;}:host ::slotted([bottom-item]){position:absolute;right:0;bottom:0;left:0;}:host ::slotted([top-item]){position:absolute;top:0;right:0;left:0;}:host ::slotted([spacer]){margin-left:64px;}</style><slot></slot></template><script>Polymer({is:"app-toolbar"});</script></dom-module><script>(function(){"use strict";var workingURL,urlDoc,urlBase,anchor;function resolveURL(path,base){if(workingURL===void 0){workingURL=!1;try{var u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href;workingURL=workingURL&&"http://www.google.com/?foo%20bar"===new URL("http://www.google.com/?foo bar").href}catch(e){}}if(workingURL){return new URL(path,base)}if(!urlDoc){urlDoc=document.implementation.createHTMLDocument("url");urlBase=urlDoc.createElement("base");urlDoc.head.appendChild(urlBase);anchor=urlDoc.createElement("a")}urlBase.href=base;anchor.href=path.replace(/ /g,"%20");return anchor}Polymer({is:"iron-location",properties:{path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:""},encodeSpaceAsPlusInQuery:{type:Boolean,value:!1},_urlSpaceRegExp:{computed:"_makeRegExp(urlSpaceRegex)"},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["_updateUrl(path, query, hash)"],created:function(){this.__location=window.location},attached:function(){this.listen(window,"hashchange","_hashChanged");this.listen(window,"location-changed","_urlChanged");this.listen(window,"popstate","_urlChanged");this.listen(document.body,"click","_globalOnClick");this._lastChangedAt=window.performance.now()-(this.dwellTime-200);this._initialized=!0;this._urlChanged()},detached:function(){this.unlisten(window,"hashchange","_hashChanged");this.unlisten(window,"location-changed","_urlChanged");this.unlisten(window,"popstate","_urlChanged");this.unlisten(document.body,"click","_globalOnClick");this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(this.__location.hash.substring(1))},_urlChanged:function(){this._dontUpdateUrl=!0;this._hashChanged();this.path=window.decodeURIComponent(this.__location.pathname);this.query=this.__location.search.substring(1);this._dontUpdateUrl=!1;this._updateUrl()},_getUrl:function(){var partiallyEncodedPath=window.encodeURI(this.path).replace(/\#/g,"%23").replace(/\?/g,"%3F"),partiallyEncodedQuery="";if(this.query){partiallyEncodedQuery="?"+this.query.replace(/\#/g,"%23");if(this.encodeSpaceAsPlusInQuery){partiallyEncodedQuery=partiallyEncodedQuery.replace(/\+/g,"%2B").replace(/ /g,"+").replace(/%20/g,"+")}}var partiallyEncodedHash="";if(this.hash){partiallyEncodedHash="#"+window.encodeURI(this.hash)}return partiallyEncodedPath+partiallyEncodedQuery+partiallyEncodedHash},_updateUrl:function(){if(this._dontUpdateUrl||!this._initialized){return}if(this.path===window.decodeURIComponent(this.__location.pathname)&&this.query===this.__location.search.substring(1)&&this.hash===window.decodeURIComponent(this.__location.hash.substring(1))){return}var newUrl=this._getUrl(),fullNewUrl=resolveURL(newUrl,this.__location.protocol+"//"+this.__location.host).href,now=window.performance.now(),shouldReplace=this._lastChangedAt+this.dwellTime>now;this._lastChangedAt=now;if(shouldReplace){window.history.replaceState({},"",fullNewUrl)}else{window.history.pushState({},"",fullNewUrl)}this.fire("location-changed",{},{node:window})},_globalOnClick:function(event){if(event.defaultPrevented){return}var href=this._getSameOriginLinkHref(event);if(!href){return}event.preventDefault();if(href===this.__location.href){return}window.history.pushState({},"",href);this.fire("location-changed",{},{node:window})},_getSameOriginLinkHref:function(event){if(0!==event.button){return null}if(event.metaKey||event.ctrlKey){return null}for(var eventPath=Polymer.dom(event).path,anchor=null,i=0,element;i<eventPath.length;i++){element=eventPath[i];if("A"===element.tagName&&element.href){anchor=element;break}}if(!anchor){return null}if("_blank"===anchor.target){return null}if(("_top"===anchor.target||"_parent"===anchor.target)&&window.top!==window){return null}if(anchor.download){return null}var href=anchor.href,url;if(null!=document.baseURI){url=resolveURL(href,document.baseURI)}else{url=resolveURL(href)}var origin;if(this.__location.origin){origin=this.__location.origin}else{origin=this.__location.protocol+"//"+this.__location.host}var urlOrigin;if(url.origin){urlOrigin=url.origin}else{var urlHost=url.host,urlPort=url.port,urlProtocol=url.protocol;if("https:"===urlProtocol&&"443"===urlPort||"http:"===urlProtocol&&"80"===urlPort){urlHost=url.hostname}urlOrigin=urlProtocol+"//"+urlHost}if(urlOrigin!==origin){return null}var normalizedHref=url.pathname+url.search+url.hash;if("/"!==normalizedHref[0]){normalizedHref="/"+normalizedHref}if(this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(normalizedHref)){return null}var fullNormalizedHref=resolveURL(normalizedHref,this.__location.href).href;return fullNormalizedHref},_makeRegExp:function(urlSpaceRegex){return RegExp(urlSpaceRegex)}})})();</script><script>"use strict";Polymer({is:"iron-query-params",properties:{paramsString:{type:String,notify:!0,observer:"paramsStringChanged"},paramsObject:{type:Object,notify:!0},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["paramsObjectChanged(paramsObject.*)"],paramsStringChanged:function(){this._dontReact=!0;this.paramsObject=this._decodeParams(this.paramsString);this._dontReact=!1},paramsObjectChanged:function(){if(this._dontReact){return}this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,"?").replace(/%2F/g,"/").replace(/'/g,"%27")},_encodeParams:function(params){var encodedParams=[];for(var key in params){var value=params[key];if(""===value){encodedParams.push(encodeURIComponent(key))}else if(value){encodedParams.push(encodeURIComponent(key)+"="+encodeURIComponent(value.toString()))}}return encodedParams.join("&")},_decodeParams:function(paramString){var params={};paramString=(paramString||"").replace(/\+/g,"%20");for(var paramList=paramString.split("&"),i=0,param;i<paramList.length;i++){param=paramList[i].split("=");if(param[0]){params[decodeURIComponent(param[0])]=decodeURIComponent(param[1]||"")}}return params}});</script><script>(function(){"use strict";Polymer.AppRouteConverterBehavior={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:["_locationChanged(path, queryParams)","_routeChanged(route.prefix, route.path)","_routeQueryParamsChanged(route.__queryParams)"],created:function(){this.linkPaths("route.__queryParams","queryParams");this.linkPaths("queryParams","route.__queryParams")},_locationChanged:function(){if(this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams){return}this.route={prefix:"",path:this.path,__queryParams:this.queryParams}},_routeChanged:function(){if(!this.route){return}this.path=this.route.prefix+this.route.path},_routeQueryParamsChanged:function(queryParams){if(!this.route){return}this.queryParams=queryParams}}})();</script><dom-module id="app-location" assetpath="bower_components/app-route/"><template><iron-query-params params-string="{{__query}}" params-object="{{queryParams}}"></iron-query-params><iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="[[urlSpaceRegex]]" dwell-time="[[dwellTime]]"></iron-location></template><script>(function(){"use strict";Polymer({is:"app-location",properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:"__onPathChanged"},_isReady:{type:Boolean},dwellTime:{type:Number}},behaviors:[Polymer.AppRouteConverterBehavior],observers:["__computeRoutePath(useHashAsPath, __hash, __path)"],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){if(!this._isReady){return}if(this.useHashAsPath){this.__hash=this.path}else{this.__path=this.path}}})})();</script></dom-module><script>(function(){"use strict";Polymer({is:"app-route",properties:{route:{type:Object,notify:!0},pattern:{type:String},data:{type:Object,value:function(){return{}},notify:!0},autoActivate:{type:Boolean,value:!1},_queryParamsUpdating:{type:Boolean,value:!1},queryParams:{type:Object,value:function(){return{}},notify:!0},tail:{type:Object,value:function(){return{path:null,prefix:null,__queryParams:null}},notify:!0},active:{type:Boolean,notify:!0,readOnly:!0},_matched:{type:String,value:""}},observers:["__tryToMatch(route.path, pattern)","__updatePathOnDataChange(data.*)","__tailPathChanged(tail.path)","__routeQueryParamsChanged(route.__queryParams)","__tailQueryParamsChanged(tail.__queryParams)","__queryParamsChanged(queryParams.*)"],created:function(){this.linkPaths("route.__queryParams","tail.__queryParams");this.linkPaths("tail.__queryParams","route.__queryParams")},__routeQueryParamsChanged:function(queryParams){if(queryParams&&this.tail){if(this.tail.__queryParams!==queryParams){this.set("tail.__queryParams",queryParams)}if(!this.active||this._queryParamsUpdating){return}var copyOfQueryParams={},anythingChanged=!1;for(var key in queryParams){copyOfQueryParams[key]=queryParams[key];if(anythingChanged||!this.queryParams||queryParams[key]!==this.queryParams[key]){anythingChanged=!0}}for(var key in this.queryParams){if(anythingChanged||!(key in queryParams)){anythingChanged=!0;break}}if(!anythingChanged){return}this._queryParamsUpdating=!0;this.set("queryParams",copyOfQueryParams);this._queryParamsUpdating=!1}},__tailQueryParamsChanged:function(queryParams){if(queryParams&&this.route&&this.route.__queryParams!=queryParams){this.set("route.__queryParams",queryParams)}},__queryParamsChanged:function(changes){if(!this.active||this._queryParamsUpdating){return}this.set("route.__"+changes.path,changes.value)},__resetProperties:function(){this._setActive(!1);this._matched=null},__tryToMatch:function(){if(!this.route){return}var path=this.route.path,pattern=this.pattern;if(this.autoActivate&&""===path){path="/"}if(!pattern){return}if(!path){this.__resetProperties();return}for(var remainingPieces=path.split("/"),patternPieces=pattern.split("/"),matched=[],namedMatches={},i=0,patternPiece;i<patternPieces.length;i++){patternPiece=patternPieces[i];if(!patternPiece&&""!==patternPiece){break}var pathPiece=remainingPieces.shift();if(!pathPiece&&""!==pathPiece){this.__resetProperties();return}matched.push(pathPiece);if(":"==patternPiece.charAt(0)){namedMatches[patternPiece.slice(1)]=pathPiece}else if(patternPiece!==pathPiece){this.__resetProperties();return}}this._matched=matched.join("/");var propertyUpdates={};if(!this.active){propertyUpdates.active=!0}var tailPrefix=this.route.prefix+this._matched,tailPath=remainingPieces.join("/");if(0<remainingPieces.length){tailPath="/"+tailPath}if(!this.tail||this.tail.prefix!==tailPrefix||this.tail.path!==tailPath){propertyUpdates.tail={prefix:tailPrefix,path:tailPath,__queryParams:this.route.__queryParams}}propertyUpdates.data=namedMatches;this._dataInUrl={};for(var key in namedMatches){this._dataInUrl[key]=namedMatches[key]}if(this.setProperties){this.setProperties(propertyUpdates,!0)}else{this.__setMulti(propertyUpdates)}},__tailPathChanged:function(path){if(!this.active){return}var tailPath=path,newPath=this._matched;if(tailPath){if("/"!==tailPath.charAt(0)){tailPath="/"+tailPath}newPath+=tailPath}this.set("route.path",newPath)},__updatePathOnDataChange:function(){if(!this.route||!this.active){return}var newPath=this.__getLink({}),oldPath=this.__getLink(this._dataInUrl);if(newPath===oldPath){return}this.set("route.path",newPath)},__getLink:function(overrideValues){var values={tail:null};for(var key in this.data){values[key]=this.data[key]}for(var key in overrideValues){values[key]=overrideValues[key]}var patternPieces=this.pattern.split("/"),interp=patternPieces.map(function(value){if(":"==value[0]){value=values[value.slice(1)]}return value},this);if(values.tail&&values.tail.path){if(0<interp.length&&"/"===values.tail.path.charAt(0)){interp.push(values.tail.path.slice(1))}else{interp.push(values.tail.path)}}return interp.join("/")},__setMulti:function(setObj){for(var property in setObj){this._propertySetter(property,setObj[property])}if(setObj.data!==void 0){this._pathEffector("data",this.data);this._notifyChange("data")}if(setObj.active!==void 0){this._pathEffector("active",this.active);this._notifyChange("active")}if(setObj.tail!==void 0){this._pathEffector("tail",this.tail);this._notifyChange("tail")}}})})();</script><script>(function(){Polymer.IronMeta=function(options){Polymer.IronMeta[" "](options);this.type=options&&options.type||"default";this.key=options&&options.key;if(options&&"value"in options){this.value=options.value}};Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var type=this.type,key=this.key;if(type&&key){return Polymer.IronMeta.types[type]&&Polymer.IronMeta.types[type][key]}},set value(value){var type=this.type,key=this.key;if(type&&key){type=Polymer.IronMeta.types[type]=Polymer.IronMeta.types[type]||{};if(null==value){delete type[key]}else{type[key]=value}}},get list(){var type=this.type;if(type){var items=Polymer.IronMeta.types[this.type];if(!items){return[]}return Object.keys(items).map(function(key){return metaDatas[this.type][key]},this)}},byKey:function(key){this.key=key;return this.value}};var metaDatas=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(type,key,value){var meta=new Polymer.IronMeta({type:type,key:key});if(value!==void 0&&value!==meta.value){meta.value=value}else if(this.value!==meta.value){this.value=meta.value}return meta},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(self){if(self){this.value=this}},byKey:function(key){return new Polymer.IronMeta({type:this.type,key:key}).value}})})();</script><dom-module id="iron-icon" assetpath="bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px);@apply --iron-icon;}:host([hidden]){display:none;}</style></template><script>Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(icon){var parts=(icon||"").split(":");this._iconName=parts.pop();this._iconsetName=parts.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){if(this._usesIconset()){if(this._img&&this._img.parentNode){Polymer.dom(this.root).removeChild(this._img)}if(""===this._iconName){if(this._iconset){this._iconset.removeIcon(this)}}else if(this._iconsetName&&this._meta){this._iconset=this._meta.byKey(this._iconsetName);if(this._iconset){this._iconset.applyIcon(this,this._iconName,this.theme);this.unlisten(window,"iron-iconset-added","_updateIcon")}else{this.listen(window,"iron-iconset-added","_updateIcon")}}}else{if(this._iconset){this._iconset.removeIcon(this)}if(!this._img){this._img=document.createElement("img");this._img.style.width="100%";this._img.style.height="100%";this._img.draggable=!1}this._img.src=this.src;Polymer.dom(this.root).appendChild(this._img)}}});</script></dom-module><script>(function(){"use strict";var _StringfromCharCode=String.fromCharCode,KEY_IDENTIFIER={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},KEY_CODE={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},MODIFIER_KEYS={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},KEY_CHAR=/[a-z0-9*]/,IDENT_CHAR=/U\+/,ARROW_KEY=/^arrow/,SPACE_KEY=/^space(bar)?/,ESC_KEY=/^escape$/;function transformKey(key,noSpecialChars){var validKey="";if(key){var lKey=key.toLowerCase();if(" "===lKey||SPACE_KEY.test(lKey)){validKey="space"}else if(ESC_KEY.test(lKey)){validKey="esc"}else if(1==lKey.length){if(!noSpecialChars||KEY_CHAR.test(lKey)){validKey=lKey}}else if(ARROW_KEY.test(lKey)){validKey=lKey.replace("arrow","")}else if("multiply"==lKey){validKey="*"}else{validKey=lKey}}return validKey}function transformKeyIdentifier(keyIdent){var validKey="";if(keyIdent){if(keyIdent in KEY_IDENTIFIER){validKey=KEY_IDENTIFIER[keyIdent]}else if(IDENT_CHAR.test(keyIdent)){keyIdent=parseInt(keyIdent.replace("U+","0x"),16);validKey=_StringfromCharCode(keyIdent).toLowerCase()}else{validKey=keyIdent.toLowerCase()}}return validKey}function transformKeyCode(keyCode){var validKey="";if(+keyCode){if(65<=keyCode&&90>=keyCode){validKey=_StringfromCharCode(32+keyCode)}else if(112<=keyCode&&123>=keyCode){validKey="f"+(keyCode-112+1)}else if(48<=keyCode&&57>=keyCode){validKey=keyCode-48+""}else if(96<=keyCode&&105>=keyCode){validKey=keyCode-96+""}else{validKey=KEY_CODE[keyCode]}}return validKey}function normalizedKeyForEvent(keyEvent,noSpecialChars){if(keyEvent.key){return transformKey(keyEvent.key,noSpecialChars)}if(keyEvent.detail&&keyEvent.detail.key){return transformKey(keyEvent.detail.key,noSpecialChars)}return transformKeyIdentifier(keyEvent.keyIdentifier)||transformKeyCode(keyEvent.keyCode)||""}function keyComboMatchesEvent(keyCombo,event){var keyEvent=normalizedKeyForEvent(event,keyCombo.hasModifiers);return keyEvent===keyCombo.key&&(!keyCombo.hasModifiers||!!event.shiftKey===!!keyCombo.shiftKey&&!!event.ctrlKey===!!keyCombo.ctrlKey&&!!event.altKey===!!keyCombo.altKey&&!!event.metaKey===!!keyCombo.metaKey)}function parseKeyComboString(keyComboString){if(1===keyComboString.length){return{combo:keyComboString,key:keyComboString,event:"keydown"}}return keyComboString.split("+").reduce(function(parsedKeyCombo,keyComboPart){var eventParts=keyComboPart.split(":"),keyName=eventParts[0],event=eventParts[1];if(keyName in MODIFIER_KEYS){parsedKeyCombo[MODIFIER_KEYS[keyName]]=!0;parsedKeyCombo.hasModifiers=!0}else{parsedKeyCombo.key=keyName;parsedKeyCombo.event=event||"keydown"}return parsedKeyCombo},{combo:keyComboString.split(":").shift()})}function parseEventString(eventString){return eventString.trim().split(" ").map(function(keyComboString){return parseKeyComboString(keyComboString)})}Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(eventString,handlerName){this._imperativeKeyBindings[eventString]=handlerName;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(event,eventString){for(var keyCombos=parseEventString(eventString),i=0;i<keyCombos.length;++i){if(keyComboMatchesEvent(keyCombos[i],event)){return!0}}return!1},_collectKeyBindings:function(){var keyBindings=this.behaviors.map(function(behavior){return behavior.keyBindings});if(-1===keyBindings.indexOf(this.keyBindings)){keyBindings.push(this.keyBindings)}return keyBindings},_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(keyBindings){for(var eventString in keyBindings){this._addKeyBinding(eventString,keyBindings[eventString])}},this);for(var eventString in this._imperativeKeyBindings){this._addKeyBinding(eventString,this._imperativeKeyBindings[eventString])}for(var eventName in this._keyBindings){this._keyBindings[eventName].sort(function(kb1,kb2){var b1=kb1[0].hasModifiers,b2=kb2[0].hasModifiers;return b1===b2?0:b1?-1:1})}},_addKeyBinding:function(eventString,handlerName){parseEventString(eventString).forEach(function(keyCombo){this._keyBindings[keyCombo.event]=this._keyBindings[keyCombo.event]||[];this._keyBindings[keyCombo.event].push([keyCombo,handlerName])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();if(this.isAttached){this._listenKeyEventListeners()}},_listenKeyEventListeners:function(){if(!this.keyEventTarget){return}Object.keys(this._keyBindings).forEach(function(eventName){var keyBindings=this._keyBindings[eventName],boundKeyHandler=this._onKeyBindingEvent.bind(this,keyBindings);this._boundKeyHandlers.push([this.keyEventTarget,eventName,boundKeyHandler]);this.keyEventTarget.addEventListener(eventName,boundKeyHandler)},this)},_unlistenKeyEventListeners:function(){var keyHandlerTuple,keyEventTarget,eventName,boundKeyHandler;while(this._boundKeyHandlers.length){keyHandlerTuple=this._boundKeyHandlers.pop();keyEventTarget=keyHandlerTuple[0];eventName=keyHandlerTuple[1];boundKeyHandler=keyHandlerTuple[2];keyEventTarget.removeEventListener(eventName,boundKeyHandler)}},_onKeyBindingEvent:function(keyBindings,event){if(this.stopKeyboardEventPropagation){event.stopPropagation()}if(event.defaultPrevented){return}for(var i=0;i<keyBindings.length;i++){var keyCombo=keyBindings[i][0],handlerName=keyBindings[i][1];if(keyComboMatchesEvent(keyCombo,event)){this._triggerKeyHandler(keyCombo,handlerName,event);if(event.defaultPrevented){return}}}},_triggerKeyHandler:function(keyCombo,handlerName,keyboardEvent){var detail=Object.create(keyCombo);detail.keyboardEvent=keyboardEvent;var event=new CustomEvent(keyCombo.event,{detail:detail,cancelable:!0});this[handlerName].call(this,event);if(event.defaultPrevented){keyboardEvent.preventDefault()}}}})();</script><script>Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(event){if(Polymer.Element){this._setFocused("focus"===event.type);return}if(event.target===this){this._setFocused("focus"===event.type)}else if(this.__handleEventRetargeting){var target=Polymer.dom(event).localTarget;if(!this.isLightDescendant(target)){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}}},_disabledChanged:function(disabled){this.setAttribute("aria-disabled",disabled?"true":"false");this.style.pointerEvents=disabled?"none":"";if(disabled){this._oldTabIndex=this.getAttribute("tabindex");this._setFocused(!1);this.tabIndex=-1;this.blur()}else if(this._oldTabIndex!==void 0){if(null===this._oldTabIndex){this.removeAttribute("tabindex")}else{this.setAttribute("tabindex",this._oldTabIndex)}}},_changedControlState:function(){if(this._controlStateChanged){this._controlStateChanged()}}};</script><script>Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){if(this.toggles){this._userActivate(!this.active)}else{this.active=!1}},_focusChanged:function(focused){this._detectKeyboardFocus(focused);if(!focused){this._setPressed(!1)}},_detectKeyboardFocus:function(focused){this._setReceivedFocusFromKeyboard(!this.pointerDown&&focused)},_userActivate:function(active){if(this.active!==active){this.active=active;this.fire("change")}},_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;if(this.isLightDescendant(target))return;keyboardEvent.preventDefault();keyboardEvent.stopImmediatePropagation();this._setPressed(!0)},_spaceKeyUpHandler:function(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;if(this.isLightDescendant(target))return;if(this.pressed){this._asyncClick()}this._setPressed(!1)},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(value,oldValue){if(oldValue&&oldValue!=value&&this.hasAttribute(oldValue)){this.removeAttribute(oldValue)}},_activeChanged:function(active){if(this.toggles){this.setAttribute(this.ariaActiveAttribute,active?"true":"false")}else{this.removeAttribute(this.ariaActiveAttribute)}this._changedButtonState()},_controlStateChanged:function(){if(this.disabled){this._setPressed(!1)}else{this._changedButtonState()}},_changedButtonState:function(){if(this._buttonStateChanged){this._buttonStateChanged()}}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];</script><dom-module id="paper-ripple" assetpath="bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none;}:host([animating]){-webkit-transform:translate(0, 0);transform:translate3d(0, 0, 0);}#background,
      #waves,
      .wave-container,
      .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#background,
      .wave{opacity:0;}#waves,
      .wave{overflow:hidden;}.wave-container,
      .wave{border-radius:50%;}:host(.circle) #background,
      :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>(function(){"use strict";var _Mathmin=Math.min,_Mathmax=Math.max,_Mathsqrt=Math.sqrt,Utility={distance:function(x1,y1,x2,y2){var xDelta=x1-x2,yDelta=y1-y2;return _Mathsqrt(xDelta*xDelta+yDelta*yDelta)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function ElementMetrics(element){this.element=element;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=_Mathmax(this.width,this.height)}ElementMetrics.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(x,y){var topLeft=Utility.distance(x,y,0,0),topRight=Utility.distance(x,y,this.width,0),bottomLeft=Utility.distance(x,y,0,this.height),bottomRight=Utility.distance(x,y,this.width,this.height);return _Mathmax(topLeft,topRight,bottomLeft,bottomRight)}};function Ripple(element){this.element=element;this.color=window.getComputedStyle(element).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}Ripple.MAX_RADIUS=300;Ripple.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var elapsed;if(!this.mouseDownStart){return 0}elapsed=Utility.now()-this.mouseDownStart;if(this.mouseUpStart){elapsed-=this.mouseUpElapsed}return elapsed},get mouseUpElapsed(){return this.mouseUpStart?Utility.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var width2=this.containerMetrics.width*this.containerMetrics.width,height2=this.containerMetrics.height*this.containerMetrics.height,waveRadius=1.1*_Mathmin(_Mathsqrt(width2+height2),Ripple.MAX_RADIUS)+5,duration=1.1-.2*(waveRadius/Ripple.MAX_RADIUS),timeNow=this.mouseInteractionSeconds/duration,size=waveRadius*(1-Math.pow(80,-timeNow));return Math.abs(size)},get opacity(){if(!this.mouseUpStart){return this.initialOpacity}return _Mathmax(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity)},get outerOpacity(){var outerOpacity=.3*this.mouseUpElapsedSeconds,waveOpacity=this.opacity;return _Mathmax(0,_Mathmin(outerOpacity,waveOpacity))},get isOpacityFullyDecayed(){return .01>this.opacity&&this.radius>=_Mathmin(this.maxRadius,Ripple.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=_Mathmin(this.maxRadius,Ripple.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return _Mathmin(1,2*(this.radius/this.containerMetrics.size)/1.4142135623730951)},get xNow(){if(this.xEnd){return this.xStart+this.translationFraction*(this.xEnd-this.xStart)}return this.xStart},get yNow(){if(this.yEnd){return this.yStart+this.translationFraction*(this.yEnd-this.yStart)}return this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0;this.mouseDownStart=0;this.mouseUpStart=0;this.xStart=0;this.yStart=0;this.xEnd=0;this.yEnd=0;this.slideDistance=0;this.containerMetrics=new ElementMetrics(this.element)},draw:function(){var scale,dx,dy;this.wave.style.opacity=this.opacity;scale=this.radius/(this.containerMetrics.size/2);dx=this.xNow-this.containerMetrics.width/2;dy=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+dx+"px, "+dy+"px)";this.waveContainer.style.transform="translate3d("+dx+"px, "+dy+"px, 0)";this.wave.style.webkitTransform="scale("+scale+","+scale+")";this.wave.style.transform="scale3d("+scale+","+scale+",1)"},downAction:function(event){var xCenter=this.containerMetrics.width/2,yCenter=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=Utility.now();if(this.center){this.xStart=xCenter;this.yStart=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}else{this.xStart=event?event.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2;this.yStart=event?event.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2}if(this.recenters){this.xEnd=xCenter;this.yEnd=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){if(!this.isMouseDown){return}this.mouseUpStart=Utility.now()},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){if(11==this.parentNode.nodeType){this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host}else{this.keyEventTarget=this.parentNode}var keyEventTarget=this.keyEventTarget;this.listen(keyEventTarget,"up","uiUpAction");this.listen(keyEventTarget,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=null},get shouldKeepAnimating(){for(var index=0;index<this.ripples.length;++index){if(!this.ripples[index].isAnimationComplete){return!0}}return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(event){if(!this.noink){this.downAction(event)}},downAction:function(event){if(this.holdDown&&0<this.ripples.length){return}var ripple=this.addRipple();ripple.downAction(event);if(!this._animating){this._animating=!0;this.animate()}},uiUpAction:function(event){if(!this.noink){this.upAction(event)}},upAction:function(event){if(this.holdDown){return}this.ripples.forEach(function(ripple){ripple.upAction(event)});this._animating=!0;this.animate()},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var ripple=new Ripple(this);Polymer.dom(this.$.waves).appendChild(ripple.waveContainer);this.$.background.style.backgroundColor=ripple.color;this.ripples.push(ripple);this._setAnimating(!0);return ripple},removeRipple:function(ripple){var rippleIndex=this.ripples.indexOf(ripple);if(0>rippleIndex){return}this.ripples.splice(rippleIndex,1);ripple.remove();if(!this.ripples.length){this._setAnimating(!1)}},animate:function(){if(!this._animating){return}var index,ripple;for(index=0;index<this.ripples.length;++index){ripple=this.ripples[index];ripple.draw();this.$.background.style.opacity=ripple.outerOpacity;if(ripple.isOpacityFullyDecayed&&!ripple.isRestingAtMaxRadius){this.removeRipple(ripple)}}if(!this.shouldKeepAnimating&&0===this.ripples.length){this.onAnimationComplete()}else{window.requestAnimationFrame(this._boundAnimate)}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(newVal,oldVal){if(oldVal===void 0){return}if(newVal){this.downAction()}else{this.upAction()}}})})();</script><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){if(this.focused){this.ensureRipple()}},_downHandler:function(event){Polymer.IronButtonStateImpl._downHandler.call(this,event);if(this.pressed){this.ensureRipple(event)}},ensureRipple:function(optTriggeringEvent){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var rippleContainer=this._rippleContainer||this.root;if(rippleContainer){Polymer.dom(rippleContainer).appendChild(this._ripple)}if(optTriggeringEvent){var domContainer=Polymer.dom(this._rippleContainer||this),target=Polymer.dom(optTriggeringEvent).rootTarget;if(domContainer.deepContains(target)){this._ripple.uiDownAction(optTriggeringEvent)}}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){var element=document.createElement("paper-ripple");return element},_noinkChanged:function(noink){if(this.hasRipple()){this._ripple.noink=noink}}};</script><script>Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){this._ripple.holdDown=receivedFocusFromKeyboard}},_createRipple:function(){var ripple=Polymer.PaperRippleBehavior._createRipple();ripple.id="ink";ripple.setAttribute("center","");ripple.classList.add("circle");return ripple}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];</script><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0;}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color);}</style></custom-style><dom-module id="paper-icon-button" assetpath="bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;box-sizing:border-box !important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color, var(--primary-text-color));opacity:0.6;}:host([disabled]){color:var(--paper-icon-button-disabled-text, var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host([hidden]){display:none !important;}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%;}</style><iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon></template><script>Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(newValue,oldValue){var label=this.getAttribute("aria-label");if(!label||oldValue==label){this.setAttribute("aria-label",newValue)}}});</script></dom-module><script>Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(n){return this.name+":"+n},this)},applyIcon:function(element,iconName){this.removeIcon(element);var svg=this._cloneIcon(iconName,this.rtlMirroring&&this._targetIsRTL(element));if(svg){var pde=Polymer.dom(element.root||element);pde.insertBefore(svg,pde.childNodes[0]);return element._svgIcon=svg}return null},removeIcon:function(element){if(element._svgIcon){Polymer.dom(element.root||element).removeChild(element._svgIcon);element._svgIcon=null}},_targetIsRTL:function(target){if(null==this.__targetIsRTL){if(this.useGlobalRtlAttribute){var globalElement=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===globalElement.getAttribute("dir")}else{if(target&&target.nodeType!==Node.ELEMENT_NODE){target=target.host}this.__targetIsRTL=target&&"rtl"===window.getComputedStyle(target).direction}}return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var icons=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(icon){icons[icon.id]=icon});return icons},_cloneIcon:function(id,mirrorAllowed){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[id],this.size,mirrorAllowed)},_prepareSvgClone:function(sourceSvg,size,mirrorAllowed){if(sourceSvg){var content=sourceSvg.cloneNode(!0),svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),viewBox=content.getAttribute("viewBox")||"0 0 "+size+" "+size,cssText="pointer-events: none; display: block; width: 100%; height: 100%;";if(mirrorAllowed&&content.hasAttribute("mirror-in-rtl")){cssText+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"}svg.setAttribute("viewBox",viewBox);svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.setAttribute("focusable","false");svg.style.cssText=cssText;svg.appendChild(content).removeAttribute("id");return svg}return null}});</script><iron-iconset-svg size="26" name="arc"><svg><defs><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add-circle-outline"><path d="M23 12.5v1h-9.5V23h-1v-9.5H3v-1h9.5V3h1v9.5H23z"></path></g><g id="add"><path d="M23 12.5v1h-9.5V23h-1v-9.5H3v-1h9.5V3h1v9.5H23z"></path></g><g id="arc-icon"><path style="fill:#2196F3" d="M2.3,1h19.3C22.4,1,23,1.6,23,2.3v19.4c0,0.7-0.6,1.3-1.3,1.3H2.3C1.6,23,1,22.4,1,21.7 V2.3C1,1.6,1.6,1,2.3,1z"></path><path style="opacity:0.42;fill:#FFFFFF" d="M15.8,7.1v5.1h-1.9l3.7,4.7l3.7-4.7h-1.9V7.1H15.8L15.8,7.1z"></path><path style="fill:#FFFFFF" d="M10.7,19.3v-7.6h2.8L8.1,4.8l-5.5,6.9h2.8v7.6H10.7z"></path></g><g id="arc-icon-arrows"><polygon style="fill:#2196F3;" points="13.3,11.7 8.3,5.2 3.2,11.7 5.7,11.7 5.7,11.7 5.8,11.7 5.8,18.8 10.7,18.8 10.7,11.7 "></polygon><polygon style="opacity:0.42;fill:#2196F3;" points="19,12.5 19,7.7 15.7,7.7 15.7,12.5 13.9,12.5 17.4,16.8 20.8,12.5 "></polygon></g><g id="anypoint-pin"><path d="M13.8993082,3.4355581l7.0314379,4.9234715c-0.5007572,0.1463709-1.0230217,0.2215881-1.5530128,0.2215881 		c-0.1495934,0-0.3085251-0.007165-0.4723873-0.0212765L18.331007,8.5098438l-3.5253258,5.0346861l0.2431707,0.5228872 		c0.6836739,1.4700317,0.6766796,3.1600895,0.0193348,4.6070614l-8.8596268-6.203578 		c1.0200305-1.0022087,2.4050174-1.5794764,3.8621583-1.5794764c0.1502523,0,0.3099775,0.007226,0.474719,0.0214834 		l0.5745583,0.0497179l3.1937542-4.5611515l0.3306684-0.4722414l-0.2429876-0.5227895 		C14.1125107,4.7848282,13.9437037,4.1142516,13.8993082,3.4355581 M13.0516243,1.6212608 		c-0.3259563,1.4169074-0.1637287,2.9012694,0.4429941,4.206656l-2.8629646,4.0887389 		c-0.1869087-0.0161734-0.3740377-0.0252066-0.560935-0.0252066c-2.0491304,0-4.0655956,0.9663448-5.3301387,2.7723055 		l10.6490097,7.4565134c1.3797503-1.9704952,1.5123148-4.439744,0.5659761-6.4745436l2.8639164-4.090107 		c0.1860065,0.0160275,0.3722572,0.0249758,0.5582504,0.0249758c1.2482109,0,2.4841042-0.3585854,3.545845-1.0469103 		L13.0516243,1.6212608L13.0516243,1.6212608z M10.0657015,18.3762074l-3.3737302,2.833107l1.5083604-4.1392517 		l-0.8479404-0.5937347l-2.8796754,7.902401l6.4409375-5.4087868L10.0657015,18.3762074z M15.2397041,6.6955462 		l-3.1956835,4.5639229c0.3131514,0.1211634,0.6159267,0.2716846,0.9053726,0.450428l3.022543-4.3166389 		C15.703474,7.1812396,15.459754,6.9468703,15.2397041,6.6955462z"></path></g><g id="archive"><path d="M23,6.7c-0.3-0.1-0.7-0.3-1-0.4c-1.6-0.6-3.3-1-5-1.3v1c1.7,0.3,3.4,0.7,5,1.4L22,20H2L2,7.4C3.6,6.7,5.3,6.3,7,6V5 C5.3,5.3,3.6,5.7,2,6.3C1.7,6.4,1.3,6.5,1,6.7v0v14c0.1,0,0.2,0.1,0.3,0.1c0.3,0.1,0.5,0.2,0.8,0.3C5.3,22.4,8.6,23,12,23 s6.8-0.6,9.9-1.8c0.3-0.1,0.5-0.2,0.8-0.3c0.1,0,0.2-0.1,0.3-0.1L23,6.7z M12.5,16V1c-0.2,0-0.3,0-0.5,0s-0.3,0-0.5,0v15H12.5z M18,12.8v-1.2l-6,4.2l-6-4.2v1.2l6,4.2L18,12.8z"></path></g><g id="arrow-back"><path d="M23.9542236,14H5.1435547l5.6013794,8H8.3034058L2.00177,13l6.3016357-9h2.4415283l-5.6013794,8h18.8106689 c0.0297241,0.3293457,0.0457153,0.6628418,0.0457153,1S23.9839478,13.6705322,23.9542236,14z"></path></g><g id="arrow-drop-down"><path d="M13,18.91,5.2,7.77l1.08-.29L13,17.09l6.73-9.59,1,.28L13,18.91Z"></path></g><g id="arrow-drop-up"><path d="M13,7.6,5.17,18.75,6.25,19,13,9.42,19.74,19l1-.28L13,7.6Z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M22,12.9998779c0,4.9705811-4.0294189,9-9,9c-1.0440674,0-2.0402832-0.1917725-2.9726562-0.5187988l1.5349731,2.192627 		l-0.6653442,0.7930908L7.8232422,20.076416L13,18.6850586v1.0354004l-2.8265991,0.7597656 		C11.0529175,20.814209,12.0047607,20.9998779,13,20.9998779c4.4111938,0,8-3.5887451,8-8 		c0-1.9970703-0.7360229-3.8251953-1.9505615-5.2283936l1.0626831-0.2856445C21.2950439,9.0090332,22,10.921875,22,12.9998779z 		 M13,5.0001221c0.9952393,0,1.9471436,0.1856689,2.8266602,0.5196533L13,6.2794189l0.000061,1.0355225l5.1766968-1.3913574 		l-3.0737305-4.3903809l-0.6653442,0.7930908l1.5349121,2.192627C15.0402832,4.1918945,14.0441284,4.0001221,13,4.0001221 		C8.02948,4.0001221,4.000061,8.029541,4.000061,13c0,2.078125,0.704895,3.9908447,1.8878174,5.5141602l1.0626831-0.2856445 		C5.736084,16.8251953,5.000061,14.9971924,5.000061,13C5.000061,8.5888672,8.5888062,5.0001221,13,5.0001221z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="cancel"><path d="M13.7069845,12.9999514l8.1239996-8.12395c-0.2258053-0.245337-0.4616947-0.4812136-0.7070312-0.7070312 l-8.1239996,8.12395L4.8760271,4.1689944c-0.245337,0.2258058-0.4812255,0.4616942-0.7070312,0.7070312l8.1239262,8.1239262 l-8.1239996,8.1239386c0.2258058,0.2453365,0.4616823,0.4812145,0.7070193,0.7070446l8.124012-8.123951l8.1240244,8.1240234 c0.2453365-0.2258053,0.481226-0.4616947,0.7070312-0.7070312L13.7069845,12.9999514z"></path></g><g id="clear"><path d="M13.7069845,12.9999514l8.1239996-8.12395c-0.2258053-0.245337-0.4616947-0.4812136-0.7070312-0.7070312 l-8.1239996,8.12395L4.8760271,4.1689944c-0.245337,0.2258058-0.4812255,0.4616942-0.7070312,0.7070312l8.1239262,8.1239262 l-8.1239996,8.1239386c0.2258058,0.2453365,0.4616823,0.4812145,0.7070193,0.7070446l8.124012-8.123951l8.1240244,8.1240234 c0.2453365-0.2258053,0.481226-0.4616947,0.7070312-0.7070312L13.7069845,12.9999514z"></path></g><g id="clear-all"><path d="M13.7069845,12.9999514l8.1239996-8.12395c-0.2258053-0.245337-0.4616947-0.4812136-0.7070312-0.7070312 l-8.1239996,8.12395L4.8760271,4.1689944c-0.245337,0.2258058-0.4812255,0.4616942-0.7070312,0.7070312l8.1239262,8.1239262 l-8.1239996,8.1239386c0.2258058,0.2453365,0.4616823,0.4812145,0.7070193,0.7070446l8.124012-8.123951l8.1240244,8.1240234 c0.2453365-0.2258053,0.481226-0.4616947,0.7070312-0.7070312L13.7069845,12.9999514z"></path></g><g id="close"><path d="M13.7069845,12.9999514l8.1239996-8.12395c-0.2258053-0.245337-0.4616947-0.4812136-0.7070312-0.7070312 l-8.1239996,8.12395L4.8760271,4.1689944c-0.245337,0.2258058-0.4812255,0.4616942-0.7070312,0.7070312l8.1239262,8.1239262 l-8.1239996,8.1239386c0.2258058,0.2453365,0.4616823,0.4812145,0.7070193,0.7070446l8.124012-8.123951l8.1240244,8.1240234 c0.2453365-0.2258053,0.481226-0.4616947,0.7070312-0.7070312L13.7069845,12.9999514z"></path></g><g id="cloud-download"><path d="M23,6.7c-0.3-0.1-0.7-0.3-1-0.4c-1.6-0.6-3.3-1-5-1.3v1c1.7,0.3,3.4,0.7,5,1.4L22,20H2L2,7.4C3.6,6.7,5.3,6.3,7,6V5 C5.3,5.3,3.6,5.7,2,6.3C1.7,6.4,1.3,6.5,1,6.7v0v14c0.1,0,0.2,0.1,0.3,0.1c0.3,0.1,0.5,0.2,0.8,0.3C5.3,22.4,8.6,23,12,23 s6.8-0.6,9.9-1.8c0.3-0.1,0.5-0.2,0.8-0.3c0.1,0,0.2-0.1,0.3-0.1L23,6.7z M12.5,16V1c-0.2,0-0.3,0-0.5,0s-0.3,0-0.5,0v15H12.5z M18,12.8v-1.2l-6,4.2l-6-4.2v1.2l6,4.2L18,12.8z"></path></g><g id="code"><path d="M8.1560669,6.958252l-4.005249,6.0524902l4.005249,6.0523682H6.3462524l-3.9755859-6.0523682L6.3462524,6.958252H8.1560669 z M19.6537476,6.958252h-1.8098145l4.0053101,6.0524902l-4.0053101,6.0523682h1.8098145l3.9755859-6.0523682L19.6537476,6.958252z M10.0101318,21.833252h1.6627197l4.7337036-17.666626h-1.6626587L10.0101318,21.833252z"></path></g><g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g><g id="insert-comment"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="content-copy"><g transform="translate(4.000000, 1.000000)"><polygon points="6 1.5 10 1.5 10 0 6 0"></polygon><polygon points="11.5 2.0001 11.5 3.0001 15 3.0001 15 20.0001 1 20.0001 1 3.0001 4.5 3.0001 4.5 2.0001 0 2.0001 0 21.0001 16 21.0001 16 2.0001"></polygon><polygon points="7.3969 15.8914 3.2669 12.9964 3.8409 12.1774 7.1519 14.4984 12.0359 7.5184 12.8559 8.0914"></polygon><path d="M4,5 L12,5 L12,1 L4,1 L4,5 Z M5,4 L11,4 L11,2 L5,2 L5,4 Z"></path></g></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="desktop-windows"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="drive-color" transform="matrix(1.597046e-4,0,0,1.6517796e-4,1.3671875,2.9482084)"><polygon points="133156,76894 110963,115341 22194,115341 44385,76894 " style="fill:#3777e3"></polygon><polygon points="88772,0 44385,0 88772,76894 133156,76894 " style="fill:#ffcf63"></polygon><polygon points="66578,38447 44385,0 0,76894 22194,115341 " style="fill:#11a861"></polygon></g><g id="drive" transform="matrix(1.597046e-4,0,0,1.6517796e-4,1.3671875,2.9482084)"><polygon points="22194,115341 44385,76894 133156,76894 110963,115341"></polygon><polygon points="88772,76894 133156,76894 88772,0 44385,0"></polygon><polygon points="0,76894 22194,115341 66578,38447 44385,0"></polygon></g><g id="edit"><path d="M19.8830566,3.1699219c-0.9934082-0.6955566-2.050354-1.2321777-3.1407471-1.6164551L5.5437012,17.5467529 l-0.000061,6.1020508l5.7340698-2.0870361L22.4763184,5.5683594C21.7422485,4.675293,20.8764038,3.8654785,19.8830566,3.1699219z M10.6394043,20.7298584l-4.0957642,1.4908447l0.000061-4.3586426l7.8498535-11.2108154l1.6383057,1.1470947L8.5754395,18.4472656 l0.8191528,0.5734863l7.4563599-10.6489258l1.6383667,1.1472168L10.6394043,20.7298584z M19.0628662,8.6999512 l-4.0957031-2.8679199l2.1446533-3.0628662c0.7702026,0.3275146,1.506897,0.7363281,2.1976929,1.2199707 c0.6907349,0.4837646,1.3268433,1.0361328,1.8980103,1.6478271L19.0628662,8.6999512z"></path></g><g id="error"><rect width="26" height="26" transform="translate(26 26) rotate(-180)" style="fill:none"></rect><path d="M13,24.00028A11.00028,11.00028,0,0,1,5.22163,5.22163,11.00028,11.00028,0,0,1,20.77838,20.77838,10.92831,10.92831,0,0,1,13,24.00028m0,1A12.00027,12.00027,0,1,0,.99973,13,12.00028,12.00028,0,0,0,13,25.00028h0Z"></path><circle cx="13" cy="18.99996" r="2.00039"></circle><path d="M14,15.126V5.06353a7.79268,7.79268,0,0,0-2,0V15.126A4.03044,4.03044,0,0,1,14,15.126Z"></path></g><g id="expand-less"><path d="M13,7.6,5.17,18.75,6.25,19,13,9.42,19.74,19l1-.28L13,7.6Z"></path></g><g id="expand-more"><path d="M13,18.91,5.2,7.77l1.08-.29L13,17.09l6.73-9.59,1,.28L13,18.91Z"></path></g><g id="file-download"><path d="M23,6.7c-0.3-0.1-0.7-0.3-1-0.4c-1.6-0.6-3.3-1-5-1.3v1c1.7,0.3,3.4,0.7,5,1.4L22,20H2L2,7.4C3.6,6.7,5.3,6.3,7,6V5 C5.3,5.3,3.6,5.7,2,6.3C1.7,6.4,1.3,6.5,1,6.7v0v14c0.1,0,0.2,0.1,0.3,0.1c0.3,0.1,0.5,0.2,0.8,0.3C5.3,22.4,8.6,23,12,23 s6.8-0.6,9.9-1.8c0.3-0.1,0.5-0.2,0.8-0.3c0.1,0,0.2-0.1,0.3-0.1L23,6.7z M12.5,16V1c-0.2,0-0.3,0-0.5,0s-0.3,0-0.5,0v15H12.5z M18,12.8v-1.2l-6,4.2l-6-4.2v1.2l6,4.2L18,12.8z"></path></g><g id="filter-list"><path d="M2,4l9,12.8532715V24l4-1.0878906v-6.0588379L24,4H2z M13,12c-1.7058716,0-3.3342896-0.329834-4.8268433-0.9272461 		L3.9209595,5h18.1580811l-4.2521973,6.0727539C16.3342896,11.670166,14.7058716,12,13,12z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="help"><path d="M0,0v20.167h7.646l2.375,3.291l2-3.291h7.896V0H0z M18.916,19.166H1V1h17.917L18.916,19.166L18.916,19.166z"></path><path d="M14.343,6.855c0.863,0,1.562-0.699,1.562-1.562c0-0.861-0.699-1.562-1.562-1.562s-1.562,0.7-1.562,1.562 C12.781,6.156,13.48,6.855,14.343,6.855z"></path><rect x="3.238" y="6.365" width="6.625" height="1.094"></rect><rect x="12.113" y="7.772" width="3.312" height="2.5"></rect><rect x="13.208" y="9.022" width="2.219" height="4.594"></rect><rect x="12.113" y="13.303" width="4.439" height="2.5"></rect><rect x="3.238" y="9.708" width="6.625" height="1.095"></rect><rect x="3.238" y="13.053" width="4.406" height="1.094"></rect></g><g id="help-outline"><path d="M0,0v20.167h7.646l2.375,3.291l2-3.291h7.896V0H0z M18.916,19.166H1V1h17.917L18.916,19.166L18.916,19.166z"></path><path d="M14.343,6.855c0.863,0,1.562-0.699,1.562-1.562c0-0.861-0.699-1.562-1.562-1.562s-1.562,0.7-1.562,1.562 C12.781,6.156,13.48,6.855,14.343,6.855z"></path><rect x="3.238" y="6.365" width="6.625" height="1.094"></rect><rect x="12.113" y="7.772" width="3.312" height="2.5"></rect><rect x="13.208" y="9.022" width="2.219" height="4.594"></rect><rect x="12.113" y="13.303" width="4.439" height="2.5"></rect><rect x="3.238" y="9.708" width="6.625" height="1.095"></rect><rect x="3.238" y="13.053" width="4.406" height="1.094"></rect></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"></path></g><g id="info"><path d="M0,0v20.167h7.646l2.375,3.291l2-3.291h7.896V0H0z M18.916,19.166H1V1h17.917L18.916,19.166L18.916,19.166z"></path><path d="M14.343,6.855c0.863,0,1.562-0.699,1.562-1.562c0-0.861-0.699-1.562-1.562-1.562s-1.562,0.7-1.562,1.562 C12.781,6.156,13.48,6.855,14.343,6.855z"></path><rect x="3.238" y="6.365" width="6.625" height="1.094"></rect><rect x="12.113" y="7.772" width="3.312" height="2.5"></rect><rect x="13.208" y="9.022" width="2.219" height="4.594"></rect><rect x="12.113" y="13.303" width="4.439" height="2.5"></rect><rect x="3.238" y="9.708" width="6.625" height="1.095"></rect><rect x="3.238" y="13.053" width="4.406" height="1.094"></rect></g><g id="info-outline"><path d="M0,0v20.167h7.646l2.375,3.291l2-3.291h7.896V0H0z M18.916,19.166H1V1h17.917L18.916,19.166L18.916,19.166z"></path><path d="M14.343,6.855c0.863,0,1.562-0.699,1.562-1.562c0-0.861-0.699-1.562-1.562-1.562s-1.562,0.7-1.562,1.562 C12.781,6.156,13.48,6.855,14.343,6.855z"></path><rect x="3.238" y="6.365" width="6.625" height="1.094"></rect><rect x="12.113" y="7.772" width="3.312" height="2.5"></rect><rect x="13.208" y="9.022" width="2.219" height="4.594"></rect><rect x="12.113" y="13.303" width="4.439" height="2.5"></rect><rect x="3.238" y="9.708" width="6.625" height="1.095"></rect><rect x="3.238" y="13.053" width="4.406" height="1.094"></rect></g><g id="insert-chart"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="insert-drive-file"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"></path></g><g id="keyboard-arrow-down"><path d="M13,18.91,5.2,7.77l1.08-.29L13,17.09l6.73-9.59,1,.28L13,18.91Z"></path></g><g id="keyboard-arrow-up"><path d="M13,7.6,5.17,18.75,6.25,19,13,9.42,19.74,19l1-.28L13,7.6Z"></path></g><g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g><g id="list"><path d="M21 5v1H5V5h16m0 7v1H5v-1h16m0 7v1H5v-1h16m1-15H4v3h18V4zm0 7H4v3h18v-3zm0 7H4v3h18v-3z"></path></g><g id="markdown" transform="matrix(0.04690339,0,0,0.04690339,0,5.225434)"><path d="m 123.38173,73.504 -50.39773,0 0,167.496 52.516,0 0,-93 50,60 47.62725,-60 0,93 49.87275,0 0,-167.496 -49.87276,0 L 175.5,135.5 Z M 39.998409,0 474.00159,0 C 496.08284,0 514,17.906303 514,39.994846 l 0,235.010304 C 514,297.09032 496.0921,315 474.00159,315 L 39.998409,315 C 17.917157,315 0,297.0937 0,275.00515 L 0,39.994846 C 0,17.909682 17.907898,0 39.998409,0 Z M 360,74.5 l -0.49739,0 -1e-5,86 -48.0026,0 74,80.5 74.00256,-80.99442 -49.97984,0 0,-85.50558 z m 0,0"></path></g><g id="menu"><path d="M21 5v1H5V5h16m0 7v1H5v-1h16m0 7v1H5v-1h16m1-15H4v3h18V4zm0 7H4v3h18v-3zm0 7H4v3h18v-3z"></path></g><g id="mode-edit"><path d="M19.8830566,3.1699219c-0.9934082-0.6955566-2.050354-1.2321777-3.1407471-1.6164551L5.5437012,17.5467529 		l-0.000061,6.1020508l5.7340698-2.0870361L22.4763184,5.5683594C21.7422485,4.675293,20.8764038,3.8654785,19.8830566,3.1699219z 		 M10.6394043,20.7298584l-4.0957642,1.4908447l0.000061-4.3586426l7.8498535-11.2108154l1.6383057,1.1470947L8.5754395,18.4472656 		l0.8191528,0.5734863l7.4563599-10.6489258l1.6383667,1.1472168L10.6394043,20.7298584z M19.0628662,8.6999512 		l-4.0957031-2.8679199l2.1446533-3.0628662c0.7702026,0.3275146,1.506897,0.7363281,2.1976929,1.2199707 		c0.6907349,0.4837646,1.3268433,1.0361328,1.8980103,1.6478271L19.0628662,8.6999512z"></path></g><g id="more-vert"><path d="M10.5001831,4.4997559C10.5001831,3.1191406,11.6193848,2,13,2c1.3805542,0,2.4997559,1.1191406,2.4997559,2.4997559 S14.3805542,6.9995117,13,6.9995117C11.6193848,6.9995117,10.5001831,5.8803711,10.5001831,4.4997559z M13,10.5002441 c-1.3806152,0-2.4998169,1.1191406-2.4998169,2.4997559S11.6193848,15.4998779,13,15.4998779 c1.3805542,0,2.4997559-1.1192627,2.4997559-2.4998779S14.3805542,10.5002441,13,10.5002441z M13,19.0004883 c-1.3806152,0-2.4998169,1.1191406-2.4998169,2.4997559S11.6193848,24.0001221,13,24.0001221 c1.3805542,0,2.4997559-1.1192627,2.4997559-2.4998779S14.3805542,19.0004883,13,19.0004883z"></path></g><g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="notifications-active"><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"></path></g><g id="open-in-new"><path d="M24.6329956,9.9816895l-9.9710083,6.9818115l-0.000061-4.4754639c-6.4926147,0-11.8948975,4.6552734-13.0593872,10.8093262 c-0.1524658-0.8056641-0.2355347-1.6357422-0.2355347-2.4858398c0-7.3425293,5.9523315-13.2949219,13.2949219-13.2949219 L14.6619873,3L24.6329956,9.9816895z"></path></g><g id="raml-r"><path d="M14.44,1.48H3L4.16,3.3H14.37a4.59,4.59,0,0,1,3.31,1.41A4.8,4.8,0,0,1,19,8.07,4.45,4.45,0,0,1,17.7,11.3a5.72,5.72,0,0,1-3.28,1.54H13.17l-3.45,0,1,1.72h1.51l.08.13h0l4.45,7.51,0,0,0,0a1,1,0,0,0,1.7-.71.54.54,0,0,0-.15-.41,1.21,1.21,0,0,1-.14-.2l-3.68-6.26a6.47,6.47,0,0,0,4.51-1.92A6.61,6.61,0,0,0,14.44,1.48Z"></path></g><g id="rate-review"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"></path></g><g id="refresh"><path d="M22,12.9998779c0,4.9705811-4.0294189,9-9,9c-1.0440674,0-2.0402832-0.1917725-2.9726562-0.5187988l1.5349731,2.192627 		l-0.6653442,0.7930908L7.8232422,20.076416L13,18.6850586v1.0354004l-2.8265991,0.7597656 		C11.0529175,20.814209,12.0047607,20.9998779,13,20.9998779c4.4111938,0,8-3.5887451,8-8 		c0-1.9970703-0.7360229-3.8251953-1.9505615-5.2283936l1.0626831-0.2856445C21.2950439,9.0090332,22,10.921875,22,12.9998779z 		 M13,5.0001221c0.9952393,0,1.9471436,0.1856689,2.8266602,0.5196533L13,6.2794189l0.000061,1.0355225l5.1766968-1.3913574 		l-3.0737305-4.3903809l-0.6653442,0.7930908l1.5349121,2.192627C15.0402832,4.1918945,14.0441284,4.0001221,13,4.0001221 		C8.02948,4.0001221,4.000061,8.029541,4.000061,13c0,2.078125,0.704895,3.9908447,1.8878174,5.5141602l1.0626831-0.2856445 		C5.736084,16.8251953,5.000061,14.9971924,5.000061,13C5.000061,8.5888672,8.5888062,5.0001221,13,5.0001221z"></path></g><g id="remove-circle-outline"><path d="M20 7h1v15.744C18.479 23.558 15.792 24 13 24s-5.479-.442-8-1.256V7h1v14.78h14V7zm2.747-1H3.253c.527-.733 1.135-1.404 1.811-2H9V2.306C10.304 2.105 11.64 2 13 2c1.36 0 2.696.105 4 .306V4h3.936c.676.596 1.284 1.267 1.811 2zM10 4h6v-.801C15.01 3.08 14.011 3 13 3s-2.009.08-3 .198V4zm0 15V9.037H9V19h1zm3.5 0V9.037h-1V19h1zm3.5 0V9.037h-1V19h1z"></path></g><g id="pin-drawer"><path d="M13.8993082,3.4355581l7.0314379,4.9234715c-0.5007572,0.1463709-1.0230217,0.2215881-1.5530128,0.2215881 		c-0.1495934,0-0.3085251-0.007165-0.4723873-0.0212765L18.331007,8.5098438l-3.5253258,5.0346861l0.2431707,0.5228872 		c0.6836739,1.4700317,0.6766796,3.1600895,0.0193348,4.6070614l-8.8596268-6.203578 		c1.0200305-1.0022087,2.4050174-1.5794764,3.8621583-1.5794764c0.1502523,0,0.3099775,0.007226,0.474719,0.0214834 		l0.5745583,0.0497179l3.1937542-4.5611515l0.3306684-0.4722414l-0.2429876-0.5227895 		C14.1125107,4.7848282,13.9437037,4.1142516,13.8993082,3.4355581 M13.0516243,1.6212608 		c-0.3259563,1.4169074-0.1637287,2.9012694,0.4429941,4.206656l-2.8629646,4.0887389 		c-0.1869087-0.0161734-0.3740377-0.0252066-0.560935-0.0252066c-2.0491304,0-4.0655956,0.9663448-5.3301387,2.7723055 		l10.6490097,7.4565134c1.3797503-1.9704952,1.5123148-4.439744,0.5659761-6.4745436l2.8639164-4.090107 		c0.1860065,0.0160275,0.3722572,0.0249758,0.5582504,0.0249758c1.2482109,0,2.4841042-0.3585854,3.545845-1.0469103 		L13.0516243,1.6212608L13.0516243,1.6212608z M10.0657015,18.3762074l-3.3737302,2.833107l1.5083604-4.1392517 		l-0.8479404-0.5937347l-2.8796754,7.902401l6.4409375-5.4087868L10.0657015,18.3762074z M15.2397041,6.6955462 		l-3.1956835,4.5639229c0.3131514,0.1211634,0.6159267,0.2716846,0.9053726,0.450428l3.022543-4.3166389 		C15.703474,7.1812396,15.459754,6.9468703,15.2397041,6.6955462z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="sentiment-very-dissatisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.18-12.24l-1.06 1.06-1.06-1.06L13 8.82l1.06 1.06L13 10.94 14.06 12l1.06-1.06L16.18 12l1.06-1.06-1.06-1.06 1.06-1.06zM7.82 12l1.06-1.06L9.94 12 11 10.94 9.94 9.88 11 8.82 9.94 7.76 8.88 8.82 7.82 7.76 6.76 8.82l1.06 1.06-1.06 1.06zM12 14c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="sentiment-neutral"><path d="M9 14h6v1.5H9z"></path><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="search"><path d="M22.9915771,22.8338623l-3.3870239-4.8436279c1.7915649-1.7678223,2.9039307-4.22229,2.9039307-6.9381104 		c0-5.3847656-4.3652344-9.75-9.75-9.75s-9.75,4.3652344-9.75,9.75s4.3652344,9.75,9.75,9.75 		c1.4985352,0,2.9124756-0.3480225,4.1809692-0.9520264l3.3898926,4.8476562L22.9915771,22.8338623z M4.6334839,11.052124 		c0-4.4801025,3.6448364-8.125,8.125-8.125c4.4801025,0,8.125,3.6448975,8.125,8.125s-3.6448975,8.125-8.125,8.125 		C8.2783203,19.177124,4.6334839,15.5322266,4.6334839,11.052124z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M23.9265747,11.7302246l-1.6564331-0.4438477c-0.244873-1.3276367-0.7642822-2.5585938-1.50354-3.6298828 		l0.8574219-1.4851074c-0.2607422-0.3286133-0.5421753-0.6459961-0.8458862-0.949707s-0.6211548-0.5852051-0.949646-0.8459473 		l-1.4850464,0.8574219c-1.0712891-0.7392578-2.3023682-1.2587891-3.6300049-1.5036621l-0.4437866-1.65625 		C13.8530273,2.0253906,13.4295044,2,13,2c-0.4294434,0-0.8529663,0.0253906-1.2695923,0.0732422l-0.4437866,1.65625 		c-1.3276367,0.244873-2.5586548,0.7644043-3.6299438,1.5036621L6.1715698,4.3757324 		c-0.3284912,0.2607422-0.6459961,0.5422363-0.949646,0.8459473c-0.3037109,0.3037109-0.585144,0.6210938-0.8459473,0.949707 		l0.8574829,1.4851074c-0.7391968,1.0712891-1.258606,2.3022461-1.503479,3.6298828l-1.6564941,0.4438477 		c-0.0479126,0.416748-0.0733643,0.8400879-0.0733643,1.2695312s0.0254517,0.8530273,0.0733643,1.2697754l1.6566162,0.4438477 		c0.244873,1.3273926,0.7643433,2.5581055,1.50354,3.6293945l-0.857666,1.4855957 		c0.2608032,0.3283691,0.5422363,0.645752,0.8459473,0.9494629c0.3036499,0.3037109,0.6211548,0.5852051,0.949646,0.8459473 		l1.4851685-0.8574219c1.0712891,0.739502,2.3023682,1.2590332,3.6299438,1.5041504l0.4436646,1.6557617 		c0.416687,0.0480957,0.84021,0.0734863,1.2696533,0.0734863c0.4295044,0,0.8530273-0.0253906,1.2696533-0.0734863 		l0.4437256-1.6557617c1.3275146-0.2451172,2.5586548-0.7646484,3.6299438-1.5041504l1.4851685,0.8574219 		c0.3284912-0.2607422,0.6459351-0.5422363,0.949646-0.8459473s0.585144-0.6210938,0.8458862-0.9494629l-0.8575439-1.4855957 		c0.7391968-1.0710449,1.258667-2.302002,1.50354-3.6293945l1.6565552-0.4438477 		c0.0479126-0.416748,0.0733643-0.840332,0.0733643-1.2697754S23.9744873,12.1469727,23.9265747,11.7302246z M21.1827393,15.0046387 		c-0.2069702,0.8442383-0.5404053,1.637207-0.9806519,2.3605957c-0.7047729,1.1584473-1.6780396,2.1318359-2.8361816,2.8369141 		c-0.7237549,0.4404297-1.5167236,0.7739258-2.3612061,0.980957c-0.6437988,0.157959-1.3128662,0.2509766-2.0046387,0.2509766 		c-0.6918335,0-1.3608398-0.0930176-2.0046997-0.2509766c-0.8444214-0.2070312-1.6375122-0.5405273-2.3612061-0.980957 		c-1.1582031-0.7050781-2.1314087-1.6784668-2.8361816-2.8369141c-0.4401855-0.7236328-0.7736206-1.5163574-0.9805908-2.3605957 		c-0.157959-0.644043-0.2509155-1.3132324-0.2509155-2.005127s0.0928955-1.3608398,0.2507324-2.0043945 		c0.2069702-0.8444824,0.5403442-1.6374512,0.9806519-2.361084c0.7047119-1.1582031,1.6780396-2.1315918,2.8363037-2.8364258 		c0.7236938-0.4404297,1.5167236-0.7739258,2.361145-0.980957c0.6438599-0.157959,1.3129272-0.2507324,2.0047607-0.2507324 		s1.3608398,0.0927734,2.0046997,0.2507324c0.8444214,0.2070312,1.6375122,0.5405273,2.3612061,0.980957 		c1.1582642,0.704834,2.1314697,1.6779785,2.8362427,2.8364258c0.4403076,0.7236328,0.7737427,1.5166016,0.9807129,2.361084 		c0.1578369,0.6435547,0.2507324,1.3125,0.2507324,2.0043945S21.3406982,14.3605957,21.1827393,15.0046387z M12.9996338,8.0941162 		c-2.7050781,0-4.9052734,2.2011719-4.9052734,4.90625s2.2001953,4.9052734,4.9052734,4.9052734 		s4.90625-2.2001953,4.90625-4.9052734S15.7047119,8.0941162,12.9996338,8.0941162z M12.9996338,16.9056396 		c-2.1533203,0-3.9052734-1.7519531-3.9052734-3.9052734c0-2.1542969,1.7519531-3.90625,3.9052734-3.90625 		c2.1542969,0,3.90625,1.7519531,3.90625,3.90625C16.9058838,15.1536865,15.1539307,16.9056396,12.9996338,16.9056396z"></path></g><g id="short-text"><path d="M4 9h16v2H4zm0 4h10v2H4z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="view-column"><path d="M1,3v1.4V5v15v0.5V21h22v-0.5V20V5V4.4V3H1z M9,12V5h6v7H9z M15,13v7H9v-7H15z M8,5v7H2V5H8z M2,13h6v7H2V13z M16,20v-7h6v7 H16z M22,12h-6V5h6V12z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="visibility"><circle cx="13" cy="13" r="3"></circle><path d="M13,5.5A11.83,11.83,0,0,0,2,13a11.82,11.82,0,0,0,22,0A11.83,11.83,0,0,0,13,5.5ZM13,19c-4.12,0-7.94-3.89-8-6s3.67-6.15,8-6,8,4,8,6S17,19,13,19Z"></path></g><g id="visibility-off"><path d="M13.14,10,16,12.86A3,3,0,0,0,13.14,10Z"></path><path d="M10.5,7.37A7.44,7.44,0,0,1,13,7c4.21.14,8,4,8,6a5.3,5.3,0,0,1-1.77,3.1l1.5,1.5A11.85,11.85,0,0,0,24,13,11.83,11.83,0,0,0,13,5.5a11.66,11.66,0,0,0-3.74.63Z"></path><path d="M4.37,3.81h0l0,0L3.06,5.06,5.89,7.89A11.88,11.88,0,0,0,2,13a11.81,11.81,0,0,0,15.58,6.57l3.23,3.23,1.28-1.28ZM13,19c-4.12,0-7.94-3.89-8-6A5.64,5.64,0,0,1,7.22,9.22l2.92,2.92a3,3,0,0,0,3.72,3.72l2.36,2.36A7.57,7.57,0,0,1,13,19Z"></path></g><g id="warning"><rect width="26" height="26" transform="translate(26 26) rotate(-180)" style="fill:none"></rect><path d="M13,24.00028A11.00028,11.00028,0,0,1,5.22163,5.22163,11.00028,11.00028,0,0,1,20.77838,20.77838,10.92831,10.92831,0,0,1,13,24.00028m0,1A12.00027,12.00027,0,1,0,.99973,13,12.00028,12.00028,0,0,0,13,25.00028h0Z"></path><circle cx="13" cy="18.99996" r="2.00039"></circle><path d="M14,15.126V5.06353a7.79268,7.79268,0,0,0-2,0V15.126A4.03044,4.03044,0,0,1,14,15.126Z"></path></g><g id="wrap-text"><path d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3 3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g></defs></svg></iron-iconset-svg><dom-module id="iron-collapse" assetpath="bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration, 300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration, 300ms);overflow:visible;}:host(.iron-collapse-closed){display:none;}:host(:not(.iron-collapse-opened)){overflow:hidden;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(size,animated){size="auto"===size?"":size;var willAnimate=animated&&!this.noAnimation&&this.isAttached&&this._desiredSize!==size;this._desiredSize=size;this._updateTransition(!1);if(willAnimate){var startSize=this._calcSize();if(""===size){this.style[this._dimensionMax]="";size=this._calcSize()}this.style[this._dimensionMax]=startSize;this.scrollTop=this.scrollTop;this._updateTransition(!0);willAnimate=size!==startSize}this.style[this._dimensionMax]=size;if(!willAnimate){this._transitionEnd()}},enableTransition:function(enabled){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!enabled},_updateTransition:function(enabled){this.style.transitionDuration=enabled&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var otherDimension="maxWidth"===this._dimensionMax?"maxHeight":"maxWidth";this.style[otherDimension]="";this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);if(this.opened){this.focus()}},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();this._setTransitioning(!1)},_onTransitionEnd:function(event){if(Polymer.dom(event).rootTarget===this){this._transitionEnd()}},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});</script><script>(function(global){"use strict";if(!global.ApiElements){global.ApiElements={}}if(!global.ApiElements.Amf){global.ApiElements.Amf={}}const ns={raml:{}};ns.raml.name="http://a.ml/";ns.raml.vocabularies={};ns.raml.vocabularies.name=ns.raml.name+"vocabularies/";ns.raml.vocabularies.document=ns.raml.vocabularies.name+"document#";ns.raml.vocabularies.http=ns.raml.vocabularies.name+"http#";ns.raml.vocabularies.security=ns.raml.vocabularies.name+"security#";ns.raml.vocabularies.shapes=ns.raml.vocabularies.name+"shapes#";ns.raml.vocabularies.data=ns.raml.vocabularies.name+"data#";ns.raml.vocabularies.docSourceMaps=ns.raml.vocabularies.name+"document-source-maps#";ns.w3={};ns.w3.name="http://www.w3.org/";ns.w3.hydra={};ns.w3.hydra.name=ns.w3.name+"ns/hydra/";ns.w3.hydra.core=ns.w3.hydra.name+"core#";ns.w3.xmlSchema=ns.w3.name+"2001/XMLSchema#";ns.w3.shacl={};ns.w3.shacl.name=ns.w3.name+"ns/shacl#";ns.w3.shacl.in=ns.w3.shacl.name+"in";ns.w3.shacl.defaultValueStr=ns.w3.shacl.name+"defaultValueStr";ns.w3.shacl.pattern=ns.w3.shacl.name+"pattern";ns.w3.shacl.minInclusive=ns.w3.shacl.name+"minInclusive";ns.w3.shacl.maxInclusive=ns.w3.shacl.name+"maxInclusive";ns.w3.shacl.multipleOf=ns.w3.shacl.name+"multipleOf";ns.w3.shacl.minLength=ns.w3.shacl.name+"minLength";ns.w3.shacl.maxLength=ns.w3.shacl.name+"maxLength";ns.w3.shacl.fileType=ns.w3.shacl.name+"fileType";ns.w3.shacl.shape=ns.w3.shacl.name+"Shape";ns.w3.hydra.supportedOperation=ns.w3.hydra.core+"supportedOperation";ns.schema={};ns.schema.name="http://schema.org/";ns.schema.schemaName=ns.schema.name+"name";ns.schema.desc=ns.schema.name+"description";ns.schema.doc=ns.schema.name+"documentation";ns.schema.webApi=ns.schema.name+"WebAPI";ns.schema.creativeWork=ns.schema.name+"CreativeWork";ns.schema.displayName=ns.schema.name+"displayName";ns.schema.title=ns.schema.name+"title";Object.freeze(ns.raml);Object.freeze(ns.raml.vocabularies);Object.freeze(ns.w3);Object.freeze(ns.w3.hydra);Object.freeze(ns.w3.shacl);Object.freeze(ns.schema);Object.freeze(ns);global.ApiElements.Amf.ns=ns;ApiElements.AmfHelperMixin=Polymer.dedupingMixin(base=>{class AHmixin extends base{static get properties(){return{amfModel:{type:Object},ns:{type:Object,value:function(){return ns},readOnly:!0}}}_getAmfKey(property){if(!property){return}let amf=this.amfModel;if(!amf||!property){return property}if(amf instanceof Array){amf=amf[0]}const ctx=amf["@context"];if(!ctx||!property){return property}property=property+"";const hashIndex=property.indexOf("#"),hashProperty=property.substr(0,hashIndex+1);for(let k in ctx){if(ctx.hasOwnProperty(k)){if(ctx[k]===property){return k}else if(-1===hashIndex&&0===property.indexOf(ctx[k])){const result=property.replace(ctx[k],k+":");return result}else if(ctx[k]===hashProperty){const result=k+":"+property.substr(hashIndex+1);return result}}}return property}_ensureAmfModel(amf){if(!amf){return}if(amf instanceof Array){amf=amf[0]}if(this._hasType(amf,ns.raml.vocabularies.document+"Document")){return amf}}_ensureArray(value){if(!value){return}if(value instanceof Array){return value}return[value]}_getValue(model,key){key=this._getAmfKey(key);let data=model&&model[key];if(!data){return data}if(data instanceof Array){data=data[0]}if(!data){return}const type=typeof data;if(-1!==["string","number","boolean","undefined"].indexOf(type)){return data}return data["@value"]}_getValueArray(model,key){key=this._getAmfKey(key);let data=model&&this._ensureArray(model[key]);if(!data||!(data instanceof Array)){return}return data.map(item=>item["@value"]||item)}_hasType(model,type){const types=this._ensureArray(model&&model["@type"]);if(!types||!types.length){return!1}const key=this._getAmfKey(type);for(let i=0;i<types.length;i++){if(types[i]===key){return!0}}return!1}_hasProperty(shape,key){key=this._getAmfKey(key);return!!(shape&&key&&key in shape)}_computePropertyArray(shape,key){if(!shape){return}key=this._getAmfKey(key);let data=this._ensureArray(shape&&shape[key]);if(!data||!(data instanceof Array)){return}return data}_computePropertyObject(shape,key){key=this._getAmfKey(key);const data=this._computePropertyArray(shape,key);return data&&data[0]}_computeHasStringValue(value){return!!value||0===value}_computeHasArrayValue(value){return!!(value instanceof Array&&value.length)}_computeDescription(shape){return this._getValue(shape,ns.schema.desc)}_computeHeaders(shape){return this._computePropertyArray(shape,ns.raml.vocabularies.http+"header")}_computeQueryParameters(shape){return this._computePropertyArray(shape,ns.raml.vocabularies.http+"parameter")}_computeResponses(shape){return this._computePropertyArray(shape,ns.w3.hydra.core+"response")}_computeServerVariables(server){return this._computePropertyArray(server,ns.raml.vocabularies.http+"variable")}_computeEndpointVariables(endpoint){return this._computeQueryParameters(endpoint)}_computePayload(expects){return this._computePropertyArray(expects,ns.raml.vocabularies.http+"payload")}_computeReturns(method){return this._computePropertyArray(method,ns.w3.hydra.core+"returns")}_computeSecurity(method){return this._computePropertyArray(method,ns.raml.vocabularies.security+"security")}_computeHasCustomProperties(shape){return this._hasProperty(shape,ns.raml.vocabularies.document+"customDomainProperties")}_computeApiVersion(amfModel){const api=this._computeWebApi(amfModel);if(!api){return}return this._getValue(api,ns.schema.name+"version")}_computeEncodes(model){if(!model){return}if(model instanceof Array){model=model[0]}const key=this._getAmfKey(ns.raml.vocabularies.document+"encodes"),data=model[key];if(data){return data instanceof Array?data[0]:data}}_computeDeclares(model){if(!model){return}if(model instanceof Array){model=model[0]}if(!model){return}const key=this._getAmfKey(ns.raml.vocabularies.document+"declares"),data=this._ensureArray(model[key]);return data instanceof Array?data:void 0}_computeReferences(model){if(!model){return}if(model instanceof Array){model=model[0]}if(!model){return}const key=this._getAmfKey(ns.raml.vocabularies.document+"references"),data=this._ensureArray(model[key]);return data instanceof Array?data:void 0}_computeWebApi(model){const enc=this._computeEncodes(model);if(!enc){return}if(this._hasType(enc,ns.schema.webApi)){return enc}}_computeServer(model){const api=this._computeWebApi(model);if(!api){return}const key=this._getAmfKey(ns.raml.vocabularies.http+"server"),srv=this._ensureArray(api[key]);return srv?srv[0]:void 0}_computeEndpointUri(server,endpoint,baseUri,version){let base=this._getBaseUri(baseUri,server)||"";if(base&&"/"===base[base.length-1]){base=base.substr(0,base.length-1)}base=this._ensureUrlScheme(base);const path=this._getValue(endpoint,ns.raml.vocabularies.http+"path");let result=base+(path||"");if(version&&result){result=result.replace("{version}",version)}return result}_getBaseUri(baseUri,server,protocols){if(baseUri){return baseUri}if(Polymer.IronMeta){let value=new Polymer.IronMeta({key:"ApiBaseUri"}).value;if(value){return value}}return this._getAmfBaseUri(server,protocols)||""}_getAmfBaseUri(server,protocols){let value=this._getValue(server,ns.raml.vocabularies.http+"url");value=this._ensureUrlScheme(value,protocols);return value}_ensureUrlScheme(value,protocols){if(value&&"string"===typeof value){if(0!==value.indexOf("http")){if(!protocols||!protocols.length){protocols=this._computeProtocols(this.amfModel)}if(protocols&&protocols.length){value=protocols[0].toLowerCase()+"://"+value}else{value="http://"+value}}}return value}_computeProtocols(model){const api=this._computeWebApi(model);if(!api){return}return this._getValueArray(api,ns.raml.vocabularies.http+"scheme")}_computeExpects(method){if(this._hasType(method,ns.w3.hydra.core+"Operation")){const key=this._getAmfKey(ns.w3.hydra.core+"expects"),expects=this._ensureArray(method[key]);if(expects){return expects instanceof Array?expects[0]:expects}}}_computePropertyValue(item){const skey=this._getAmfKey(ns.raml.vocabularies.http+"schema");let schema=item&&item[skey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(schema,ns.w3.shacl.name+"defaultValue");if(!value){const examplesKey=this._getAmfKey(ns.raml.vocabularies.document+"examples");let example=schema[examplesKey];if(example){if(example instanceof Array){example=example[0]}value=this._getValue(example,ns.w3.shacl.name+"raw")}}return value}_computeEndpoints(webApi){if(!webApi){return[]}const key=this._getAmfKey(ns.raml.vocabularies.http+"endpoint");return this._ensureArray(webApi[key])}_computeEndpointModel(webApi,id){const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}return endpoints.find(item=>item["@id"]===id)}_computeEndpointByPath(webApi,path){if(!path||!webApi){return}const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){const ePath=this._getValue(endpoints[i],this.ns.raml.vocabularies.http+"path");if(ePath===path){return endpoints[i]}}}_computeMethodModel(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}return methods.find(item=>item["@id"]===selected)}_computeOperations(webApi,id){const endpoint=this._computeEndpointModel(webApi,id);if(!endpoint){return[]}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);return this._ensureArray(endpoint[opKey])}_computeMethodEndpoint(webApi,methodId){if(!webApi||!methodId){return}const endpoints=this._computeEndpoints(webApi);if(!endpoints){return}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);for(let i=0,len=endpoints.length;i<len;i++){const endpoint=endpoints[i];let methods=endpoint[opKey];if(!methods){continue}if(!(methods instanceof Array)){methods=[methods]}for(let j=0,jLen=methods.length;j<jLen;j++){if(methods[j]["@id"]===methodId){return endpoint}}}}__computeMethodsListForMethod(webApi,methodId){const endpoint=this._computeMethodEndpoint(webApi,methodId);if(!endpoint){return}const opKey=this._getAmfKey(ns.w3.hydra.supportedOperation);return this._ensureArray(endpoint[opKey])}_computeType(declares,references,selected){if(!declares||!selected){return}let type=declares.find(item=>item["@id"]===selected);if(!type&&references&&references.length){for(let i=0,len=references.length;i<len;i++){if(!this._hasType(references[i],ns.raml.vocabularies.document+"Module")){continue}type=this._computeReferenceType(references[i],selected);if(type){break}}}return type}_computeReferenceType(reference,selected){const declare=this._computeDeclares(reference);if(!declare){return}let result=declare.find(item=>{if(item instanceof Array){item=item[0]}return item["@id"]===selected});if(result instanceof Array){result=result[0]}return this._resolve(result)}_computeSecurityModel(declares,selected){if(!declares||!selected){return}return declares.find(item=>item["@id"]===selected)}_computeDocument(webApi,selected){if(!webApi||!selected){return}const key=this._getAmfKey(ns.schema.doc),docs=this._ensureArray(webApi[key]);return docs&&docs.find(item=>item["@id"]===selected)}_resolve(shape){const amf=this.amfModel;if("object"!==typeof shape||shape instanceof Array||!amf||shape.__apicResolved){return shape}let refKey=this._getAmfKey(ns.raml.vocabularies.document+"link-target"),refValue=this._ensureArray(shape[refKey]),refData;if(refValue){const refKey=refValue[0]["@id"];if(refKey===shape["@id"]){shape.__apicResolved=!0;return shape}refData=this._getLinkTarget(amf,refKey)}else{refKey=this._getAmfKey(ns.raml.vocabularies.document+"reference-id");refValue=this._ensureArray(shape[refKey]);if(refValue){const refKey=refValue[0]["@id"];if(refKey===shape["@id"]){shape.__apicResolved=!0;return shape}refData=this._getReferenceId(amf,refKey)}}if(!refData){this._resolveRecursive(shape);shape.__apicResolved=!0;return shape}const copy=Object.assign({},refData);delete copy["@id"];const types=copy["@type"];if(types){if(shape["@type"]){shape["@type"]=shape["@type"].concat(types)}else{shape["@type"]=types}delete copy["@type"]}Object.assign(shape,copy);shape.__apicResolved=!0;this._resolveRecursive(shape);return shape}_getLinkTarget(amf,id){if(!amf||!id){return}const declares=this._computeDeclares(amf);if(!declares){return}let target;for(let i=0;i<declares.length;i++){const _ref=declares[i];if(_ref&&_ref["@id"]===id){target=_ref;break}}if(!target){return}target=this._resolve(target);return target}_getReferenceId(amf,id){if(!amf||!id){return}const refs=this._computeReferences(amf);if(!refs){return}for(let i=0;i<refs.length;i++){const _ref=refs[i],enc=this._computeEncodes(_ref);if(enc){if(enc["@id"]===id){return enc}}}}_resolveRecursive(shape){Object.keys(shape).forEach(key=>{const currentShape=shape[key];if(currentShape instanceof Array){for(let i=0,len=currentShape.length;i<len;i++){currentShape[i]=this._resolve(currentShape[i])}}else if("object"===typeof currentShape){shape[key]=this._resolve(currentShape)}})}_getExampleValue(item,isJson){item=this._resolve(item);let data=this._getValue(item,ns.w3.shacl.name+"raw");if(!data||isJson&&!("{"===data[0]||"["===data[0])){const key=this._getAmfKey(ns.raml.vocabularies.document+"structuredValue"),structured=this._ensureArray(item[key]);if(structured){data=this._computeExampleFromStructuredValue(structured[0]);data=JSON.stringify(data,null,2)}}return data}_computeExampleFromStructuredValue(model){if(this._hasType(model,ns.raml.vocabularies.data+"Scalar")){return this._computeStructuredExampleValue(this._getValue(model,ns.raml.vocabularies.data+"value"))}const isObject=this._hasType(model,ns.raml.vocabularies.data+"Object"),result=isObject?{}:[],modelKeys=["@id","@type"];Object.keys(model).forEach(key=>{if(-1!==modelKeys.indexOf(key)){return}const value=this._computeStructuredExampleValue(model[key][0]);if(isObject){const name=key.substr(key.indexOf("#")+1);result[name]=value}else{result.push(value)}});return result}_computeStructuredExampleValue(model){if(!model){return}if("string"===typeof model){return model}if(this._hasType(model,ns.raml.vocabularies.data+"Scalar")){const key=this._getAmfKey(ns.raml.vocabularies.data+"value"),mValue=this._ensureArray(model[key])[0],type=mValue["@type"],value=mValue["@value"];switch(type){case ns.w3.xmlSchema+"boolean":return"true"===value?!0:!1;case ns.w3.xmlSchema+"integer":case ns.w3.xmlSchema+"long":case ns.w3.xmlSchema+"double":case ns.w3.xmlSchema+"float":case ns.raml.vocabularies.shapes+"number":return+value;default:return value;}}return this._computeExampleFromStructuredValue(model)}}return AHmixin})})(window);</script><dom-module id="http-method-label-common-styles" assetpath="bower_components/http-method-label/"><template><style>:host{--method-label-default-background-color:rgba(128, 128, 128, 0.12);--method-label-default-color:rgb(128, 128, 128);--method-label-common-style:{display:inline-block;margin-right:8px;margin-bottom:8px;padding:var(--http-method-label-padding, 2px 6px);background-color:var(--http-method-label-background-color, var(--method-label-default-background-color));color:var(--http-method-label-color, var(--method-label-default-color));text-transform:uppercase;border-radius:var(--http-method-label-border-radius, 3px);font-weight:var(--http-method-label-font-weigth, 400);font:inherit;font-size:inherit;@apply --http-method-label;};--method-label-get:{background-color:var(--http-method-label-get-background-color, rgba(0, 128, 0, 0.12));color:var(--http-method-label-get-color, rgb(0, 128, 0));@apply --http-method-label-get;};--method-label-post:{background-color:var(--http-method-label-post-background-color, rgba(33, 150, 243, 0.12));color:var(--http-method-label-post-color, rgb(33, 150, 243));@apply --http-method-label-post;};--method-label-put:{background-color:var(--http-method-label-put-background-color, rgba(255, 165, 0, 0.12));color:var(--http-method-label-put-color, rgb(255, 165, 0));@apply --http-method-label-put;};--method-label-delete:{background-color:var(--http-method-label-delete-background-color, rgba(244, 67, 54, 0.12));color:var(--http-method-label-delete-color, rgb(244, 67, 54));@apply --http-method-label-delete;};--method-label-patch:{background-color:var(--http-method-label-patch-background-color, rgba(156, 39, 176, 0.12));color:var(--http-method-label-patch-color, rgb(156, 39, 176));@apply --http-method-label-patch;};--method-label-options:{background-color:var(--http-method-label-options-background-color, var(--method-label-default-background-color));color:var(--http-method-label-options-color, var(--method-label-default-color));@apply --http-method-label-options;};--method-label-head:{background-color:var(--http-method-label-head-background-color, var(--method-label-default-background-color));color:var(--http-method-label-head-color, var(--method-label-default-color));@apply --http-method-label-head;};--method-label-trace:{background-color:var(--http-method-label-trace-background-color, var(--method-label-default-background-color));color:var(--http-method-label-trace-color, var(--method-label-default-color));@apply --http-method-label-trace;};--method-label-connect:{background-color:var(--http-method-label-connect-background-color, var(--method-label-default-background-color));color:var(--http-method-label-connect-color, var(--method-label-default-color));@apply --http-method-label-connect;};}.method-label{@apply --method-label-common-style;}.method-label[data-method="get"],
    .method-label[data-method="GET"]{@apply --method-label-get;}.method-label[data-method="post"],
    .method-label[data-method="POST"]{@apply --method-label-post;}.method-label[data-method="put"],
    .method-label[data-method="PUT"]{@apply --method-label-put;}.method-label[data-method="delete"],
    .method-label[data-method="DELETE"]{@apply --method-label-delete;}.method-label[data-method="patch"],
    .method-label[data-method="PATCH"]{@apply --method-label-patch;}.method-label[data-method="options"],
    .method-label[data-method="OPTIONS"]{@apply --method-label-options;}.method-label[data-method="head"],
    .method-label[data-method="HEAD"]{@apply --method-label-head;}.method-label[data-method="trace"],
    .method-label[data-method="TRACE"]{@apply --method-label-trace;}.method-label[data-method="connect"],
    .method-label[data-method="CONNECT"]{@apply --method-label-connect;}</style></template></dom-module><dom-module id="api-navigation" assetpath="bower_components/api-navigation/"><template><style include="http-method-label-common-styles"></style><style>:host{display:block;background-color:inherit;color:inherit;overflow:auto;position:relative;@apply --arc-font-body1;@apply --api-navigation;}h3,
    .list-item.summary{@apply --arc-font-common-base;font-size:var(--api-navigation-list-section-font-size, 16px);font-weight:500;line-height:24px;color:var(--api-navigation-header-color, rgba(0, 0, 0, 0.84));@apply --layout-flex;padding:0;margin:0;}.list-item.summary{padding:12px 16px;@apply --api-navigation-summary-label;}.list-item.endpoint{font-weight:500;font-size:var(--api-navigation-endpoint-font-size, 15px);user-select:none;font-weight:normal;@apply --layout-horizontal;}.list-item.endpoint:first-of-type{margin-top:0px;}.path-details{@apply --layout-flex;}.path-name,
    .endpoint-name{overflow:hidden;text-overflow:ellipsis;}.path-name{font-size:var(--api-navigation-path-label-font-size, 13px);color:var(--api-navigation-path-label-color, #616161);}*[hidden]{display:none !important;}.children{background-color:inherit;}.section-title{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;padding:var(--api-navigation-section-title-padding, 4px 16px);background-color:var(--api-navigation-section-title-background-color, inherit);user-select:none;min-height:40px;}.list-item{display:block;position:relative;min-height:var(--api-navigation-list-item-min-height, 40px);padding:var(--api-navigation-list-item-padding, 4px 16px);border:none;outline:none;background-color:inherit;width:100%;text-align:left;box-sizing:border-box;cursor:pointer;word-break:break-all;color:var(--api-navigation-list-item-color, rgba(0, 0, 0, 0.84));@apply --layout-horizontal;@apply --layout-center;@apply --api-navigation-list-item;}.list-item.iron-selected{font-weight:var(--api-navigation-list-item-selected-weight, bold);background-color:var(--api-navigation-list-item-selected-background-color, var(--accent-color));color:var(--api-navigation-list-item-selected-color, #fff);@apply --api-navigation-list-item-selected;}.list-item.passive-selected{font-weight:var(--api-navigation-list-item-selected-weight, bold);@apply --api-navigation-list-item-selected-passive;}.list-item[disabled]{color:var(--api-navigation-list-item-disabled-color, var(--disabled-text-color));@apply --api-navigation-list-item-disabled;}.list-item:focus{position:relative;outline:0;@apply --api-navigation-list-item-focused;}.list-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --api-navigation-list-item-focused-before;}.list-item:hover:not(.iron-selected){@apply --api-navigation-list-item-hovered;}.toggle-button,
    .endpoint-toggle-button{transform:rotateZ(0deg);transition:color 0.25s ease-in-out, transform 0.3s ease-in-out;}.toggle-button{color:var(--api-navigation-toggle-icon-color, rgba(0, 0, 0, 0.74));@apply --api-navigation-toggle-icon;}.endpoint-toggle-button{color:var(--api-navigation-endpoint-toggle-icon-color, var(--api-navigation-toggle-icon-color, rgba(0, 0, 0, 0.74)));transform:rotateZ(0deg);transition:color 0.25s ease-in-out, transform 0.3s ease-in-out;@apply --api-navigation-toggle-icon;@apply --api-navigation-endpoint-toggle-icon;}.toggle-button:hover{color:var(--api-navigation-toggle-icon-hover-color, var(--secondary-button-color, rgba(0, 0, 0, 0.88)));}.endpoint-toggle-button:hover{color:var(--api-navigation-endpoint-toggle-icon-hover-color, var(--api-navigation-toggle-icon-hover-color, var(--secondary-button-color, rgba(0, 0, 0, 0.88))));}[data-opened] .toggle-button,
    [endpoint-opened] .endpoint-toggle-button{transform:rotateZ(-180deg);}.method-label{margin-bottom:0;white-space:nowrap;}.list-item.iron-selected .method-label[data-method]{color:var(--method-display-selected-color, #fff);}.operation{padding-left:var(--api-navigation-operation-item-padding-left, 24px);font-size:var(--api-navigation-operation-font-size, 14px);}.operation-collapse{@apply --api-navigation-operation-collapse;}[endpoint-opened]{background-color:var(--api-navigation-operation-endpoint-opened-background-color, inherit);}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[_renderSummary]]"><section class="summary"><div class="list-item summary" role="option" tabindex="0" data-api-id="summary" data-shape="summary" on-click="_itemClickHandler">[[summaryLabel]]</div></section></template><template is="dom-if" if="[[hasEndpoints]]"><section class="endpoints" data-opened$="[[endpointsOpened]]"><div class="section-title" data-section="endpoints" on-click="_toggleSection" title="Toggle endpoints list"><h3>Endpoints</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[endpointsOpened]]"><div class="children"><template is="dom-repeat" items="[[endpoints]]"><div class="list-item endpoint" hidden$="[[item.hidden]]" data-endpoint-id$="[[item.id]]" data-endpoint-path$="[[item.path]]" on-click="_toggleEndpoint" title="Toggle endpoint documentation" style$="[[_computeEndpointPadding(item.indent, indentSize)]]"><div class="path-details"><div class="endpoint-name">[[item.label]]</div><template is="dom-if" if="[[_computeRenderParth(allowPaths, item.renderPath)]]"><div class="path-name">[[item.path]]</div></template></div><paper-icon-button class="endpoint-toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse class="operation-collapse" hidden$="[[item.hidden]]" data-api-id$="[[item.id]]"><div class="list-item operation" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="endpoint" on-click="_itemClickHandler" on-keyup="_spaceUpHandler" on-keydown="_spaceDownHandler" style$="[[_computeMethodPadding(item.indent, indentSize)]]">Overview</div><template is="dom-repeat" items="[[item.methods]]" data-query="" as="methodItem" on-rendered-item-count-changed="_methodsCountChanged" filter="_methodFilter" observe="method label"><div class="list-item operation" role="option" tabindex="0" data-api-id$="[[methodItem.id]]" data-parent-id$="[[item.id]]" data-shape="method" on-click="_itemClickHandler" on-keyup="_spaceUpHandler" on-keydown="_spaceDownHandler" style$="[[_computeMethodPadding(item.indent, indentSize)]]"><span class="method-label" data-method$="[[methodItem.method]]">[[methodItem.method]]</span> [[methodItem.label]]</div></template></iron-collapse></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasDocs]]"><section class="documentation" data-opened$="[[docsOpened]]"><div class="section-title" data-section="docs" on-click="_toggleSection" title="Toggle documentation list"><h3>Documentation</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]" on-click="_itemClickHandler"></paper-icon-button></div><iron-collapse opened="[[docsOpened]]"><div class="children"><template is="dom-repeat" items="[[docs]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="documentation" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasTypes]]"><section class="types" data-opened$="[[typesOpened]]"><div class="section-title" data-section="types" on-click="_toggleSection" title="Toggle types list"><h3>Types</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[typesOpened]]"><div class="children"><template is="dom-repeat" items="[[types]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="type" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template><template is="dom-if" if="[[hasSecurity]]"><section class="security" data-opened$="[[securityOpened]]"><div class="section-title" data-section="security" on-click="_toggleSection" title="Toggle security list"><h3>Security</h3><paper-icon-button class="toggle-button" icon="arc:keyboard-arrow-down" noink="[[noink]]"></paper-icon-button></div><iron-collapse opened="[[securityOpened]]"><div class="children"><template is="dom-repeat" items="[[security]]" filter="_labelFilter" observe="label" data-query=""><div class="list-item" role="option" tabindex="0" data-api-id$="[[item.id]]" data-shape="security" on-click="_itemClickHandler">[[item.label]]</div></template></div></iron-collapse></section></template></template><script>class ApiNavigation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-navigation"}static get properties(){return{aware:String,selected:{type:String,notify:!0,observer:"_selectedChangd"},selectedType:{type:String,notify:!0},summary:Boolean,summaryLabel:{type:String,value:"Summary"},docs:{type:Array,readOnly:!0},hasDocs:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(docs)"},docsOpened:Boolean,types:{type:Array,readOnly:!0},hasTypes:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(types)"},typesOpened:Boolean,security:{type:Array,readOnly:!0},hasSecurity:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(security)"},securityOpened:Boolean,endpoints:{type:Array,readOnly:!0},hasEndpoints:{type:Boolean,readOnly:!0,computed:"_computeHasArrayValue(endpoints)"},endpointsOpened:Boolean,noink:Boolean,query:{type:String,observer:"_queryChanged"},indentSize:{type:Number,value:8},_isFragment:{type:Boolean,value:!1},_renderSummary:{type:Boolean,computed:"_computeRenderSummary(summary, _isFragment)"},allowPaths:Boolean}}static get observers(){return["_amfChanged(amfModel)","_selectionChnaged(selected, selectedType)"]}constructor(){super();this._navigationChangeHandler=this._navigationChangeHandler.bind(this)}connectedCallback(){super.connectedCallback();if(!this.getAttribute("role")){this.setAttribute("role","navigation")}window.addEventListener("api-navigation-selection-changed",this._navigationChangeHandler)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("api-navigation-selection-changed",this._navigationChangeHandler)}_amfChanged(model){if(!model){return}if(model instanceof Array){model=model[0]}let data={},isFragment=!0;const moduleKey=this._getAmfKey(this.ns.raml.vocabularies.document+"Module");if(this._hasType(model,this.ns.raml.vocabularies.document+"Document")){isFragment=!1;model=this._ensureAmfModel(model);data=this._collectData(model)}else if(this._hasType(model,this.ns.raml.vocabularies.document+"SecuritySchemeFragment")){data=this._collectSecurityData(model);this.securityOpened=!0}else if(this._hasType(model,this.ns.raml.vocabularies.document+"UserDocumentation")){data=this._collectDocumentationData(model);this.docsOpened=!0}else if(this._hasType(model,this.ns.raml.vocabularies.document+"DataType")){data=this._collectTypeData(model);this.typesOpened=!0}else if(moduleKey===model["@type"][0]){data=this._collectData(model)}if(this._isFragment!==isFragment){this._isFragment=isFragment}this._setDocs(data.documentation);this._setTypes(data.types);this._setSecurity(data.securitySchemes);this._setEndpoints(data.endpoints);Polymer.RenderStatus.afterNextRender(this,()=>{this._selectedChangd(this.selected)})}_collectData(model){const result={documentation:[],types:[],securitySchemes:[],endpoints:[]};if(!model){return result}result._typeIds=[];result._basePaths=[];this._traverseDeclarations(model,result);this._traverseReferences(model,result);this._traverseEncodes(model,result);delete result._typeIds;delete result._basePaths;return result}_collectSecurityData(model){const result={securitySchemes:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendSecurityItem(encodes,result);return result}_collectDocumentationData(model){const result={documentation:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendDocumentationItem(encodes,result);return result}_collectTypeData(model){const result={types:[],_typeIds:[]};let encodes=this._computeEncodes(model);if(!encodes){return}this._appendTypeItem(encodes,result);delete result._typeIds;return result}_traverseDeclarations(model,target){const declares=this._computeDeclares(model);if(!declares){return}declares.forEach(item=>this._appendModelItem(item,target))}_traverseReferences(model,target){const refs=this._computeReferences(model);if(!refs){return}refs.forEach(item=>{if(!this._hasType(item,this.ns.raml.vocabularies.document+"Module")){return}this._traverseDeclarations(item,target)})}_traverseEncodes(model,target){const data=this._computeWebApi(model);if(!data){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoint=this._ensureArray(data[ekey]);if(endpoint){endpoint.forEach(item=>this._appendModelItem(item,target))}const dkey=this._getAmfKey(this.ns.schema.doc),documentation=this._ensureArray(data[dkey]);if(documentation){documentation.forEach(item=>this._appendModelItem(item,target))}}_appendModelItem(item,target){if(this._hasType(item,this.ns.w3.shacl.shape)){this._appendTypeItem(item,target)}else if(this._hasType(item,this.ns.raml.vocabularies.security+"SecurityScheme")){this._appendSecurityItem(item,target)}else if(this._hasType(item,this.ns.schema.creativeWork)){this._appendDocumentationItem(item,target)}else if(this._hasType(item,this.ns.raml.vocabularies.http+"EndPoint")){this._appendEndpointItem(item,target)}}_appendTypeItem(item,target){const w3name=this._getValue(item,this.ns.w3.shacl.name+"name");if(w3name&&0===w3name.indexOf("amf_inline_type")){return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name&&w3name){name=w3name}else if(!name){return}const id=item["@id"];if(!id){return}const rfIdKey=this._getAmfKey(this.ns.raml.vocabularies.document+"reference-id"),compareId=item["@id"].toLowerCase(),refNode=this._ensureArray(item[rfIdKey]),refId=refNode?refNode[0]["@id"].toLowerCase():void 0,idIndex=target._typeIds.indexOf(compareId),refIndex=refId?target._typeIds.indexOf(refId):-1;if(-1===idIndex&&-1===refIndex){target._typeIds[target._typeIds.length]=id;if(refId){target._typeIds[target._typeIds.length]=refId}target.types.push({label:name,id:id})}}_appendSecurityItem(item,target){let name=this._getValue(item,this.ns.schema.displayName);if(!name){name=this._getValue(item,this.ns.raml.vocabularies.security+"name")}if(!name){name=this._getValue(item,this.ns.raml.vocabularies.security+"type")}const id=item["@id"];target.securitySchemes.push({label:name,id:id})}_appendDocumentationItem(item,target){const name=this._getValue(item,this.ns.schema.title),id=item["@id"];target.documentation.push({label:name,id:id})}_appendEndpointItem(item,target){const result={};let name=this._getValue(item,this.ns.schema.schemaName);const path=this._getValue(item,this.ns.raml.vocabularies.http+"path");result.path=path;let tmpPath=path;if("/"===tmpPath[0]){tmpPath=tmpPath.substr(1)}const parts=tmpPath.split("/");let indent=0;target._basePaths[target._basePaths.length]=path;if(1<parts.length){let lowerParts=parts.slice(0,parts.length-1);if(lowerParts.length){for(let i=lowerParts.length-1;0<=i;i--){const currentPath="/"+lowerParts.slice(0,i+1).join("/");if(-1!==target._basePaths.indexOf(currentPath)){indent++}}}}if(!name){result.renderPath=!1;if(0<indent){try{name=this._computePathName(path,parts,indent,target._basePaths)}catch(_){name=path}}else{name=path}}else{result.renderPath=!0}const id=item["@id"],key=this._getAmfKey(this.ns.w3.hydra.supportedOperation),operations=this._ensureArray(item[key])||[],methods=operations.map(op=>this._createOperationModel(op));result.label=name;result.id=id;result.indent=indent;result.methods=methods;target.endpoints.push(result)}_computePathName(currentPath,parts,indent,basePaths){let path="";for(let i=0,len=parts.length;i<len;i++){path+="/"+parts[i];if(-1!==basePaths.indexOf(path)){indent--}if(0===indent){break}}return currentPath.replace(path,"")}_createOperationModel(item){let name=this._getValue(item,this.ns.schema.schemaName);const methodKey=this.ns.w3.hydra.core+"method",id=item["@id"],method=this._getValue(item,methodKey);return{label:name,id:id,method:method}}_toggleSection(e){const path=e.composedPath();let node;while(!0){node=path.shift();if(!node){return}if(node.dataset&&node.dataset.section){break}}const section=node.dataset.section,openedKey=section+"Opened";this[openedKey]=!this[openedKey]}_selectItem(node){const id=node.dataset.apiId,shape=node.dataset.shape;this.selectedType=void 0;this.selected=id;this.selectedType=shape}_addSelection(id){if(!this.shadowRoot){return}let node=this.shadowRoot.querySelector(`[data-api-id="${id}"]`);if(!node){return}if("IRON-COLLAPSE"===node.nodeName){node=this.shadowRoot.querySelector(`.operation[data-api-id="${id}"]`)}if(!node){return}node.classList.add("iron-selected");let collapse;switch(node.dataset.shape){case"method":case"endpoint":collapse=node.parentElement;break;case"type":case"documentation":case"security":collapse=node.parentElement.parentElement;break;}if(collapse&&!collapse.opened){collapse.opened=!0;collapse.setAttribute("endpoint-opened",!0)}return node.dataset.shape}_clearSelection(){if(!this.shadowRoot){return}const nodes=this.shadowRoot.querySelectorAll(".iron-selected");for(let i=0,len=nodes.length;i<len;i++){nodes[i].classList.remove("iron-selected")}}toggleOperations(id){let selector=`.operation-collapse[data-api-id="${id}"]`;const collapse=this.shadowRoot.querySelector(selector);if(!collapse){return}collapse.opened=!collapse.opened;selector=`.list-item.endpoint[data-endpoint-id="${id}"]`;const label=this.shadowRoot.querySelector(selector);if(!label){console.warn("Expected label for ",id);return}if(collapse.opened){label.setAttribute("endpoint-opened",!0);collapse.setAttribute("endpoint-opened",!0)}else{label.removeAttribute("endpoint-opened");collapse.removeAttribute("endpoint-opened")}}_selectedChangd(current){this._clearSelection();this._cleanPassiveSelection();if(current){this._addSelection(current)}}_labelFilter(item){if(!this.__effectiveQuery){return!0}return-1!==item.label.indexOf(this.__effectiveQuery)}_methodFilter(item){if(!this.__effectiveQuery){return!0}return-1!==(item.label||"").toLowerCase().indexOf(this.__effectiveQuery)||-1!==item.method.indexOf(this.__effectiveQuery)}_queryChanged(){if(this.__queryDebouncer){return}this.__queryDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this._flushQuery();this.__queryDebouncer=!1})}_flushQuery(){let q=this.query;if(q){q=q.toLowerCase()}this.__effectiveQuery=q;const repeaters=this.shadowRoot.querySelectorAll("dom-repeat[data-query]");for(let i=0,len=repeaters.length;i<len;i++){repeaters[i].render()}}_methodsCountChanged(e){const state=e.model.get("item.hidden");if(0===e.detail.value&&this.__effectiveQuery){if(!state){e.model.set("item.hidden",!0)}}else{if(state){e.model.set("item.hidden",!1)}}}_selectionChnaged(selected,selectedType){if(!selectedType||this.__cancelNavigationEvent){return}let endpointId;if("method"===selectedType&&selected){const node=this.shadowRoot.querySelector(`.operation[data-api-id="${selected}"]`);if(node){endpointId=node.dataset.parentId}if(!endpointId){console.warn(`Expecting endpointId to be set on the event.`)}}const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:selected,type:selectedType,endpointId}});this.dispatchEvent(e)}_itemClickHandler(e){let target;if(e.currentTarget){target=e.currentTarget}else{if(e.target.classList.contains("method-label")){target=e.target.parentNode}else{target=e.target}}this._selectItem(target)}_navigationChangeHandler(e){if(e.composedPath()[0]===this){return}this._cleanPassiveSelection();if(!0===e.detail.passive){this._handlePassiveNavigation(e.detail);return}if(this.selected!==e.detail.selected){this.__cancelNavigationEvent=!0;this.selected=e.detail.selected;this.selectedType=e.detail.type;this.__cancelNavigationEvent=!1}}_handlePassiveNavigation(detail){switch(detail.type){case"method":this._selectMethodPassive(detail.selected);break;}}_cleanPassiveSelection(){if(!this.__hasPassiveSelection){return}const nodes=this.shadowRoot.querySelectorAll(".passive-selected");for(let i=0,len=nodes.length;i<len;i++){nodes[i].classList.remove("passive-selected")}this.__hasPassiveSelection=!1}_selectMethodPassive(id){const node=this.shadowRoot.querySelector(`[data-api-id="${id}"]`);if(!node){return}node.classList.add("passive-selected");this.__hasPassiveSelection=!0;if(!node.parentElement.opened){node.parentElement.opened=!0}}_toggleEndpoint(e){const path=e.composedPath();while(!0){const node=path.shift();if(!node){return}if(1!==node.nodeType){continue}if(!node.dataset.endpointId){continue}this.toggleOperations(node.dataset.endpointId);break}}_computeEndpointPadding(factor,size){const padding=this._computeEndpointPaddingLeft();if(1>factor){return`padding-left: ${padding}px`}return`padding-left: ${factor*size+padding}px`}_computeMethodPadding(factor,size){const padding=this._computeOperationPaddingLeft();if(1>factor){return`padding-left: ${padding}px`}return`padding-left: ${factor*size+padding}px`}_computeOperationPaddingLeft(){let paddingLeft;const prop="--api-navigation-operation-item-padding-left",defaultPadding=24;if(window.ShadyCSS){paddingLeft=window.ShadyCSS.getComputedStyleValue(this,prop)}else{paddingLeft=getComputedStyle(this).getPropertyValue(prop)}if(!paddingLeft){return defaultPadding}paddingLeft=paddingLeft.replace("px","").trim();if(isNaN(paddingLeft)){return defaultPadding}return+paddingLeft}_computeEndpointPaddingLeft(){let padding;const prop="--api-navigation-list-item-padding",defaultPadding=16;if(window.ShadyCSS){padding=window.ShadyCSS.getComputedStyleValue(this,prop)}else{padding=getComputedStyle(this).getPropertyValue(prop)}if(!padding){return defaultPadding}const parts=padding.split(" ");let paddingLeftValue;switch(parts.length){case 1:paddingLeftValue=parts[0];break;case 2:paddingLeftValue=parts[1];break;case 3:paddingLeftValue=parts[2];break;case 4:paddingLeftValue=parts[2];break;}if(!paddingLeftValue){return defaultPadding}paddingLeftValue=paddingLeftValue.replace("px","").trim();if(isNaN(paddingLeftValue)){return defaultPadding}return+paddingLeftValue}_spaceDownHandler(e){if(!("Space"===e.code||32===e.keyCode)){return}e.preventDefault();e.stopImmediatePropagation()}_spaceUpHandler(e){if(!("Space"===e.code||32===e.keyCode)){return}e.target.click()}_computeRenderSummary(summary,isFragment){return!!(summary&&!isFragment)}_computeRenderParth(allowPaths,renderPath){return!!(allowPaths&&renderPath)}}window.customElements.define(ApiNavigation.is,ApiNavigation);</script></dom-module><dom-module id="api-annotation-document" assetpath="bower_components/api-annotation-document/"><template><style>:host{display:block;color:var(--api-annotation-document-color, #616161);@apply --api-annotation-document;}:host([hidden]){display:none;}.custom-prtoperty{margin:12px 0;}.custom-prtoperty > span{display:block;}.name{font-weight:500;}.scalar-value{display:block;}</style><section class="custom-list" role="list"><template is="dom-repeat" items="[[customList]]"><div role="listitem" class="custom-prtoperty"><span class="name">[[_computeName(item)]]</span><template is="dom-if" if="[[_hasValue(item)]]" data-has-value=""><span class="value"><template is="dom-if" if="[[_isScalar(item)]]"><span class="scalar-value">[[_scalarValue(item)]]</span></template><template is="dom-if" if="[[!_isScalar(item)]]"><template is="dom-repeat" items="[[_complexValue(item)]]"><span class="scalar-value">[[item.label]]: [[item.value]]</span></template></template></span></template></div></template></section></template><script>class ApiAnnotationDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-annotation-document"}static get properties(){return{shape:{type:Object,observer:"_shapeChanged"},hasCustomProperties:{type:Boolean,notify:!0,readOnly:!0,value:!1,observer:"_hasCustomChanged"},customList:{type:Array,readOnly:!0}}}_shapeChanged(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"customDomainProperties"),custom=this._ensureArray(shape&&shape[key]),has=!!(custom&&custom.length);this._setHasCustomProperties(has);if(!has){return}const keys=custom.map(item=>item["@id"]),properties=keys.map(key=>shape[key]);this._setCustomList(properties)}_hasCustomChanged(has){this.setAttribute("aria-hidden",!has);if(has){if(this.hasAttribute("hidden")){this.removeAttribute("hidden")}}else{if(!this.hasAttribute("hidden")){this.setAttribute("hidden",!0)}}}_computeName(item){return this._getValue(item,this.ns.raml.vocabularies.document+"name")}_hasValue(item){if(!this._isScalar(item)){return!0}const key=this._getAmfKey(this.ns.raml.vocabularies.data+"value");let value=item&&item[key];if(!value){return!1}if(value instanceof Array){value=value[0]}return!this._hasType(value,this.ns.w3.xmlSchema+"nil")}_isScalar(item){return this._hasType(item,this.ns.raml.vocabularies.data+"Scalar")}_scalarValue(item){if(item instanceof Array){item=item[0]}return this._getValue(item,this.ns.raml.vocabularies.data+"value")}_complexValue(item){if(!item){return}const data=[],dataKey=this._getAmfKey(this.ns.raml.vocabularies.data),len=dataKey.length;Object.keys(item).forEach(key=>{if(-1===key.indexOf(dataKey)){return}let label=key.substr(len);if(":"===label[0]){label=label.substr(1)}data.push({value:this._scalarValue(item[key]),label})});return data}}window.customElements.define(ApiAnnotationDocument.is,ApiAnnotationDocument);</script></dom-module><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;if(this.disabled){e=0}else if(this.active||this.pressed){e=4}else if(this.receivedFocusFromKeyboard){e=3}this._setElevation(e)},_computeKeyboardClass:function(receivedFocusFromKeyboard){this.toggleClass("keyboard-focus",receivedFocusFromKeyboard)},_spaceKeyDownHandler:function(event){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,event);if(this.hasRipple()&&1>this.getRipple().ripples.length){this._ripple.uiDownAction()}},_spaceKeyUpHandler:function(event){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,event);if(this.hasRipple()){this._ripple.uiUpAction()}}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);};--shadow-none:{box-shadow:none;};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);};}</style></custom-style><dom-module id="paper-material-styles" assetpath="bower_components/paper-styles/element-styles/"><template><style>:host, html{--paper-material:{display:block;position:relative;};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material), .paper-material{@apply --paper-material;}:host(.paper-material[elevation="1"]), .paper-material[elevation="1"]{@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]), .paper-material[elevation="2"]{@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]), .paper-material[elevation="3"]{@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]), .paper-material[elevation="4"]{@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]), .paper-material[elevation="5"]{@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button" assetpath="bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:none;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){if(!this.raised){this._setElevation(0)}else{Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this)}}});</script></dom-module><script data-manual="">var _self="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(_self){var lang=/\blang(?:uage)?-([\w-]+)\b/i,uniqueId=0,_={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias)}else if(Array.isArray(tokens)){return tokens.map(_.util.encode)}else{return tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(obj){if(!obj.__id){Object.defineProperty(obj,"__id",{value:++uniqueId})}return obj.__id},clone:function deepClone(o,visited){var clone,id,type=_.util.type(o);visited=visited||{};switch(type){case"Object":id=_.util.objId(o);if(visited[id]){return visited[id]}clone={};visited[id]=clone;for(var key in o){if(o.hasOwnProperty(key)){clone[key]=deepClone(o[key],visited)}}return clone;case"Array":id=_.util.objId(o);if(visited[id]){return visited[id]}clone=[];visited[id]=clone;o.forEach(function(v,i){clone[i]=deepClone(v,visited)});return clone;default:return o;}}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key]}return lang},insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside],ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken]}}}if(!insert.hasOwnProperty(token)){ret[token]=grammar[token]}}}var old=root[inside];root[inside]=ret;_.languages.DFS(_.languages,function(key,value){if(value===old&&key!=inside){this[key]=ret}});return ret},DFS:function DFS(o,callback,type,visited){visited=visited||{};var objId=_.util.objId;for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);var property=o[i],propertyType=_.util.type(property);if("Object"===propertyType&&!visited[objId(property)]){visited[objId(property)]=!0;DFS(property,callback,null,visited)}else if("Array"===propertyType&&!visited[objId(property)]){visited[objId(property)]=!0;DFS(property,callback,i,visited)}}}}},plugins:{},highlightAll:function(async,callback){_.highlightAllUnder(document,async,callback)},highlightAllUnder:function(container,async,callback){var env={callback:callback,selector:"code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code"};_.hooks.run("before-highlightall",env);for(var elements=env.elements||container.querySelectorAll(env.selector),i=0,element;element=elements[i++];){_.highlightElement(element,!0===async,env.callback)}},highlightElement:function(element,async,callback){var language,grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(parent.className.match(lang)||[,""])[1].toLowerCase();grammar=_.languages[language]}element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language;if(element.parentNode){parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language}}var code=element.textContent,env={element:element,language:language,grammar:grammar,code:code},insertHighlightedCode=function(highlightedCode){env.highlightedCode=highlightedCode;_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;_.hooks.run("after-highlight",env);_.hooks.run("complete",env);callback&&callback.call(env.element)};_.hooks.run("before-sanity-check",env);if(!env.code){_.hooks.run("complete",env);return}_.hooks.run("before-highlight",env);if(!env.grammar){insertHighlightedCode(_.util.encode(env.code));return}if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){insertHighlightedCode(evt.data)};worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:!0}))}else{insertHighlightedCode(_.highlight(env.code,env.grammar,env.language))}},highlight:function(text,grammar,language){var env={code:text,grammar:grammar,language:language};_.hooks.run("before-tokenize",env);env.tokens=_.tokenize(env.code,env.grammar);_.hooks.run("after-tokenize",env);return Token.stringify(_.util.encode(env.tokens),env.language)},matchGrammar:function(text,strarr,grammar,index,startPos,oneshot,target){for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue}if(token==target){return}var patterns=grammar[token];patterns="Array"===_.util.type(patterns)?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,greedy=!!pattern.greedy,lookbehindLength=0,alias=pattern.alias;if(greedy&&!pattern.pattern.global){var flags=pattern.pattern.toString().match(/[imuy]*$/)[0];pattern.pattern=RegExp(pattern.pattern.source,flags+"g")}pattern=pattern.pattern||pattern;for(var i=index,pos=startPos,str;i<strarr.length;pos+=strarr[i].length,++i){str=strarr[i];if(strarr.length>text.length){return}if(str instanceof Token){continue}if(greedy&&i!=strarr.length-1){pattern.lastIndex=pos;var match=pattern.exec(text);if(!match){break}for(var from=match.index+(lookbehind?match[1].length:0),to=match.index+match[0].length,k=i,p=pos,len=strarr.length;k<len&&(p<to||!strarr[k].type&&!strarr[k-1].greedy);++k){p+=strarr[k].length;if(from>=p){++i;pos=p}}if(strarr[i]instanceof Token){continue}delNum=k-i;str=text.slice(pos,p);match.index-=pos}else{pattern.lastIndex=0;var match=pattern.exec(str),delNum=1}if(!match){if(oneshot){break}continue}if(lookbehind){lookbehindLength=match[1]?match[1].length:0}var from=match.index+lookbehindLength,match=match[0].slice(lookbehindLength),to=from+match.length,before=str.slice(0,from),after=str.slice(to),args=[i,delNum];if(before){++i;pos+=before.length;args.push(before)}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias,match,greedy);args.push(wrapped);if(after){args.push(after)}Array.prototype.splice.apply(strarr,args);if(1!=delNum)_.matchGrammar(text,strarr,grammar,i,pos,!0,token);if(oneshot)break}}}},tokenize:function(text,grammar){var strarr=[text],rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token]}delete grammar.rest}_.matchGrammar(text,strarr,grammar,0,0,!1);return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return}for(var i=0,callback;callback=callbacks[i++];){callback(env)}}},Token:Token};_self.Prism=_;function Token(type,content,alias,matchedStr,greedy){this.type=type;this.content=content;this.alias=alias;this.length=0|(matchedStr||"").length;this.greedy=!!greedy}Token.stringify=function(o,language,parent){if("string"==typeof o){return o}if(Array.isArray(o)){return o.map(function(element){return Token.stringify(element,language,o)}).join("")}var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if(o.alias){var aliases=Array.isArray(o.alias)?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes=Object.keys(env.attributes).map(function(name){return name+"=\""+(env.attributes[name]||"").replace(/"/g,"&quot;")+"\""}).join(" ");return"<"+env.tag+" class=\""+env.classes.join(" ")+"\""+(attributes?" "+attributes:"")+">"+env.content+"</"+env.tag+">"};if(!_self.document){if(!_self.addEventListener){return _}if(!_.disableWorkerMessageHandler){_self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang));if(immediateClose){_self.close()}},!1)}return _}var script=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();if(script){_.filename=script.src;if(!_.manual&&!script.hasAttribute("data-manual")){if("loading"!==document.readyState){if(window.requestAnimationFrame){window.requestAnimationFrame(_.highlightAll)}else{window.setTimeout(_.highlightAll,16)}}else{document.addEventListener("DOMContentLoaded",_.highlightAll)}}}return _}(_self);if("undefined"!==typeof module&&module.exports){module.exports=Prism}if("undefined"!==typeof global){global.Prism=Prism}Prism.languages.markup={comment:/\x3c!--[\s\S]*?--\x3e/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.hooks.add("wrap",function(env){if("entity"===env.type){env.attributes.title=env.content.replace(/&amp;/,"&")}});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(tagName,lang){var includedCdataInside={};includedCdataInside["language-"+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[lang]};includedCdataInside.cdata=/^<!\[CDATA\[|\]\]>$/i;var inside={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside["language-"+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,tagName),"i"),lookbehind:!0,greedy:!0,inside:inside};Prism.languages.insertBefore("markup","cdata",def)}});Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;(function(Prism){var string=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+string.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+string.source+")*?(?=\\s*\\{)"),string:{pattern:string,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/};Prism.languages.css.atrule.inside.rest=Prism.languages.css;var markup=Prism.languages.markup;if(markup){markup.tag.addInlined("style","css");Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},markup.tag)}})(Prism);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}});if(Prism.languages.markup){Prism.languages.markup.tag.addInlined("script","javascript")}Prism.languages.js=Prism.languages.javascript;(function(){if("undefined"===typeof self||!self.Prism||!self.document||!document.querySelector){return}self.Prism.fileHighlight=function(container){container=container||document;var Extensions={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(container.querySelectorAll("pre[data-src]")).forEach(function(pre){if(pre.hasAttribute("data-src-loaded")){return}var src=pre.getAttribute("data-src"),language,parent=pre,lang=/\blang(?:uage)?-([\w-]+)\b/i;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(pre.className.match(lang)||[,""])[1]}if(!language){var extension=(src.match(/\.(\w+)$/)||[,""])[1];language=Extensions[extension]||extension}var code=document.createElement("code");code.className="language-"+language;pre.textContent="";code.textContent="Loading\u2026";pre.appendChild(code);var xhr=new XMLHttpRequest;xhr.open("GET",src,!0);xhr.onreadystatechange=function(){if(4==xhr.readyState){if(400>xhr.status&&xhr.responseText){code.textContent=xhr.responseText;Prism.highlightElement(code);pre.setAttribute("data-src-loaded","")}else if(400<=xhr.status){code.textContent="\u2716 Error "+xhr.status+" while fetching file: "+xhr.statusText}else{code.textContent="\u2716 Error: File does not exist or is empty"}}};xhr.send(null)});if(Prism.plugins.toolbar){Prism.plugins.toolbar.registerButton("download-file",function(env){var pre=env.element.parentNode;if(!pre||!/pre/i.test(pre.nodeName)||!pre.hasAttribute("data-src")||!pre.hasAttribute("data-download-link")){return}var src=pre.getAttribute("data-src"),a=document.createElement("a");a.textContent=pre.getAttribute("data-download-link-label")||"Download";a.setAttribute("download","");a.href=src;return a})}};document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()})})();</script><style>code[class*="language-"],
pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc;}pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc;}@media print{code[class*="language-"],
	pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
.token.prolog,
.token.doctype,
.token.cdata{color:slategray;}.token.punctuation{color:#999;}.namespace{opacity:.7;}.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted{color:#905;}.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted{color:#690;}.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string{color:#9a6e3a;background:hsla(0, 0%, 100%, .5);}.token.atrule,
.token.attr-value,
.token.keyword{color:#07a;}.token.function,
.token.class-name{color:#DD4A68;}.token.regex,
.token.important,
.token.variable{color:#e90;}.token.important,
.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style><script>(function(){"use strict";var HIGHLIGHT_EVENT="syntax-highlight";Polymer({is:"prism-highlighter",properties:{languages:{type:Object,value:function(){return{}}}},ready:function(){this._handler=this._highlight.bind(this)},attached:function(){(this.parentNode.host||this.parentElement).addEventListener(HIGHLIGHT_EVENT,this._handler)},detached:function(){(this.parentNode.host||this.parentElement).removeEventListener(HIGHLIGHT_EVENT,this._handler)},_highlight:function(event){if(!event.detail||!event.detail.code){Polymer.Base._warn("Malformed",HIGHLIGHT_EVENT,"event:",event.detail);return}event.stopPropagation();var detail=event.detail;detail.code=Prism.highlight(detail.code,this._detectLang(detail.code,detail.lang))},_detectLang:function(code,lang){if(!lang){return code.match(/^\s*</)?Prism.languages.markup:Prism.languages.javascript}if(this.languages[lang]){return this.languages[lang]}else if(Prism.languages[lang]){return Prism.languages[lang]}switch(lang.substr(0,2)){case"js":case"es":return Prism.languages.javascript;case"c":return Prism.languages.clike;default:return Prism.languages.markup;}}})})();</script><script>class ApiExampleGenerator extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-example-generator"}listMedia(payloads){if(!payloads){return}if(!(payloads instanceof Array)){if(!this._hasType(payloads,this.ns.raml.vocabularies.http+"Payload")){return}return[this._getValue(payloads,this.ns.raml.vocabularies.http+"mediaType")]}const result=[];for(let i=0;i<payloads.length;i++){const payload=payloads[i],mime=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");result[result.length]=mime}return result}generatePayloadsExamples(payloads,media,opts){if(!opts){opts={}}if(!payloads||!media&&!opts.rawOnly){return}if(!(payloads instanceof Array)){payloads=[payloads]}let result;for(let i=0,len=payloads.length;i<len;i++){const payload=payloads[i],payloadMedia=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(media&&payloadMedia!==media){continue}result=this.generatePayloadExamples(payload,media,opts);break}return result}generatePayloadExamples(payload,mime,opts){if(!this._hasType(payload,this.ns.raml.vocabularies.http+"Payload")){return}this._resolve(payload);const sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=payload[sKey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}opts.typeId=payload["@id"];return this.computeExamples(schema,mime,opts)}computeExamples(schema,mime,opts){if(!opts){opts={}}if(!schema||!mime&&!opts.rawOnly){return}this._resolve(schema);const eKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples"),examples=this._ensureArray(schema[eKey]);if(examples){return this._computeFromExamples(examples,mime,opts)}const jsonSchema=this._readJsonSchema(schema);if(jsonSchema){return this._exampleFromJsonSchema(schema,jsonSchema)}if(opts.rawOnly){return}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"ArrayShape")){const value=this._computeExampleArraySchape(schema,mime,opts);if(value){return value}}if(this._hasType(schema,this.ns.raml.vocabularies.document+"Example")){const value=this._generateFromExample(schema,mime,opts);if(value){return[value]}}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"UnionShape")){return this._computeUnionExamples(schema,mime,opts)}if(opts.noAuto){return}if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"ScalarShape")){const result=this._computeJsonScalarValue(schema);return[{hasRaw:!1,hasTitle:!1,hasUnion:!1,value:result}]}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(schema[pKey]);if(properties&&properties.length){const typeName=this._getValue(schema,this.ns.w3.shacl.name+"name"),value=this._exampleFromProperties(properties,mime,typeName);if(value){return[value]}}}_readJsonSchema(schema){const sourceKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources"),trackedKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"parsed-json-schema"),valueKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"value");let sm=schema[sourceKey];if(!sm){return}if(sm instanceof Array){sm=sm[0]}let tracked=sm[trackedKey];if(!tracked){return}if(tracked instanceof Array){tracked=tracked[0]}return this._getValue(tracked,valueKey)}_computeFromExamples(examples,mime,opts){examples=this._processExamples(examples);examples=this._listTypeExamples(examples,opts.typeId);if(!examples){return}const result=[];for(let i=0;i<examples.length;i++){const shape=examples[i],value=this._generateFromExample(shape,mime,opts);if(value){result[result.length]=value}}return result}_processExamples(examples){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");if(!(examples instanceof Array)){if(this._hasType(examples,this.ns.raml.vocabularies.document+"NamedExamples")){return this._ensureArray(examples[key])}return}if(1===examples.length&&this._hasType(examples[0],this.ns.raml.vocabularies.document+"NamedExamples")){return this._ensureArray(examples[0][key])}return examples}_listTypeExamples(examples,typeId){if(!typeId){return examples}const result=[],sourceKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources"),trackedKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"tracked-element"),valueKey=this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"value"),longId=-1===typeId.indexOf("amf")?"amf://id"+typeId:typeId;for(let i=0,len=examples.length,example;i<len;i++){example=examples[i];if(example instanceof Array){example=example[0]}let sm=example[sourceKey];if(!sm){result[result.length]=example;continue}if(sm instanceof Array){sm=sm[0]}let tracked=sm[trackedKey];if(!tracked){result[result.length]=example;continue}if(tracked instanceof Array){tracked=tracked[0]}const value=this._getValue(tracked,valueKey);if(!value){continue}const ids=value.split(",");if(-1!==ids.indexOf(longId)||-1!==ids.indexOf(typeId)){result[result.length]=example}}return result.length?result:void 0}_generateFromExample(example,mime,opts){let raw=this._getValue(example,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(example,this.ns.w3.shacl.name+"raw")}let title=this._getValue(example,this.ns.schema.schemaName);if(title&&0===title.indexOf("example_")){title=void 0}const hasRaw=!!raw,result={};result.hasTitle=!!title;result.hasUnion=!1;if(result.hasTitle){result.title=title}if(opts.rawOnly){result.hasRaw=!1;result.value=raw;return result}const isJson=-1!==mime.indexOf("json"),isXml=!isJson&&-1!==mime.indexOf("xml");if(hasRaw){if(isJson){try{const res=JSON.parse(raw),type=typeof res;if("string"===type||"number"===type||"boolean"===type){throw new Error("")}result.hasRaw=!1;result.value=raw;return result}catch(_){}}if(isXml){if("<"===raw.trim()[0]){result.hasRaw=!1;result.value=raw;return result}}result.hasRaw=!0;result.raw=raw}const sKey=this._getAmfKey(this.ns.raml.vocabularies.document+"structuredValue");let structure=example[sKey];if(!structure){if(result.raw){result.value=result.raw}else{result.value=""}return result}if(structure instanceof Array){structure=structure[0]}if(isJson){let data=this._jsonFromStructure(structure);if(data){if("object"===typeof data){data=JSON.stringify(data,null,2)}result.value=data;return result}}else if(isXml){const data=this._xmlFromStructure(structure,opts);result.value=data;return result}else{if(result.raw){result.value=result.raw}else{result.value=""}return result}}_computeExampleArraySchape(schema,mime,opts){const iKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(schema[iKey]);if(!items){return}const isJson=-1!==mime.indexOf("json");for(let i=0,len=items.length;i<len;i++){const item=items[i],result=this.computeExamples(item,mime,opts);if(result){if(isJson){result.forEach(item=>{if("["!==item.value[0]){item.value="["+item.value+"]"}})}return result}}}_computeUnionExamples(schema,mime,opts){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf");let anyOf=this._ensureArray(schema[key]);if(!anyOf){return}const result={hasTitle:!1,hasRaw:!1,hasUnion:!0,values:[]};for(let i=0,len=anyOf.length,unionSchape;i<len;i++){unionSchape=anyOf[i];if(unionSchape instanceof Array){unionSchape=unionSchape[0]}this._resolve(unionSchape);let data=this.computeExamples(unionSchape,mime,opts);if(!data){continue}data=data[0];let name=this._getValue(unionSchape,this.ns.w3.shacl.name+"name");if(!name){name="Union #"+(i+1)}data.hasTitle=!0;data.title=name;result.values[result.values.length]=data}return result.values.length?[result]:void 0}_computeScalarType(shape){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dt=shape[dtKey];if(!dt){return}if(dt instanceof Array){dt=dt[0]}let id=dt["@id"]?dt["@id"]:dt;const w3index=id.indexOf(this.ns.w3.xmlSchema);if(-1!==w3index){id=id.substr(this.ns.w3.xmlSchema.length)}const shapeindex=id.indexOf(this.ns.raml.vocabularies.shapes);if(-1!==shapeindex){id=id.substr(this.ns.raml.vocabularies.shapes.length)}const index=id.indexOf(":");if(-1!==index){id=id.substr(index)}return id[0].toUpperCase()+id.substr(1)}_jsonFromStructure(structure){if(!structure){return}const prefix=this.ns.raml.vocabularies.data;if(this._hasType(structure,prefix+"Scalar")){const key=this._getAmfKey(prefix+"value");return this._getTypedValue(structure[key])}let obj,isArray=!1;if(this._hasType(structure,prefix+"Object")){obj={}}else if(this._hasType(structure,prefix+"Array")){obj=[];isArray=!0}else{return}if(isArray&&this._hasProperty(structure,this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member")){const key=this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member"),items=structure[key];for(let i=0,len=items.length;i<len;i++){const item=items[i];this._jsonFromStructureValue(item,obj,isArray)}}else{const resolvedPrefix=this._getAmfKey(prefix);Object.keys(structure).forEach(key=>{if(0!==key.indexOf(resolvedPrefix)){return}let v=structure[key];this._jsonFromStructureValue(v,obj,isArray,key,resolvedPrefix)})}return obj}_jsonFromStructureValue(value,obj,isArray,key,resolvedPrefix){if(value instanceof Array){value=value[0]}const tmp=this._jsonFromStructure(value);if(tmp===void 0){return}if(isArray){obj[obj.length]=tmp}else{key=key.replace(resolvedPrefix,"");if(":"===key[0]){key=key.substr(1)}obj[key]=tmp}}_xmlFromStructure(structure,opts){const typeName=opts&&opts.typeName||"model",doc=document.implementation.createDocument("",typeName,null),main=doc.documentElement,keys=Object.keys(structure),exclude=["@id","@type","__apicResolved",this._getAmfKey(this.ns.raml.vocabularies.docSourceMaps+"sources")];for(let i=0,len=keys.length,key;i<len;i++){key=keys[i];if(-1!==exclude.indexOf(key)){continue}let item=structure[key];if(item instanceof Array){item=item[0]}const name=this._dataNameFromKey(key);this._xmlProcessDataProperty(doc,main,item,name)}const s=new XMLSerializer;let value=s.serializeToString(doc);value="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+value;return this.formatXml(value)}formatXml(xml){const PADDING=" ".repeat(2),reg=/(>)(<)(\/*)/g;let pad=0;xml=xml.replace(reg,"$1\r\n$2$3");return xml.split("\r\n").map(node=>{let indent=0;if(node.match(/.+<\/\w[^>]*>$/)){indent=0}else if(node.match(/^<\/\w/)&&0<pad){pad-=1}else if(node.match(/^<\w[^>]*[^\/]>.*$/)){indent=1}else{indent=0}pad+=indent;return PADDING.repeat(pad-indent)+node}).join("\r\n")}_getTypedValue(shape){if(!shape){return}if(shape instanceof Array){shape=shape[0]}let value=shape["@value"];if(!value){return value}let dt=shape["@type"];if(!dt){return value||""}if(dt instanceof Array){dt=dt[0]}return this._typeToValue(value,dt)}_exampleFromJsonSchema(schema,jsonSchema){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(schema[pKey]);let example;if(properties&&properties.length){const typeName=this._getValue(schema,this.ns.w3.shacl.name+"name");example=this._exampleFromProperties(properties,"application/json",typeName)}if(example){example.hasRaw=!0;example.raw=jsonSchema}else{example={hasRaw:!1,hasTitle:!1,hasUnion:!1,value:jsonSchema}}return[example]}_exampleFromProperties(properties,mime,typeName,isArray){let result;if(-1!==mime.indexOf("json")){const value=this._jsonExampleFromProperties(properties);if(value){result=JSON.stringify(value,null,2);if(isArray&&"["!==result[0]){result="["+result+"]"}}}else if(-1!==mime.indexOf("xml")){result=this._xmlExampleFromProperties(properties,typeName);if(result){result="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+result;result=this.formatXml(result)}}if(result){return{hasRaw:!1,hasTitle:!1,hasUnion:!1,value:result}}}_jsonExampleFromProperties(properties){const result={};for(let i=0,len=properties.length;i<len;i++){const property=properties[i],name=this._getValue(property,this.ns.w3.shacl.name+"name");if(!name){continue}const rKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");let range=property[rKey];if(!range){continue}if(range instanceof Array){range=range[0]}let value=this._computeJsonProperyValue(range);if(value===void 0){value=""}result[name]=value}return result}_computeJsonProperyValue(range,typeName){if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ScalarShape")){return this._computeJsonScalarValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")){return this._computeJsonUnionValue(range,typeName)}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return this._computeJsonObjectValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")){return this._computeJsonArrayValue(range)}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"NilShape")){return null}}_computeJsonScalarValue(range){let value=this._getTypeScalarValue(range);if(!value){const type=this._computeScalarType(range);switch(type){case"Number":case"Integer":case"Long":case"Float":case"Double":return 0;case"Boolean":return!1;case"Nil":case"Null":return null;default:return"";}}const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dt=range[dtKey];if(!dt){return value||""}if(dt instanceof Array){dt=dt[0]}return this._typeToValue(value,dt["@id"])}_typeToValue(value,type){let prefix=this._getAmfKey(this.ns.w3.xmlSchema);if(prefix!==this.ns.w3.xmlSchema){prefix+=":"}let ramlPrefix=this._getAmfKey(this.ns.raml.vocabularies.shapes);if(ramlPrefix!==this.ns.raml.vocabularies.shapes){ramlPrefix+=":"}switch(type){case prefix+"boolean":case ramlPrefix+"boolean":case this.ns.w3.xmlSchema+"boolean":case this.ns.raml.vocabularies.shapes+"boolean":if(value!==void 0){return"true"===value?!0:!1}return value;case prefix+"nil":case ramlPrefix+"nil":case this.ns.w3.xmlSchema+"nil":case this.ns.raml.vocabularies.shapes+"nil":return null;case prefix+"integer":case ramlPrefix+"integer":case this.ns.w3.xmlSchema+"integer":case this.ns.raml.vocabularies.shapes+"integer":case prefix+"number":case this.ns.w3.xmlSchema+"number":case ramlPrefix+"number":case this.ns.raml.vocabularies.shapes+"number":case prefix+"long":case this.ns.w3.xmlSchema+"long":case ramlPrefix+"long":case this.ns.raml.vocabularies.shapes+"long":case prefix+"double":case this.ns.w3.xmlSchema+"double":case ramlPrefix+"double":case this.ns.raml.vocabularies.shapes+"double":case prefix+"float":case this.ns.w3.xmlSchema+"float":case ramlPrefix+"float":case this.ns.raml.vocabularies.shapes+"float":if(value){if(isNaN(value)){return 0}return+value}return 0;default:return value||"";}}_computeJsonUnionValue(range,typeName){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");for(let i=0,len=list.length,item;i<len;i++){item=list[i];if(item instanceof Array){item=item[0]}this._resolve(item);if(typeName){const name=this._getValue(item,this.ns.w3.shacl.name+"name");if(typeName!==name){continue}}if(this._hasType(item,this.ns.w3.shacl.name+"NodeShape")){item=this._resolve(item);const data=this._ensureArray(item[pKey]);if(data){return this._jsonExampleFromProperties(data)}}}}_computeJsonObjectValue(range){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(range[pKey]);if(properties&&properties.length){return this._jsonExampleFromProperties(properties)}}_computeJsonArrayValue(range){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(range[key]);if(!items){return}const result=[];for(let i=0,len=items.length,item;i<len;i++){item=items[i];if(item instanceof Array){item=item[0]}this._resolve(item);const value=this._computeJsonProperyValue(item);if(value!==void 0){result[result.length]=value}}return result}_extractExampleRawValue(example){if(example instanceof Array){example=example[0]}if(this._hasType(example,this.ns.raml.vocabularies.document+"NamedExamples")){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");example=example[key];if(example instanceof Array){example=example[0]}}return this._getValue(example,this.ns.w3.shacl.name+"raw")}_getTypeScalarValue(range){const dvKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValue");let dv=range[dvKey];if(dv){if(dv instanceof Array){dv=dv[0]}return this._getValue(dv,this.ns.raml.vocabularies.data+"value")}const rKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let ex=range[rKey];if(ex){return this._extractExampleRawValue(ex)}}_xmlExampleFromProperties(properties,typeName){const doc=document.implementation.createDocument("",typeName,null),main=doc.documentElement;for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,main,properties[i])}const s=new XMLSerializer;return s.serializeToString(doc)}_xmlProcessProperty(doc,node,property){if(!property){return}if(this._hasType(property,this.ns.w3.shacl.name+"NodeShape")){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(property[pKey]);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,node,properties[i])}return}const rKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");let range=property[rKey];if(!range){return}if(range instanceof Array){range=range[0]}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}const shape=list[0];if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){this._xmlProcessUnionScalarProperty(doc,node,property,shape)}else{this._xmlProcessProperty(doc,node,shape)}return}const sKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"xmlSerialization");let serialization=range[sKey],isWrapped=!1;if(serialization){if(serialization instanceof Array){serialization=serialization[0]}const isAtribute=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlAttribute");if(isAtribute){this._appendXmlAttribute(node,property,range,serialization);return}isWrapped=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlWrapped")}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){this._appendXmlElements(doc,node,property,range);return}if(this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")){this._appendXmlArray(doc,node,property,range,isWrapped);return}this._appendXmlElement(doc,node,range)}_readDataType(shape){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let dataType=shape[dtKey];if(!dataType){return}if(dataType instanceof Array){dataType=dataType[0]}dataType=dataType["@id"];return this._dataNameFromKey(dataType)}_appendXmlAttribute(node,property,range,serialization){let name=this._getValue(serialization,this.ns.raml.vocabularies.shapes+"xmlName");if(!name){name=this._getValue(range,this.ns.w3.shacl.name+"name")}if(!name){return}if(-1!==name.indexOf("?")){name=name.replace("?","")}let value=this._readDataType(range);if(!value){value=""}node.setAttribute(name,value)}_appendXmlElement(doc,node,range){let name=this._getValue(range,this.ns.w3.shacl.name+"name");if(!name){return}let nodeValue=this._getValue(range,this.ns.w3.shacl.name+"defaultValueStr");if(!nodeValue){const eKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let example=range[eKey];if(example){nodeValue=this._extractExampleRawValue(example)}}if(!nodeValue){nodeValue=" "}name=name.replace(/[^a-zA-Z0-9\-]*/g,"");const element=doc.createElement(name);if(nodeValue){const vn=doc.createTextNode(nodeValue);element.appendChild(vn)}node.appendChild(element);return element}_appendXmlElements(doc,node,property,range){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property"),properties=this._ensureArray(range[pKey]),element=this._appendXmlElement(doc,node,range);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){this._xmlProcessProperty(doc,element,properties[i])}}_appendXmlArray(doc,node,property,range,isWrapped){if(isWrapped){const element=this._appendXmlElement(doc,node,range);node.appendChild(element);node=element}const pKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),properties=this._ensureArray(range[pKey]);if(!properties){return}for(let i=0,len=properties.length;i<len;i++){const prop=properties[i];if(isWrapped){const name=this._getValue(prop,this.ns.w3.shacl.name+"name");if(!name){continue}const element=doc.createElement(name);node.appendChild(element);node=element}this._xmlProcessProperty(doc,node,properties[i])}}_xmlProcessUnionScalarProperty(doc,node,property,shape){const name=this._getValue(property,this.ns.w3.shacl.name+"name")||"unknown",type=this._readDataType(shape),element=doc.createElement(name);element.appendChild(doc.createTextNode(type))}_xmlProcessDataProperty(doc,node,property,name){if(!property||!name){return}const element=doc.createElement(name);if(this._hasType(property,this.ns.raml.vocabularies.data+"Scalar")){let value=this._computeStructuredExampleValue(property);if(value){const vn=doc.createTextNode(value);element.appendChild(vn)}}else if(this._hasType(property,this.ns.raml.vocabularies.data+"Array")){this._processDataArrayProperties(doc,element,property,name)}else if(this._hasType(property,this.ns.raml.vocabularies.data+"Object")){this._processDataObjectProperties(doc,element,property,name)}else if(property["@value"]){const vn=doc.createTextNode(property["@value"]);node.appendChild(vn);return}node.appendChild(element)}_processDataArrayProperties(doc,node,property,name){let childName;if("es"===name.substr(-2)){childName=name.substr(0,name.length-2)}else if("s"===name.substr(-1)){childName=name.substr(0,name.length-1)}else{childName=name}const key=this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member"),items=this._ensureArray(property[key]);for(let i=0,len=items.length,item;i<len;i++){item=items[i];if(item instanceof Array){item=item[0]}this._xmlProcessDataProperty(doc,node,item,childName)}}_processDataObjectProperties(doc,node,property){const prefix=this.ns.raml.vocabularies.data,resolvedPrefix=this._getAmfKey(prefix);Object.keys(property).forEach(key=>{if(0!==key.indexOf(resolvedPrefix)){return}let item=property[key];if(item instanceof Array){item=item[0]}const name=this._dataNameFromKey(key);this._xmlProcessDataProperty(doc,node,item,name)})}_dataNameFromKey(key){let index=key.indexOf("#");if(-1!==index){key=key.substr(index+1)}else{index=key.indexOf(":");if(-1!==index){key=key.substr(index+1)}}return key}}window.customElements.define(ApiExampleGenerator.is,ApiExampleGenerator);</script><dom-module id="clipboard-copy" assetpath="bower_components/clipboard-copy/"><template><style>:host{display:none;}:host([copying]){display:inline;width:0;height:0;border:none;overflow:hidden;}</style><div id="content">[[content]]</div></template><script>class ClipboardCopy extends Polymer.Element{static get is(){return"clipboard-copy"}static get properties(){return{content:String}}copy(){if(this._beforeCopy()){return this._notifyCopied()}this.setAttribute("copying",!0);var range=document.createRange();range.selectNode(this.$.content);window.getSelection().addRange(range);var result=!1;try{result=document.execCommand("copy");this._notifyCopied()}catch(err){console.error(err);const ev=new CustomEvent("content-copy-error",{bubbles:!1});this.dispatchEvent(ev)}window.getSelection().removeAllRanges();this.removeAttribute("copying");return result}_beforeCopy(){const ev=new CustomEvent("content-copy",{detail:{value:this.content},bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(ev);return ev.defaultPrevented}_notifyCopied(){const ev=new CustomEvent("content-copied",{bubbles:!1});this.dispatchEvent(ev);return!0}}window.customElements.define(ClipboardCopy.is,ClipboardCopy);</script></dom-module><script>const JsonTableMixin=superClass=>class extends superClass{static get properties(){return{page:{type:Number,value:0},itemsPerPage:{type:Number,value:20},paginate:{type:Boolean,value:!1}}}isArray(arr){return arr instanceof Array}isObject(obj){return"[object Object]"===Object.prototype.toString.call(obj)}isPrimitive(obj){if(null===obj){return!0}return-1!==["string","number","boolean","undefined"].indexOf(typeof obj)}getPropertyModel(key,value){const result=this.getItemModel(value);result.key=key;return result}getItemModel(value){const result={value:value};if(this.isObject(value)){result.isObject=!0}else if(this.isArray(value)){if(this.isEnum(value)){result.isEnum=!0}else{result.isArray=!0}}else{result.isPrimitive=!0}return result}isEnum(arr){if(!arr||!arr.length){return!1}for(let i=0,len=arr.length;i<len;i++){if(!this.isPrimitive(arr[i])){return!1}}return!0}_isEnumOrArray(record){if(!record||!record.base){return!1}const item=record.base;return item.isArray||item.isEnum}_computeArraySize(record){if(!record||!record.base){return 0}const item=record.base;if(item.isArray||item.isEnum){return item.value.length||0}return 0}};</script><script>Polymer.IronValidatableBehaviorMeta=null;Polymer.IronValidatableMixinMeta=null;Polymer.IronValidatableBehavior={properties:{validator:{type:String},validationStates:{type:Array,readOnly:!0,notify:!0},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Array,readOnly:!1,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){if(this.invalid){this.setAttribute("aria-invalid","true")}else{this.removeAttribute("aria-invalid")}},hasValidator:function(){if(this.validator&&(!this._validator||!this._validator.length)){const v=this.validator;this.validator=void 0;this.validator=v}return!!(this._validator&&this._validator.length)},validate:function(value){this.invalid=!this._getValidity(value);return!this.invalid},_getValidity:function(value){if(this.hasValidator()){var result=!0,states=[];this._validator.forEach(function(validator){var validatorResult={validator:validator.validatorName,message:validator.message};if(!validator.validate(value)){result=!1;validatorResult.valid=!1}else{validatorResult.valid=!0}states.push(validatorResult)});this._setValidationStates(states);return result}return!0},__computeValidator:function(){if(!Polymer.IronValidatableBehaviorMeta){return}var validator=this.validator;if(!validator){return}var validatorsNames=validator.split(" ");if(0===validatorsNames.length){return}var result=[];validatorsNames.forEach(function(name){var validator=Polymer.IronValidatableBehaviorMeta.byKey(name);if(validator){result.push(validator)}});return result}};Polymer.IronValidatableMixin=Polymer.dedupingMixin(base=>{class IVBmixin extends base{static get properties(){return{validator:{type:String},validationStates:{type:Array,readOnly:!0,notify:!0},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Array,computed:"__computeValidator(validator)"}}}constructor(){super();Polymer.IronValidatableMixinMeta=new Polymer.IronMeta({type:"validator"})}_invalidChanged(){if(this.invalid){this.setAttribute("aria-invalid","true")}else{this.removeAttribute("aria-invalid")}}hasValidator(){if(this.validator&&(!this._validator||!this._validator.length)){const v=this.validator;this.validator=void 0;this.validator=v}return!!(this._validator&&this._validator.length)}validate(value){this.invalid=!this._getValidity(value);return!this.invalid}_getValidity(value){if(this.hasValidator()){let result=!0;const states=[];this._validator.forEach(validator=>{const validatorResult={validator:validator.validatorName,message:validator.message};if(!validator.validate(value)){result=!1;validatorResult.valid=!1}else{validatorResult.valid=!0}states.push(validatorResult)});this._setValidationStates(states);return result}return!0}__computeValidator(){if(!Polymer.IronValidatableMixinMeta){return}const validator=this.validator;if(!validator){return}const validatorsNames=validator.split(" ");if(0===validatorsNames.length){return}const result=[];validatorsNames.forEach(name=>{const validator=Polymer.IronValidatableMixinMeta.byKey(name);if(validator){result.push(validator)}});return result}}return IVBmixin});</script><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var fitWidth;if(this.fitInto===window){fitWidth=this.fitInto.innerWidth}else{fitWidth=this.fitInto.getBoundingClientRect().width}return fitWidth},get _fitHeight(){var fitHeight;if(this.fitInto===window){fitHeight=this.fitInto.innerHeight}else{fitHeight=this.fitInto.getBoundingClientRect().height}return fitHeight},get _fitLeft(){var fitLeft;if(this.fitInto===window){fitLeft=0}else{fitLeft=this.fitInto.getBoundingClientRect().left}return fitLeft},get _fitTop(){var fitTop;if(this.fitInto===window){fitTop=0}else{fitTop=this.fitInto.getBoundingClientRect().top}return fitTop},get _defaultPositionTarget(){var parent=Polymer.dom(this).parentNode;if(parent&&parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE){parent=parent.host}return parent},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign){return"left"}if("left"===this.horizontalAlign){return"right"}}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){if("undefined"===typeof this._isRTL){this._isRTL="rtl"==window.getComputedStyle(this).direction}this.positionTarget=this.positionTarget||this._defaultPositionTarget;if(this.autoFitOnAttach){if("none"===window.getComputedStyle(this).display){setTimeout(function(){this.fit()}.bind(this))}else{window.ShadyDOM&&ShadyDOM.flush();this.fit()}}},detached:function(){if(this.__deferredFit){clearTimeout(this.__deferredFit);this.__deferredFit=null}},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(this._fitInfo){return}var target=window.getComputedStyle(this),sizer=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==target.top?"top":"auto"!==target.bottom?"bottom":null,horizontally:"auto"!==target.left?"left":"auto"!==target.right?"right":null},sizedBy:{height:"none"!==sizer.maxHeight,width:"none"!==sizer.maxWidth,minWidth:parseInt(sizer.minWidth,10)||0,minHeight:parseInt(sizer.minHeight,10)||0},margin:{top:parseInt(target.marginTop,10)||0,right:parseInt(target.marginRight,10)||0,bottom:parseInt(target.marginBottom,10)||0,left:parseInt(target.marginLeft,10)||0}}},resetFit:function(){var info=this._fitInfo||{};for(var property in info.sizerInlineStyle){this.sizingTarget.style[property]=info.sizerInlineStyle[property]}for(var property in info.inlineStyle){this.style[property]=info.inlineStyle[property]}this._fitInfo=null},refit:function(){var scrollLeft=this.sizingTarget.scrollLeft,scrollTop=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=scrollLeft;this.sizingTarget.scrollTop=scrollTop},position:function(){var _Mathmax=Math.max,_Mathmin=Math.min;if(!this.__shouldPosition){return}this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var rect=this.getBoundingClientRect(),positionRect=this.__getNormalizedRect(this.positionTarget),fitRect=this.__getNormalizedRect(this.fitInto),margin=this._fitInfo.margin,size={width:rect.width+margin.left+margin.right,height:rect.height+margin.top+margin.bottom},position=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,size,rect,positionRect,fitRect),left=position.left+margin.left,top=position.top+margin.top,right=_Mathmin(fitRect.right-margin.right,left+rect.width),bottom=_Mathmin(fitRect.bottom-margin.bottom,top+rect.height);left=_Mathmax(fitRect.left+margin.left,_Mathmin(left,right-this._fitInfo.sizedBy.minWidth));top=_Mathmax(fitRect.top+margin.top,_Mathmin(top,bottom-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=_Mathmax(right-left,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=_Mathmax(bottom-top,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=left-rect.left+"px";this.style.top=top-rect.top+"px"},constrain:function(){if(this.__shouldPosition){return}this._discoverInfo();var info=this._fitInfo;if(!info.positionedBy.vertically){this.style.position="fixed";this.style.top="0px"}if(!info.positionedBy.horizontally){this.style.position="fixed";this.style.left="0px"}this.sizingTarget.style.boxSizing="border-box";var rect=this.getBoundingClientRect();if(!info.sizedBy.height){this.__sizeDimension(rect,info.positionedBy.vertically,"top","bottom","Height")}if(!info.sizedBy.width){this.__sizeDimension(rect,info.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(rect,positionedBy,start,end,extent){this.__sizeDimension(rect,positionedBy,start,end,extent)},__sizeDimension:function(rect,positionedBy,start,end,extent){var info=this._fitInfo,fitRect=this.__getNormalizedRect(this.fitInto),max="Width"===extent?fitRect.width:fitRect.height,flip=positionedBy===end,offset=flip?max-rect[end]:rect[start],margin=info.margin[flip?start:end],offsetExtent="offset"+extent,sizingOffset=this[offsetExtent]-this.sizingTarget[offsetExtent];this.sizingTarget.style["max"+extent]=max-margin-offset-sizingOffset+"px"},center:function(){if(this.__shouldPosition){return}this._discoverInfo();var positionedBy=this._fitInfo.positionedBy;if(positionedBy.vertically&&positionedBy.horizontally){return}this.style.position="fixed";if(!positionedBy.vertically){this.style.top="0px"}if(!positionedBy.horizontally){this.style.left="0px"}var rect=this.getBoundingClientRect(),fitRect=this.__getNormalizedRect(this.fitInto);if(!positionedBy.vertically){var top=fitRect.top-rect.top+(fitRect.height-rect.height)/2;this.style.top=top+"px"}if(!positionedBy.horizontally){var left=fitRect.left-rect.left+(fitRect.width-rect.width)/2;this.style.left=left+"px"}},__getNormalizedRect:function(target){if(target===document.documentElement||target===window){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}}return target.getBoundingClientRect()},__getOffscreenArea:function(position,size,fitRect){var _Mathabs=Math.abs,_Mathmin2=Math.min,verticalCrop=_Mathmin2(0,position.top)+_Mathmin2(0,fitRect.bottom-(position.top+size.height)),horizontalCrop=_Mathmin2(0,position.left)+_Mathmin2(0,fitRect.right-(position.left+size.width));return _Mathabs(verticalCrop)*size.width+_Mathabs(horizontalCrop)*size.height},__getPosition:function(hAlign,vAlign,size,sizeNoMargins,positionRect,fitRect){var positions=[{verticalAlign:"top",horizontalAlign:"left",top:positionRect.top+this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:positionRect.top+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset}];if(this.noOverlap){for(var i=0,l=positions.length,copy;i<l;i++){copy={};for(var key in positions[i]){copy[key]=positions[i][key]}positions.push(copy)}positions[0].top=positions[1].top+=positionRect.height;positions[2].top=positions[3].top-=positionRect.height;positions[4].left=positions[6].left+=positionRect.width;positions[5].left=positions[7].left-=positionRect.width}vAlign="auto"===vAlign?null:vAlign;hAlign="auto"===hAlign?null:hAlign;if(!hAlign||"center"===hAlign){positions.push({verticalAlign:"top",horizontalAlign:"center",top:positionRect.top+this.verticalOffset+(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset});positions.push({verticalAlign:"bottom",horizontalAlign:"center",top:positionRect.bottom-size.height-this.verticalOffset-(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}if(!vAlign||"middle"===vAlign){positions.push({verticalAlign:"middle",horizontalAlign:"left",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left+this.horizontalOffset+(this.noOverlap?positionRect.width:0)});positions.push({verticalAlign:"middle",horizontalAlign:"right",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset-(this.noOverlap?positionRect.width:0)})}if("middle"===vAlign&&"center"===hAlign){positions.push({verticalAlign:"middle",horizontalAlign:"center",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}for(var position,i=0;i<positions.length;i++){var candidate=positions[i],vAlignOk=candidate.verticalAlign===vAlign,hAlignOk=candidate.horizontalAlign===hAlign;if(!this.dynamicAlign&&!this.noOverlap&&vAlignOk&&hAlignOk){position=candidate;break}var alignOk=(!vAlign||vAlignOk)&&(!hAlign||hAlignOk);if(!this.dynamicAlign&&!alignOk){continue}candidate.offscreenArea=this.__getOffscreenArea(candidate,size,fitRect);if(0===candidate.offscreenArea&&alignOk){position=candidate;break}position=position||candidate;var diff=candidate.offscreenArea-position.offscreenArea;if(0>diff||0===diff&&(vAlignOk||hAlignOk)){position=candidate}}return position}};</script><dom-module id="iron-overlay-backdrop" assetpath="bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){if(this.opened&&!this.parentNode){Polymer.dom(document.body).appendChild(this)}},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){if(!this.opened&&this.parentNode===document.body){Polymer.dom(this.parentNode).removeChild(this)}},_onTransitionend:function(event){if(event&&event.target===this){this.complete()}},_openedChanged:function(opened){if(opened){this.prepare()}else{var cs=window.getComputedStyle(this);if("0s"===cs.transitionDuration||0==cs.opacity){this.complete()}}if(!this.isAttached){return}if(this.__openedRaf){window.cancelAnimationFrame(this.__openedRaf);this.__openedRaf=null}this.scrollTop=this.scrollTop;this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this))}});</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){if(!this._backdropElement){this._backdropElement=document.createElement("iron-overlay-backdrop")}return this._backdropElement},get deepActiveElement(){var active=document.activeElement;if(!active||!1===active instanceof Element){active=document.body}while(active.root&&Polymer.dom(active.root).activeElement){active=Polymer.dom(active.root).activeElement}return active},_bringOverlayAtIndexToFront:function(i){var overlay=this._overlays[i];if(!overlay){return}var lastI=this._overlays.length-1,currentOverlay=this._overlays[lastI];if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){lastI--}if(i>=lastI){return}var minimumZ=Math.max(this.currentOverlayZ(),this._minimumZ);if(this._getZ(overlay)<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}while(i<lastI){this._overlays[i]=this._overlays[i+1];i++}this._overlays[lastI]=overlay},addOrRemoveOverlay:function(overlay){if(overlay.opened){this.addOverlay(overlay)}else{this.removeOverlay(overlay)}},addOverlay:function(overlay){var _Mathmax=Math.max,i=this._overlays.indexOf(overlay);if(0<=i){this._bringOverlayAtIndexToFront(i);this.trackBackdrop();return}var insertionIndex=this._overlays.length,currentOverlay=this._overlays[insertionIndex-1],minimumZ=_Mathmax(this._getZ(currentOverlay),this._minimumZ),newZ=this._getZ(overlay);if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){this._applyOverlayZ(currentOverlay,minimumZ);insertionIndex--;var previousOverlay=this._overlays[insertionIndex-1];minimumZ=_Mathmax(this._getZ(previousOverlay),this._minimumZ)}if(newZ<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}this._overlays.splice(insertionIndex,0,overlay);this.trackBackdrop()},removeOverlay:function(overlay){var i=this._overlays.indexOf(overlay);if(-1===i){return}this._overlays.splice(i,1);this.trackBackdrop()},currentOverlay:function(){var i=this._overlays.length-1;return this._overlays[i]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(minimumZ){this._minimumZ=Math.max(this._minimumZ,minimumZ)},focusOverlay:function(){var current=this.currentOverlay();if(current){current._applyFocus()}},trackBackdrop:function(){var overlay=this._overlayWithBackdrop();if(!overlay&&!this._backdropElement){return}this.backdropElement.style.zIndex=this._getZ(overlay)-1;this.backdropElement.opened=!!overlay;this.backdropElement.prepare()},getBackdrops:function(){for(var backdrops=[],i=0;i<this._overlays.length;i++){if(this._overlays[i].withBackdrop){backdrops.push(this._overlays[i])}}return backdrops},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var i=this._overlays.length-1;0<=i;i--){if(this._overlays[i].withBackdrop){return this._overlays[i]}}},_getZ:function(overlay){var z=this._minimumZ;if(overlay){var z1=+(overlay.style.zIndex||window.getComputedStyle(overlay).zIndex);if(z1===z1){z=z1}}return z},_setZ:function(element,z){element.style.zIndex=z},_applyOverlayZ:function(overlay,aboveZ){this._setZ(overlay,aboveZ+2)},_overlayInPath:function(path){path=path||[];for(var i=0;i<path.length;i++){if(path[i]._manager===this){return path[i]}}},_onCaptureClick:function(event){var i=this._overlays.length-1;if(-1===i)return;var path=Polymer.dom(event).path,overlay;while((overlay=this._overlays[i])&&this._overlayInPath(path)!==overlay){overlay._onCaptureClick(event);if(overlay.allowClickThrough){i--}else{break}}},_onCaptureFocus:function(event){var overlay=this.currentOverlay();if(overlay){overlay._onCaptureFocus(event)}},_onCaptureKeyDown:function(event){var overlay=this.currentOverlay();if(overlay){if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"esc")){overlay._onCaptureEsc(event)}else if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"tab")){overlay._onCaptureTab(event)}}},_shouldBeBehindOverlay:function(overlay1,overlay2){return!overlay1.alwaysOnTop&&overlay2.alwaysOnTop}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){"use strict";var lastTouchPosition={pageX:0,pageY:0},lastRootTarget=null,lastScrollableNodes=[],scrollEvents=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(element){var currentLockingElement=this.currentLockingElement;if(currentLockingElement===void 0)return!1;var scrollLocked;if(this._hasCachedLockedElement(element)){return!0}if(this._hasCachedUnlockedElement(element)){return!1}scrollLocked=!!currentLockingElement&&currentLockingElement!==element&&!this._composedTreeContains(currentLockingElement,element);if(scrollLocked){this._lockedElementCache.push(element)}else{this._unlockedElementCache.push(element)}return scrollLocked},pushScrollLock:function(element){if(0<=this._lockingElements.indexOf(element)){return}if(0===this._lockingElements.length){this._lockScrollInteractions()}this._lockingElements.push(element);this._lockedElementCache=[];this._unlockedElementCache=[]},removeScrollLock:function(element){var index=this._lockingElements.indexOf(element);if(-1===index){return}this._lockingElements.splice(index,1);this._lockedElementCache=[];this._unlockedElementCache=[];if(0===this._lockingElements.length){this._unlockScrollInteractions()}},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(element){return-1<this._lockedElementCache.indexOf(element)},_hasCachedUnlockedElement:function(element){return-1<this._unlockedElementCache.indexOf(element)},_composedTreeContains:function(element,child){var contentElements,distributedNodes,contentIndex,nodeIndex;if(element.contains(child)){return!0}contentElements=Polymer.dom(element).querySelectorAll("content,slot");for(contentIndex=0;contentIndex<contentElements.length;++contentIndex){distributedNodes=Polymer.dom(contentElements[contentIndex]).getDistributedNodes();for(nodeIndex=0;nodeIndex<distributedNodes.length;++nodeIndex){if(distributedNodes[nodeIndex].nodeType!==Node.ELEMENT_NODE)continue;if(this._composedTreeContains(distributedNodes[nodeIndex],child)){return!0}}}return!1},_scrollInteractionHandler:function(event){if(event.cancelable&&this._shouldPreventScrolling(event)){event.preventDefault()}if(event.targetTouches){var touch=event.targetTouches[0];lastTouchPosition.pageX=touch.pageX;lastTouchPosition.pageY=touch.pageY}},_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var i=0,l=scrollEvents.length;i<l;i++){document.addEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_unlockScrollInteractions:function(){for(var i=0,l=scrollEvents.length;i<l;i++){document.removeEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_shouldPreventScrolling:function(event){var target=Polymer.dom(event).rootTarget;if("touchmove"!==event.type&&lastRootTarget!==target){lastRootTarget=target;lastScrollableNodes=this._getScrollableNodes(Polymer.dom(event).path)}if(!lastScrollableNodes.length){return!0}if("touchstart"===event.type){return!1}var info=this._getScrollInfo(event);return!this._getScrollingNode(lastScrollableNodes,info.deltaX,info.deltaY)},_getScrollableNodes:function(nodes){for(var scrollables=[],lockingIndex=nodes.indexOf(this.currentLockingElement),i=0;i<=lockingIndex;i++){if(nodes[i].nodeType!==Node.ELEMENT_NODE){continue}var node=nodes[i],style=node.style;if("scroll"!==style.overflow&&"auto"!==style.overflow){style=window.getComputedStyle(node)}if("scroll"===style.overflow||"auto"===style.overflow){scrollables.push(node)}}return scrollables},_getScrollingNode:function(nodes,deltaX,deltaY){var _Mathabs=Math.abs;if(!deltaX&&!deltaY){return}for(var verticalScroll=_Mathabs(deltaY)>=_Mathabs(deltaX),i=0;i<nodes.length;i++){var node=nodes[i],canScroll=!1;if(verticalScroll){canScroll=0>deltaY?0<node.scrollTop:node.scrollTop<node.scrollHeight-node.clientHeight}else{canScroll=0>deltaX?0<node.scrollLeft:node.scrollLeft<node.scrollWidth-node.clientWidth}if(canScroll){return node}}},_getScrollInfo:function(event){var info={deltaX:event.deltaX,deltaY:event.deltaY};if("deltaX"in event){}else if("wheelDeltaX"in event&&"wheelDeltaY"in event){info.deltaX=-event.wheelDeltaX;info.deltaY=-event.wheelDeltaY}else if("wheelDelta"in event){info.deltaX=0;info.deltaY=-event.wheelDelta}else if("axis"in event){info.deltaX=1===event.axis?event.detail:0;info.deltaY=2===event.axis?event.detail:0}else if(event.targetTouches){var touch=event.targetTouches[0];info.deltaX=lastTouchPosition.pageX-touch.pageX;info.deltaY=lastTouchPosition.pageY-touch.pageY}return info}}})();</script><script>(function(){"use strict";var p=Element.prototype,matches=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(node){var result=[],needsSortByTabIndex=this._collectTabbableNodes(node,result);if(needsSortByTabIndex){return this._sortByTabIndex(result)}return result},isFocusable:function(element){if(matches.call(element,"input, select, textarea, button, object")){return matches.call(element,":not([disabled])")}return matches.call(element,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(element){return this.isFocusable(element)&&matches.call(element,":not([tabindex=\"-1\"])")&&this._isVisible(element)},_normalizedTabIndex:function(element){if(this.isFocusable(element)){var tabIndex=element.getAttribute("tabindex")||0;return+tabIndex}return-1},_collectTabbableNodes:function(node,result){if(node.nodeType!==Node.ELEMENT_NODE||!this._isVisible(node)){return!1}var element=node,tabIndex=this._normalizedTabIndex(element),needsSort=0<tabIndex;if(0<=tabIndex){result.push(element)}var children;if("content"===element.localName||"slot"===element.localName){children=Polymer.dom(element).getDistributedNodes()}else{children=Polymer.dom(element.root||element).children}for(var i=0;i<children.length;i++){needsSort=this._collectTabbableNodes(children[i],result)||needsSort}return needsSort},_isVisible:function(element){var style=element.style;if("hidden"!==style.visibility&&"none"!==style.display){style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}return!1},_sortByTabIndex:function(tabbables){var len=tabbables.length;if(2>len){return tabbables}var pivot=Math.ceil(len/2),left=this._sortByTabIndex(tabbables.slice(0,pivot)),right=this._sortByTabIndex(tabbables.slice(pivot));return this._mergeSortByTabIndex(left,right)},_mergeSortByTabIndex:function(left,right){var result=[];while(0<left.length&&0<right.length){if(this._hasLowerTabOrder(left[0],right[0])){result.push(right.shift())}else{result.push(left.shift())}}return result.concat(left,right)},_hasLowerTabOrder:function(a,b){var _Mathmax=Math.max,ati=_Mathmax(a.tabIndex,0),bti=_Mathmax(b.tabIndex,0);return 0===ati||0===bti?bti>ati:ati>bti}}})();</script><script>(function(){"use strict";Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1;this.__shouldRemoveTabIndex=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__restoreFocusNode=null;this.__scrollTop=this.__scrollLeft=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function(){if(this.opened){this._openedChanged(this.opened)}this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var cb in this.__rafs){if(null!==this.__rafs[cb]){cancelAnimationFrame(this.__rafs[cb])}}this.__rafs={};this._manager.removeOverlay(this);if(this.__isAnimating){if(this.opened){this._finishRenderOpened()}else{this._applyFocus();this._finishRenderClosed()}}},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(event){var cancelEvent=this.fire("iron-overlay-canceled",event,{cancelable:!0});if(cancelEvent.defaultPrevented){return}this._setCanceled(!0);this.opened=!1},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){if(this._overlaySetup){return}this._overlaySetup=!0;this.style.outline="none";this.style.display="none"},_openedChanged:function(opened){if(opened){this.removeAttribute("aria-hidden")}else{this.setAttribute("aria-hidden","true")}if(!this.isAttached){return}this.__isAnimating=!0;this.__deraf("__openedChanged",this.__openedChanged)},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){if(this.withBackdrop&&!this.hasAttribute("tabindex")){this.setAttribute("tabindex","-1");this.__shouldRemoveTabIndex=!0}else if(this.__shouldRemoveTabIndex){this.removeAttribute("tabindex");this.__shouldRemoveTabIndex=!1}if(this.opened&&this.isAttached){this._manager.trackBackdrop()}},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();if(this.noAutoFocus&&document.activeElement===this._focusNode){this._focusNode.blur();this.__restoreFocusNode.focus()}},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened){if(!this.noAutoFocus){this._focusNode.focus()}}else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var activeElement=this._manager.deepActiveElement;if(activeElement===document.body||Polymer.dom(this).deepContains(activeElement)){this.__restoreFocusNode.focus()}}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},_onCaptureClick:function(event){if(!this.noCancelOnOutsideClick){this.cancel(event)}},_onCaptureFocus:function(event){if(!this.withBackdrop){return}var path=Polymer.dom(event).path;if(-1===path.indexOf(this)){event.stopPropagation();this._applyFocus()}else{this._focusedChild=path[0]}},_onCaptureEsc:function(event){if(!this.noCancelOnEscKey){this.cancel(event)}},_onCaptureTab:function(event){if(!this.withBackdrop){return}this.__ensureFirstLastFocusables();var shift=event.shiftKey,nodeToCheck=shift?this.__firstFocusableNode:this.__lastFocusableNode,nodeToSet=shift?this.__lastFocusableNode:this.__firstFocusableNode,shouldWrap=!1;if(nodeToCheck===nodeToSet){shouldWrap=!0}else{var focusedNode=this._manager.deepActiveElement;shouldWrap=focusedNode===nodeToCheck||focusedNode===this}if(shouldWrap){event.preventDefault();this._focusedChild=nodeToSet;this._applyFocus()}},_onIronResize:function(){if(this.opened&&!this.__isAnimating){this.__deraf("refit",this.refit)}},_onNodesChange:function(){if(this.opened&&!this.__isAnimating){this.invalidateTabbables();this.notifyResize()}},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var focusableNodes=this._focusableNodes;this.__firstFocusableNode=focusableNodes[0];this.__lastFocusableNode=focusableNodes[focusableNodes.length-1]}},__openedChanged:function(){if(this.opened){this._prepareRenderOpened();this._manager.addOverlay(this);this._applyFocus();this._renderOpened()}else{this._manager.removeOverlay(this);this._applyFocus();this._renderClosed()}},__deraf:function(jobname,callback){var rafs=this.__rafs;if(null!==rafs[jobname]){cancelAnimationFrame(rafs[jobname])}rafs[jobname]=requestAnimationFrame(function(){rafs[jobname]=null;callback.call(this)}.bind(this))},__updateScrollObservers:function(isAttached,opened,scrollAction){if(!isAttached||!opened||!this.__isValidScrollAction(scrollAction)){Polymer.IronScrollManager.removeScrollLock(this);this.__removeScrollListeners()}else{if("lock"===scrollAction){this.__saveScrollPosition();Polymer.IronScrollManager.pushScrollLock(this)}this.__addScrollListeners()}},__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow){var node=this;while(node){if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&node.host){this.__rootNodes.push(node)}node=node.host||node.assignedSlot||node.parentNode}}this.__rootNodes.push(document)}this.__rootNodes.forEach(function(el){el.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){if(this.__rootNodes){this.__rootNodes.forEach(function(el){el.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)}if(!this.isAttached){this.__rootNodes=null}},__isValidScrollAction:function(scrollAction){return"lock"===scrollAction||"refit"===scrollAction||"cancel"===scrollAction},__onCaptureScroll:function(event){if(this.__isAnimating){return}if(0<=Polymer.dom(event).path.indexOf(this)){return}switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(event);break;}},__saveScrollPosition:function(){var _Mathmax=Math.max;if(document.scrollingElement){this.__scrollTop=document.scrollingElement.scrollTop;this.__scrollLeft=document.scrollingElement.scrollLeft}else{this.__scrollTop=_Mathmax(document.documentElement.scrollTop,document.body.scrollTop);this.__scrollLeft=_Mathmax(document.documentElement.scrollLeft,document.body.scrollLeft)}},__restoreScrollPosition:function(){if(document.scrollingElement){document.scrollingElement.scrollTop=this.__scrollTop;document.scrollingElement.scrollLeft=this.__scrollLeft}else{document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop;document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft}}};Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(config1,config2){for(var property in config2){config1[property]=config2[property]}},_cloneConfig:function(config){var clone={isClone:!0};this._copyProperties(clone,config);return clone},_getAnimationConfigRecursive:function(type,map,allConfigs){if(!this.animationConfig){return}if(this.animationConfig.value&&"function"===typeof this.animationConfig.value){this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));return}var thisConfig;if(type){thisConfig=this.animationConfig[type]}else{thisConfig=this.animationConfig}if(!Array.isArray(thisConfig)){thisConfig=[thisConfig]}if(thisConfig){for(var config,index=0;config=thisConfig[index];index++){if(config.animatable){config.animatable._getAnimationConfigRecursive(config.type||type,map,allConfigs)}else{if(config.id){var cachedConfig=map[config.id];if(cachedConfig){if(!cachedConfig.isClone){map[config.id]=this._cloneConfig(cachedConfig);cachedConfig=map[config.id]}this._copyProperties(cachedConfig,config)}else{map[config.id]=config}}else{allConfigs.push(config)}}}}},getAnimationConfig:function(type){var map={},allConfigs=[];this._getAnimationConfigRecursive(type,map,allConfigs);for(var key in map){allConfigs.push(map[key])}return allConfigs}};</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(configs){var results=[],resultsToPlay=[];if(0<configs.length){for(var config,index=0,neonAnimation;config=configs[index];index++){neonAnimation=document.createElement(config.name);if(neonAnimation.isNeonAnimation){var result=null;if(!neonAnimation.configure){neonAnimation.configure=function(){return null}}result=neonAnimation.configure(config);resultsToPlay.push({result:result,config:config})}else{console.warn(this.is+":",config.name,"not found!")}}}for(var i=0;i<resultsToPlay.length;i++){var result=resultsToPlay[i].result,config=resultsToPlay[i].config;try{if("function"!=typeof result.cancel){result=document.timeline.play(result)}}catch(e){result=null;console.warn("Couldnt play","(",config.name,").",e)}if(result){results.push({neonAnimation:neonAnimation,config:config,animation:result})}}return results},_shouldComplete:function(activeEntries){for(var finished=!0,i=0;i<activeEntries.length;i++){if("finished"!=activeEntries[i].animation.playState){finished=!1;break}}return finished},_complete:function(activeEntries){for(var i=0;i<activeEntries.length;i++){activeEntries[i].neonAnimation.complete(activeEntries[i].config)}for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.cancel()}},playAnimation:function(type,cookie){var configs=this.getAnimationConfig(type);if(!configs){return}this._active=this._active||{};if(this._active[type]){this._complete(this._active[type]);delete this._active[type]}var activeEntries=this._configureAnimations(configs);if(0==activeEntries.length){this.fire("neon-animation-finish",cookie,{bubbles:!1});return}this._active[type]=activeEntries;for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.onfinish=function(){if(this._shouldComplete(activeEntries)){this._complete(activeEntries);delete this._active[type];this.fire("neon-animation-finish",cookie,{bubbles:!1})}}.bind(this)}},cancelAnimation:function(){for(var k in this._active){var entries=this._active[k];for(var j in entries){entries[j].animation.cancel()}}this._active={}}};Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>(function(){"use strict";Polymer.IronDropdownScrollManager=Polymer.IronScrollManager})();</script><dom-module id="iron-dropdown" assetpath="bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none;}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){"use strict";Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},ready:function(){if(!this.scrollAction){this.scrollAction=this.allowOutsideScroll?"refit":"lock"}this._readied=!0},attached:function(){if(!this.sizingTarget||this.sizingTarget===this){this.sizingTarget=this.containedElement||this}},detached:function(){this.cancelAnimation()},_openedChanged:function(){if(this.opened&&this.disabled){this.cancel()}else{this.cancelAnimation();this._updateAnimationConfig();Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)}},_renderOpened:function(){if(!this.noAnimations&&this.animationConfig.open){this.$.contentWrapper.classList.add("animating");this.playAnimation("open")}else{Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)}},_renderClosed:function(){if(!this.noAnimations&&this.animationConfig.close){this.$.contentWrapper.classList.add("animating");this.playAnimation("close")}else{Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)}},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}},_updateAnimationConfig:function(){for(var animationNode=this.containedElement,animations=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),i=0;i<animations.length;i++){animations[i].node=animationNode}this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){if(this.isAttached){this.notifyResize()}},_allowOutsideScrollChanged:function(allowOutsideScroll){if(!this._readied){return}if(!allowOutsideScroll){this.scrollAction="lock"}else if(!this.scrollAction||"lock"===this.scrollAction){this.scrollAction="refit"}},_applyFocus:function(){var focusTarget=this.focusTarget||this.containedElement;if(focusTarget&&this.opened&&!this.noAutoFocus){focusTarget.focus()}else{Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}}})})();</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){if(!document.body.animate){console.warn("No web animations detected. This element will not"+" function without a web animations polyfill.")}},timingFromConfig:function(config){if(config.timing){for(var property in config.timing){this.animationTiming[property]=config.timing[property]}}return this.animationTiming},setPrefixedProperty:function(node,property,value){for(var map={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]},prefixes=map[property],prefix,index=0;prefix=prefixes[index];index++){node.style[prefix]=value}node.style[property]=value},complete:function(){}};</script><script>Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this._effect=new KeyframeEffect(node,[{height:height/2+"px"},{height:height+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width/2+"px"},{width:width+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width+"px"},{width:width-width/20+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this.setPrefixedProperty(node,"transformOrigin","0 0");this._effect=new KeyframeEffect(node,[{height:height+"px",transform:"translateY(0)"},{height:height/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(config));return this._effect}});</script><dom-module id="paper-menu-button" assetpath="bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){"use strict";var config={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Polymer.PaperMenuButton=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:config.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},toggle:function(){if(this.opened){this.close()}else{this.open()}},open:function(){if(this.disabled){return}this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){if(!this.ignoreSelect){this.close()}},_onIronActivate:function(){if(this.closeOnActivate){this.close()}},_openedChanged:function(opened,oldOpened){if(opened){this._dropdownContent=this.contentElement;this.fire("paper-dropdown-open")}else if(null!=oldOpened){this.fire("paper-dropdown-close")}},_disabledChanged:function(disabled){Polymer.IronControlState._disabledChanged.apply(this,arguments);if(disabled&&this.opened){this.close()}},__onIronOverlayCanceled:function(event){var uiEvent=event.detail,trigger=this.$.trigger,path=Polymer.dom(uiEvent).path;if(-1<path.indexOf(trigger)){event.preventDefault()}}});Object.keys(config).forEach(function(key){Polymer.PaperMenuButton[key]=config[key]})})();</script></dom-module><custom-style><style is="custom-style">:root{@font-face{font-family:"DIN Pro";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/DINPro-Light.svg") format('svg');font-weight:300;font-style:normal;}@font-face{font-family:"Open Sans";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Regular.svg") format('svg');font-weight:400;font-style:normal;}@font-face{font-family:"Open Sans";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Semibold.svg") format('svg');font-weight:600;font-style:normal;}@font-face{font-family:"Open Sans";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Bold.svg") format('svg');font-weight:700;font-style:normal;}@font-face{font-family:"Open Sans";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-Light.svg") format('svg');font-weight:200;font-style:normal;}@font-face{font-family:"Open Sans";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/OpenSans-LightItalic.svg") format('svg');font-weight:200;font-style:italic;}@font-face{font-family:"Source Code Pro";src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.eot");src:url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.eot?#iefix") format('embedded-opentype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.woff2") format('woff2'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.woff") format('woff'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.ttf") format('truetype'), url("https://d2mrfksxwk2en8.cloudfront.net/fonts/SourceCodePro-Regular.svg") format('svg');font-weight:400;font-style:normal;}}</style></custom-style><custom-style><style is="custom-style">:root{--anypoint-font-common-base:{font-family:"Open Sans", "DIN Pro", sans-serif;-webkit-font-smoothing:antialiased;};--anypoint-title-font-common-base:{font-family:"DIN Pro", sans-serif;-webkit-font-smoothing:antialiased;};--anypoint-font-common-code:{font-family:"Source Code Pro", 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--anypoint-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--anypoint-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--anypoint-font-header1:{@apply --anypoint-font-common-base;@apply --anypoint-font-common-nowrap;font-size:30px;font-weight:100;letter-spacing:-0.5px;margin-bottom:20px;};--anypoint-font-header2:{@apply --anypoint-font-common-base;@apply --anypoint-font-common-nowrap;font-size:25px;font-weight:100;letter-spacing:-.3px;margin-bottom:20px;};--anypoint-font-header3:{@apply --anypoint-font-common-base;font-size:20px;font-weight:100;letter-spacing:-.25px;margin-bottom:20px;};--anypoint-font-header4:{@apply --anypoint-font-common-base;font-size:18px;font-weight:100;letter-spacing:-.2px;margin-bottom:20px;};--anypoint-font-header5:{@apply (--anypoint-font-common-base);font-size:16px;font-weight:100;letter-spacing:-.2px;margin-bottom:20px;};--anypoint-font-header6:{@apply --anypoint-font-common-base;@apply --anypoint-font-common-nowrap;font-size:12px;font-weight:700;letter-spacing:0;margin-bottom:20px;};--anypoint-font-body:{@apply --anypoint-font-common-base;font-size:14px;letter-spacing:0;font-weight:400;};--anypoint-font-body-small:{@apply --anypoint-font-common-base;font-size:14px;letter-spacing:0;font-weight:400;};--anypoint-font-blockquote:{@apply --anypoint-font-common-base;font-style:italic;font-weight:200;font-size:18px;};--anypoint-font-code:{@apply --anypoint-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><custom-style><style is="custom-style">:root{--anypoint-color-primary:#00A2DF;--anypoint-color-secondary:#506773;--anypoint-color-danger:#D1344E;--anypoint-color-success:#17BC65;--anypoint-color-tertiary:#ffffff;--anypoint-color-coreBlue1:#ABE2F5;--anypoint-color-coreBlue2:#48C1ED;--anypoint-color-coreBlue3:#00A2DF;--anypoint-color-coreBlue4:#087299;--anypoint-color-coreBlue5:#114459;--anypoint-color-robustBlue1:#A1B1B8;--anypoint-color-robustBlue2:#6B8A99;--anypoint-color-robustBlue3:#506773;--anypoint-color-robustBlue4:#32444D;--anypoint-color-robustBlue5:#272F33;--anypoint-color-futureGreen1:#AAF2CB;--anypoint-color-futureGreen2:#33CC7A;--anypoint-color-futureGreen3:#17BC65;--anypoint-color-futureGreen4:#0E8C48;--anypoint-color-futureGreen5:#174D30;--anypoint-color-aluminum1:#F9FAFB;--anypoint-color-aluminum2:#F4F5F6;--anypoint-color-aluminum3:#E8E9EA;--anypoint-color-aluminum4:#CACBCC;--anypoint-color-aluminum5:#989A9B;--anypoint-color-steel1:#6B6C6D;--anypoint-color-steel2:#58595A;--anypoint-color-steel3:#3A3B3C;--anypoint-color-steel4:#262728;--anypoint-color-steel5:#121314;--anypoint-color-yellow3:#F2BE24;--anypoint-color-viridian3:#00B49D;--anypoint-color-teal3:#00B5D1;--anypoint-color-navy3:#178BEA;--anypoint-color-indigo3:#5E66F9;--anypoint-color-violet3:#9A63F9;--anypoint-color-red3:#D1344E;}</style></custom-style><iron-iconset-svg name="paper-dropdown-menu" size="16"><svg><defs><g id="arrow-drop-down"><path xmlns="http://www.w3.org/2000/svg" d="M8.002 11.352L3.501 4.924l1.027-.276 3.473 4.96 3.471-4.959 1.027.275-4.497 6.428z"></path></g></defs></svg></iron-iconset-svg><custom-style><style is="custom-style">html{--paper-listbox:{padding:0;};}</style></custom-style><dom-module id="paper-dropdown-menu" assetpath="bower_components/paper-dropdown-menu/"><template><style>:host(:focus){outline:none;}:host{width:200px;display:inline-block;position:relative;text-align:left;cursor:pointer;border-right:2px solid transparent;border-left:2px solid transparent;border-top:2px solid transparent;border-bottom:2px solid transparent;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;@apply --anypoint-font-common-base;@apply --paper-dropdown-menu;--paper-menu-button-dropdown:{left:-2px !important;right:-2px;position:absolute !important;};--paper-menu-button-content:{border-bottom:2px solid var(--paper-dropdown-menu-border-color, var(--anypoint-color-aluminum4));top:20px !important;margin-top:-12px !important;};}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([opened]){@apply --paper-dropdown-menu-opened;}:host([opened][vertical-align="bottom"]){--paper-menu-button-content:{border-top:2px solid var(--paper-dropdown-menu-border-color, var(--anypoint-color-aluminum4));border-bottom:0px solid transparent;margin-top:20px !important;top:-18px !important;};}paper-menu-button{cursor:pointer;display:block;padding:0;@apply --paper-dropdown-menu-button;}.dropdown-trigger{box-sizing:border-box;width:100%;@apply --layout-horizontal;@apply --layout-center;@apply --paper-dropdown-trigger;}:host([disabled]) .dropdown-trigger{pointer-events:none;opacity:var(--paper-dropdown-menu-disabled-opacity, 0.33);}.fake-input{padding:10px;color:var(--paper-dropdown-menu-color, var(--primary-text-color));@apply --paper-dropdown-menu-input;}paper-menu-button{--shadow-elevation-2dp:{};}:host([disabled]) .fake-input{border-bottom:1px dashed var(--paper-dropdown-menu-color, var(--secondary-text-color));@apply --paper-dropdown-disabled-input;}:host([invalid]) .fake-input{border-bottom:2px solid var(--paper-dropdown-error-color, var(--error-color));@apply --paper-dropdown-invalid-input;}label,
    .fake-input{@apply --anypoint-font-body;@apply --anypoint-font-common-nowrap;@apply --layout-flex;display:block;line-height:1.5;box-sizing:border-box;text-align:left;outline:none;}.fake-input:dir(rtl){text-align:rigth;}label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px;box-sizing:border-box;color:var(--paper-dropdown-menu-color, var(--secondary-text-color));@apply --paper-dropdown-menu-label;}label.default-value{padding:10px;margin:0;}.trigger-icon{@apply --anypoint-font-header5;margin-bottom:0;margin-right:10px;display:block;color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}.trigger-icon:dir(rtl){padding-right:0px;padding-left:10px;}:host([opened]) .trigger-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg);color:var(--paper-dropdown-menu-label-opened-color, rgba(0, 0, 0, 0.24));}.input-wrapper{position:relative;border-left:2px var(--paper-input-container-border-color, var(--anypoint-color-aluminum4)) solid;border-right:2px var(--paper-input-container-border-color, var(--anypoint-color-aluminum4)) solid;height:inherit;background-color:var(--anypoint-color-aluminum2);-webkit-transition:background-color .2s ease-out;transition:background-color .2s ease-out;}:host(:hover) .input-wrapper{background-color:var(--anypoint-color-aluminum1);border-color:var(--anypoint-color-aluminum5);}</style><span role="button"></span> <label>[[label]]</label><div class="input-wrapper"><paper-menu-button vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" vertical-offset="32" dynamic-align="[[dynamicAlign]]" disabled="[[disabled]]" no-animations="" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]"><div class="dropdown-trigger" slot="dropdown-trigger"><template is="dom-if" if="[[_computeLabelVisible(hasContent, opened)]]"><label class="default-value">Select value</label></template><template is="dom-if" if="[[!_computeLabelVisible(hasContent, opened)]]"><div class="fake-input" tabindex="-1">[[value]]</div></template><iron-icon class="trigger-icon" icon="paper-dropdown-menu:arrow-drop-down"></iron-icon></div><slot name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></div></template><script>class PaperDropdownMenu extends Polymer.mixinBehaviors([Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronValidatableBehavior,Polymer.IronA11yKeysBehavior],Polymer.Element){static get is(){return"paper-dropdown-menu"}static get properties(){return{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0,observer:"_selectedItemChanged"},value:{type:String,notify:!0,observer:"_valueChanged"},label:{type:String},placeholder:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged",reflectToAttribute:!0},allowOutsideScroll:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},hasContent:{type:Boolean,value:!1,readOnly:!0},dynamicAlign:Boolean,_renderValue:String}}get keyBindings(){return{"up down":"open",esc:"close"}}get menuButton(){if(!this.$){this.$={}}if(!this.$.menuButton){this.$.menuButton=this.shadowRoot.querySelector("paper-menu-button")}return this.$.menuButton}constructor(){super();this._clickHandler=this._clickHandler.bind(this)}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.afterNextRender(this,()=>{this.addEventListener("click",this._clickHandler)});if(!this.hasAttribute("role")){this.setAttribute("role","combobox")}if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex","0")}if(!this.hasAttribute("aria-autocomplete")){this.setAttribute("aria-autocomplete","none")}if(!this.hasAttribute("aria-haspopup")){this.setAttribute("aria-haspopup","true")}const contentElement=this.contentElement;if(contentElement&&contentElement.selectedItem){this._setSelectedItem(contentElement.selectedItem)}}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("click",this._clickHandler)}get contentElement(){const nodes=this.shadowRoot.querySelector("slot[slot=\"dropdown-content\"]").assignedNodes();for(let i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}}_clickHandler(e){if(e.composedPath()[0]===this){this.open()}}open(){this.menuButton.open()}close(){this.menuButton.close()}_onIronSelect(e){this._setSelectedItem(e.detail.item)}_onIronDeselect(){this._setSelectedItem(null)}_selectedItemChanged(selectedItem){let value="";if(!selectedItem){value=""}else{value=selectedItem.label||selectedItem.getAttribute("label")||selectedItem.textContent.trim()}this.value=value;this._setSelectedItemLabel(value)}_getValidity(){return this.disabled||!this.required||this.required&&!!this.value}_openedChanged(){const openState=this.opened?"true":"false",e=this.contentElement;if(e){e.setAttribute("aria-expanded",openState)}this.updateStyles()}_computeLabelVisible(hasContent,opened){return!hasContent||opened}_computeDefaultVisible(hasContent){return!hasContent}_valueChanged(value){this._setHasContent(!!value)}}window.customElements.define(PaperDropdownMenu.is,PaperDropdownMenu);</script></dom-module><script>Polymer.IronSelection=function(selectCallback){this.selection=[];this.selectCallback=selectCallback};Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(excludes){this.selection.slice().forEach(function(item){if(!excludes||0>excludes.indexOf(item)){this.setItemSelected(item,!1)}},this)},isSelected:function(item){return 0<=this.selection.indexOf(item)},setItemSelected:function(item,isSelected){if(null!=item){if(isSelected!==this.isSelected(item)){if(isSelected){this.selection.push(item)}else{var i=this.selection.indexOf(item);if(0<=i){this.selection.splice(i,1)}}if(this.selectCallback){this.selectCallback(item,isSelected)}}}},select:function(item){if(this.multi){this.toggle(item)}else if(this.get()!==item){this.setItemSelected(this.get(),!1);this.setItemSelected(item,!0)}},toggle:function(item){this.setItemSelected(item,!this.isSelected(item))}};</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer)}this._removeListener(this.activateEvent)},indexOf:function(item){return this.items?this.items.indexOf(item):-1},select:function(value){this.selected=value},selectPrevious:function(){var length=this.items.length,index=(+this._valueToIndex(this.selected)-1+length)%length;this.selected=this._indexToValue(index)},selectNext:function(){var index=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(index)},selectIndex:function(index){this.select(this._indexToValue(index))},forceSynchronousItemUpdate:function(){if(this._observer&&"function"===typeof this._observer.flush){this._observer.flush()}else{this._updateItems()}},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(eventName){this.listen(this,eventName,"_activateHandler")},_removeListener:function(eventName){this.unlisten(this,eventName,"_activateHandler")},_activateEventChanged:function(eventName,old){this._removeListener(old);this._addListener(eventName)},_updateItems:function(){var nodes=Polymer.dom(this).queryDistributedElements(this.selectable||"*");nodes=Array.prototype.filter.call(nodes,this._bindFilterItem);this._setItems(nodes)},_updateAttrForSelected:function(){if(this.selectedItem){this.selected=this._valueForItem(this.selectedItem)}},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(!this.items){return}var item=this._valueToItem(this.selected);if(item){this._selection.select(item)}else{this._selection.clear()}if(this.fallbackSelection&&this.items.length&&this._selection.get()===void 0){this.selected=this.fallbackSelection}},_filterItem:function(node){return!this._excludedLocalNames[node.localName]},_valueToItem:function(value){return null==value?null:this.items[this._valueToIndex(value)]},_valueToIndex:function(value){if(this.attrForSelected){for(var i=0,item;item=this.items[i];i++){if(this._valueForItem(item)==value){return i}}}else{return+value}},_indexToValue:function(index){if(this.attrForSelected){var item=this.items[index];if(item){return this._valueForItem(item)}}else{return index}},_valueForItem:function(item){if(!item){return null}if(!this.attrForSelected){var i=this.indexOf(item);return-1===i?null:i}var propValue=item[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return propValue!=void 0?propValue:item.getAttribute(this.attrForSelected)},_applySelection:function(item,isSelected){if(this.selectedClass){this.toggleClass(this.selectedClass,isSelected,item)}if(this.selectedAttribute){this.toggleAttribute(this.selectedAttribute,isSelected,item)}this._selectionChange();this.fire("iron-"+(isSelected?"select":"deselect"),{item:item})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(node){return Polymer.dom(node).observeNodes(function(mutation){this._updateItems();this._updateSelected();this.fire("iron-items-changed",mutation,{bubbles:!1,cancelable:!1})})},_activateHandler:function(e){var t=e.target,items=this.items;while(t&&t!=this){var i=items.indexOf(t);if(0<=i){var value=this._indexToValue(i);this._itemActivate(value,t);return}t=t.parentNode}},_itemActivate:function(value,item){if(!this.fire("iron-activate",{selected:value,item:item},{cancelable:!0}).defaultPrevented){this.select(value)}}};</script><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(value){if(this.multi){this._toggleSelected(value)}else{this.selected=value}},multiChanged:function(multi){this._selection.multi=multi;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){if(!this.multi){Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)}else if(this.selectedItems&&0<this.selectedItems.length){this.selectedValues=this.selectedItems.map(function(selectedItem){return this._indexToValue(this.indexOf(selectedItem))},this).filter(function(unfilteredValue){return null!=unfilteredValue},this)}},_updateSelected:function(){if(this.multi){this._selectMulti(this.selectedValues)}else{this._selectSelected(this.selected)}},_selectMulti:function(values){values=values||[];var selectedItems=(this._valuesToItems(values)||[]).filter(function(item){return null!==item&&item!==void 0});this._selection.clear(selectedItems);for(var i=0;i<selectedItems.length;i++){this._selection.setItemSelected(selectedItems[i],!0)}if(this.fallbackSelection&&!this._selection.get().length){var fallback=this._valueToItem(this.fallbackSelection);if(fallback){this.select(this.fallbackSelection)}}},_selectionChange:function(){var s=this._selection.get();if(this.multi){this._setSelectedItems(s);this._setSelectedItem(s.length?s[0]:null)}else{if(null!==s&&s!==void 0){this._setSelectedItems([s]);this._setSelectedItem(s)}else{this._setSelectedItems([]);this._setSelectedItem(null)}}},_toggleSelected:function(value){var i=this.selectedValues.indexOf(value);if(0>i){this.push("selectedValues",value)}else{this.splice("selectedValues",i,1)}},_valuesToItems:function(values){return null==values?null:values.map(function(value){return this._valueToItem(value)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(value){if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}var item=this._valueToItem(value);if(item&&item.hasAttribute("disabled"))return;this._setFocusedItem(item);Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},_resetTabindices:function(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(item){item.setAttribute("tabindex",item===selectedItem?"0":"-1")},this)},_updateMultiselectable:function(multi){if(multi){this.setAttribute("aria-multiselectable","true")}else{this.removeAttribute("aria-multiselectable")}},_focusWithKeyboardEvent:function(event){if(-1!==this._MODIFIER_KEYS.indexOf(event.key))return;this.cancelDebouncer("_clearSearchText");var searchText=this._searchText||"",key=event.key&&1==event.key.length?event.key:String.fromCharCode(event.keyCode);searchText+=key.toLocaleLowerCase();for(var searchLength=searchText.length,i=0,item;item=this.items[i];i++){if(item.hasAttribute("disabled")){continue}var attr=this.attrForItemTitle||"textContent",title=(item[attr]||item.getAttribute(attr)||"").trim();if(title.length<searchLength){continue}if(title.slice(0,searchLength).toLocaleLowerCase()==searchText){this._setFocusedItem(item);break}}this._searchText=searchText;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex-i+length)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_focusNext:function(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex+i)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_applySelection:function(item,isSelected){if(isSelected){item.setAttribute("aria-selected","true")}else{item.removeAttribute("aria-selected")}Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(focusedItem,old){old&&old.setAttribute("tabindex","-1");if(focusedItem&&!focusedItem.hasAttribute("disabled")&&!this.disabled){focusedItem.setAttribute("tabindex","0");focusedItem.focus()}},_onIronItemsChanged:function(event){if(event.detail.addedNodes.length){this._resetTabindices()}},_onShiftTabDown:function(){var oldTabIndex=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(event){if(Polymer.IronMenuBehaviorImpl._shiftTabPressed){return}var rootTarget=Polymer.dom(event).rootTarget;if(rootTarget!==this&&"undefined"!==typeof rootTarget.tabIndex&&!this.isLightDescendant(rootTarget)){return}this._defaultFocusAsync=this.async(function(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);if(selectedItem){this._setFocusedItem(selectedItem)}else if(this.items[0]){this._focusNext()}})},_onUpKey:function(event){this._focusPrevious();event.detail.keyboardEvent.preventDefault()},_onDownKey:function(event){this._focusNext();event.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var focusedItem=this.focusedItem;if(focusedItem){focusedItem.blur()}},_onKeydown:function(event){if(!this.keyboardEventMatchesKeys(event,"up down esc")){this._focusWithKeyboardEvent(event)}event.stopPropagation()},_activateHandler:function(event){Polymer.IronSelectableBehavior._activateHandler.call(this,event);event.stopPropagation()},_disabledChanged:function(disabled){if(disabled){this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0;this.removeAttribute("tabindex")}else if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex",this._previousTabIndex)}}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><dom-module id="paper-listbox" assetpath="bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}})})();</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><dom-module id="paper-item-shared-styles" assetpath="bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><dom-module id="json-table-primitive-teaser" assetpath="bower_components/json-table/"><template><style>:host{display:block;margin:4px 0;}:host([opened]) .primitive-wrapper{max-height:none;}.primitive-wrapper{max-height:var(--json-table-primitive-teaser-max-heigth, 160px);overflow:hidden;padding:4px 0;}*[hidden]{display:none !important;}.toggle{font-size:inherit;color:inherit;margin-top:12px;display:inline-block;}</style><div class="primitive-wrapper" id="wrapper"><slot id="slot"></slot></div><a href="#" class="toggle" hidden$="[[!_isOverflow]]" on-tap="toggle">[[_computeToggleLabel(opened)]]</a></template><script>class JsonTablePrimitiveTeaser extends Polymer.Element{static get is(){return"json-table-primitive-teaser"}static get properties(){return{opened:{type:Boolean,value:!1,reflectToAttribute:!0},observer:{readOnly:!0,type:Object},_isOverflow:{type:Boolean,value:!1},maxHeight:{type:String,value:"160px",observer:"_maxHeightChanged"}}}constructor(){super();this._contentChanged=this._contentChanged.bind(this)}connectedCallback(){super.connectedCallback();const observer=new Polymer.FlattenedNodesObserver(this.$.slot,this._contentChanged);this._setObserver(observer)}disconnectedCallback(){super.disconnectedCallback();if(this._observer){this._observer.disconnect();this._setObserver(void 0)}}_contentChanged(){const oh=this.$.wrapper.offsetHeight,sh=this.$.wrapper.scrollHeight;this._isOverflow=sh>oh}toggle(e){e.preventDefault();this.opened=!this.opened}_computeToggleLabel(opened){return opened?"show less":"show more"}_maxHeightChanged(maxHeight){maxHeight=maxHeight||"160px";this.updateStyles({"--json-table-primitive-teaser-max-heigth":maxHeight})}}window.customElements.define(JsonTablePrimitiveTeaser.is,JsonTablePrimitiveTeaser);</script></dom-module><dom-module id="json-table-array" assetpath="bower_components/json-table/"><template><style>:host{display:block;--table-actions-label-color:rgba(0, 0, 0, 0.74);--table-actions-label-font-size:14px;--paper-dropdown-menu:{width:70px;};--paper-dropdown-menu-input:{text-align:right;};--paper-input-container-underline:{border-bottom-color:transparent;};--paper-input-container-underline-focus:{border-bottom-color:transparent;};}paper-dropdown-menu{--paper-input-container-input:{@apply --arc-font-body1;color:var(--table-actions-label-color);font-size:var(--table-actions-label-font-size);};}table{border-collapse:collapse;}th{white-space:nowrap;text-align:left;padding:8px 16px;@apply --arc-font-body1;font-size:14px;color:var(--json-table-array-header-color, #58595A);border-bottom:3px #e8e9ea solid;}td{min-width:60px;padding:8px 16px;word-break:normal;vertical-align:top;border-bottom:1px #E8E9EA solid;@apply --arc-font-body1;font-size:14px;color:var(--json-table-array-body-color, #121314);}*[hidden]{display:none !important;}.enum-value{display:block;padding:4px 0;margin:4px 0;}.enum-value::after{content:',';color:rgba(0, 0, 0, 0.54);}.enum-value:last-of-type::after{content:'';}.toggle-view{font-size:inherit;color:inherit;margin-top:12px;display:block;white-space:nowrap;}.toggle-view.active{display:inline-block;margin-top:0;}.table-actions{height:56px;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-body1;font-size:var(--table-actions-label-font-size);color:var(--table-actions-label-color);}.page-items-count-selector,
    .page-count{margin-right:32px;@apply --layout-horizontal;@apply --layout-center;}</style><template is="dom-if" if="[[paginate]]"><div class="table-actions"><div class="page-items-count-selector"><span class="page-items-count-label">Items per page</span><paper-dropdown-menu no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{itemsPerPage}}"><paper-item data-value="10">10</paper-item><paper-item data-value="15">15</paper-item><paper-item data-value="20">20</paper-item><paper-item data-value="25">25</paper-item><paper-item data-value="50">50</paper-item><paper-item data-value="100">100</paper-item></paper-listbox></paper-dropdown-menu></div><div class="page-count">[[startItemLabel]]-[[endItemLabel]] of [[maxItemsLabel]]</div><div class="page-paginators"><paper-icon-button icon="arc:chevron-left" on-tap="previousPage" disabled="[[_isDisabedPrevious(page)]]"></paper-icon-button><paper-icon-button icon="arc:chevron-right" on-tap="nextPage" disabled="[[_isDisabedNext(maxItemsLabel, endItemLabel)]]"></paper-icon-button></div></div></template><table><template is="dom-if" if="[[hasColumns]]"><thead><tr><template is="dom-repeat" items="[[columns]]"><th>[[item]]</th></template></tr></thead></template><tbody><template is="dom-repeat" items="[[display]]" as="displayItem" initial-count="10"><tr><template is="dom-repeat" items="[[columns]]" as="column"><td><template is="dom-if" if="[[_isPrimitive(displayItem, column)]]"><json-table-primitive-teaser class="primitive-value">[[_getValue(displayItem, column)]]</json-table-primitive-teaser></template><template is="dom-if" if="[[_isObject(displayItem, column)]]"><json-table-object json="[[_getValue(displayItem, column)]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template><template is="dom-if" if="[[_isEnum(displayItem, column)]]"><template is="dom-repeat" items="[[_getValue(displayItem, column)]]"><span class="enum-value">[[item]]</span></template></template><template is="dom-if" if="[[_isArray(displayItem, column)]]" restamp="true"><span class="object-info"><span class="object-label" array="">Array ([[_computeValueSize(displayItem, column)]])</span> <a href="#" class="toggle-view" data-target="array" on-tap="_toggleItem">show array</a></span><template is="dom-if" if="[[false]]" array=""><json-table-array json="[[_getValue(displayItem, column)]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></template></template></td></template></tr></template></tbody></table><template is="dom-if" if="[[paginate]]"><div class="table-actions"><div class="page-items-count-selector"><span class="page-items-count-label">Items per page</span><paper-dropdown-menu no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{itemsPerPage}}"><paper-item data-value="10">10</paper-item><paper-item data-value="15">15</paper-item><paper-item data-value="20">20</paper-item><paper-item data-value="25">25</paper-item><paper-item data-value="50">50</paper-item><paper-item data-value="100">100</paper-item></paper-listbox></paper-dropdown-menu></div><div class="page-count">[[startItemLabel]]-[[endItemLabel]] of [[maxItemsLabel]]</div><div class="page-paginators"><paper-icon-button icon="arc:chevron-left" on-tap="previousPage" disabled="[[_isDisabedPrevious(page)]]"></paper-icon-button><paper-icon-button icon="arc:chevron-right" on-tap="nextPage" disabled="[[_isDisabedNext(maxItemsLabel, endItemLabel)]]"></paper-icon-button></div></div></template></template><script>class JsonTableArray extends JsonTableMixin(Polymer.Element){static get is(){return"json-table-array"}static get properties(){return{json:{type:Array,observer:"_jsonChanged"},columns:{type:Array,readOnly:!0,observer:"_columnsChanged"},hasColumns:{type:Boolean,value:!1,readOnly:!0},display:{type:Array,readOnly:!0},startItemLabel:{type:Number,readOnly:!0},endItemLabel:{type:Number,readOnly:!0},maxItemsLabel:{type:Number,readOnly:!0}}}static get observers(){return["_computeDisplay(json, paginate, page, itemsPerPage)"]}_jsonChanged(json){if(!json){this._setDisplay(void 0);this._setColumns(void 0);return}const names=this._computeColumns(json);this._setColumns(names)}_computeDisplay(json,paginate,page,itemsPerPage){var _Mathmin=Math.min;if(!json){return}const maxInxdex=json.length-1;if(-1===maxInxdex){return}if(maxInxdex<=itemsPerPage&&this.paginate){return this.set("paginate",!1)}const startIndex=paginate?page*itemsPerPage:0;if(maxInxdex<startIndex){return}const endIndex=paginate?_Mathmin(startIndex+itemsPerPage-1,maxInxdex):maxInxdex,result=[];for(let i=startIndex;i<=endIndex;i++){result.push(this.getItemModel(json[i]))}this._setDisplay(result);this._setStartItemLabel(startIndex+1);this._setEndItemLabel(_Mathmin(endIndex+1,maxInxdex));this._setMaxItemsLabel(maxInxdex)}_computeColumns(json){if(this.isEnum(json)){return}const columnNames=[];json.forEach(function(value){if(this.isObject(value)){const names=Object.keys(value);for(let i=0,len=names.length;i<len;i++){if(-1===columnNames.indexOf(names[i])){columnNames.push(names[i])}}}},this);return columnNames.length?columnNames:void 0}_columnsChanged(columns){if(columns&&columns.length){this._setHasColumns(!0)}else{this._setHasColumns(!1)}}_isPrimitive(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isPrimitive(obj)}_isObject(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isObject(obj)}_isEnum(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isArray(obj)&&this.isEnum(obj)}_isArray(item,column){if(!item||!item.value||!column){return!1}if(!(column in item.value)){return!1}const obj=item.value[column];return this.isArray(obj)&&!this.isEnum(obj)}_getValue(item,column){if(!item||!item.value||!column){return}if(!(column in item.value)){return}return item.value[column]}_toggleItem(e){e.preventDefault();let cell;var currentElement=e.target,targetAnchor=e.target,templateTarget=currentElement.dataset.target;while(!0){if("TD"===currentElement.nodeName){cell=currentElement;break}currentElement=currentElement.parentElement;if(!currentElement){throw new Error("Couldn't find table cell in the event path.")}}const tpl=cell.querySelector(`dom-if[${templateTarget}]`),label=cell.querySelector(`.object-label[${templateTarget}]`);tpl.if=!tpl.if;if(tpl.if){e.target.textContent="hide "+templateTarget;label.setAttribute("hidden",!0);targetAnchor.classList.add("active")}else{e.target.textContent="show "+templateTarget;label.removeAttribute("hidden");targetAnchor.classList.remove("active")}}nextPage(){const maxIndex=this.maxItemsLabel,endIndex=this.endItemLabel;if(maxIndex<=endIndex){return!1}this.page++}previousPage(){if(!this.paginate||0===this.page){return}this.page--}_isDisabedPrevious(page){return 0===page}_isDisabedNext(maxItemsLabel,endItemLabel){if(maxItemsLabel<=endItemLabel){return!0}return!1}_computeValueSize(item,column){const value=this._getValue(item,column);return value&&value.length||0}}window.customElements.define(JsonTableArray.is,JsonTableArray);</script></dom-module><dom-module id="json-table-object" assetpath="bower_components/json-table/"><template><style>:host{display:block;--json-table-property-name-width:auto;}.item{@apply --layout-horizontal;min-height:24px;padding:8px 0;border-bottom:1px var(--json-table-item-border-bottom-color, rgba(0, 0, 0, 0.12)) solid;}.item.array,
      .item.object{@apply --layout-vertical;}.item:last-of-type{border-bottom:none;}.property-name{color:var(--json-table-list-property-name-color, #000);word-break:break-all;margin-right:12px;padding-right:12px;white-space:normal;word-break:normal;margin:8px 12px 8px 0;}.property-value{@apply --layout-flex;word-wrap:normal;overflow:auto;}.object .property-value,
      .array .property-value{overflow:visible;}.object .property-value{margin-left:var(--json-table-indent-size, 12px);}.object .property-name,
      .array .property-name{font-weight:600;width:auto;min-width:auto;}json-table-object,
      json-table-array{overflow:auto;}:host > .object > .property-name,
      :host > .array > .property-name{color:var(--json-table-list-property-name-color, #000);}.enum-value{display:block;}.enum-value::after{content:',';color:rgba(0, 0, 0, 0.54);}.enum-value:last-of-type::after{content:'';}.object-label,
      .array-label{color:var(--json-table-complex-name-label-color, #58595A);}</style><template is="dom-repeat" items="[[display]]"><div class$="item [[_computeItemClass(item.*)]]"><div class="property-name">[[item.key]]<template is="dom-if" if="[[item.isObject]]"><span class="object-label">(Object)</span></template><template is="dom-if" if="[[_isEnumOrArray(item.*)]]"><span class="array-label">(Array [[_computeArraySize(item.*)]])</span></template></div><div class="property-value"><template is="dom-if" if="[[item.isObject]]"><json-table-object json="[[item.value]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template><template is="dom-if" if="[[item.isEnum]]"><template is="dom-repeat" items="[[item.value]]"><span class="enum-value">[[item]]</span></template></template><template is="dom-if" if="[[item.isArray]]"><div class="array-wrapper"><json-table-array json="[[item.value]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></div></template><template is="dom-if" if="[[item.isPrimitive]]"><json-table-primitive-teaser class="primitive-value">[[item.value]]</json-table-primitive-teaser></template></div></div></template></template><script>class JsonTableObject extends JsonTableMixin(Polymer.Element){static get is(){return"json-table-object"}static get properties(){return{json:{type:Object,observer:"_jsonChanged"},display:{type:Array,readOnly:!0}}}_jsonChanged(json){if(!json){return this._setDisplay(void 0)}const names=Object.keys(json),model=names.map(key=>this.getPropertyModel(key,json[key]));this._setDisplay(model)}_computeItemClass(record){if(!record||!record.base){return}const item=record.base;if(item.isArray){return"array"}if(item.isEnum){return"enum"}if(item.isObject){return"object"}}}window.customElements.define(JsonTableObject.is,JsonTableObject);</script></dom-module><dom-module id="json-table" assetpath="bower_components/json-table/"><template><style>:host{display:block;@apply --json-table;}.array-wrapper{@apply --layout-horizontal;overflow-y:hidden;overflow-x:auto;@apply --json-table-main-array-wrapper;}json-table-array{@apply --layout-flex;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}</style><div class="actions-panel"><slot name="content-action"></slot></div><template is="dom-if" if="[[isArray(_renderJson)]]" restamp="true"><div class="array-wrapper"><json-table-array json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-array></div></template><template is="dom-if" if="[[isObject(_renderJson)]]" restamp="true"><json-table-object json="[[_renderJson]]" paginate="[[paginate]]" page="[[page]]" items-per-page="[[itemsPerPage]]"></json-table-object></template></template><script>class JsonTable extends JsonTableMixin(Polymer.Element){static get is(){return"json-table"}static get properties(){return{json:{type:Object,observer:"_jsonChanged"},_renderJson:Object,parserError:{type:Boolean,value:!1,readOnly:!0}}}_jsonChanged(json){this._setParserError(!1);this.set("_renderJson",void 0);if(!json){this.set("_renderJson",void 0);return}if("string"===typeof json){try{json=JSON.parse(json);this._setRenderJson(json);return}catch(e){this._setParserError(!0);return}}if(this.isArray(json)){this._setRenderJson(Array.from(json))}else{this._setRenderJson(Object.assign({},json))}}_setRenderJson(json){setTimeout(()=>{this.set("_renderJson",json)},1)}}window.customElements.define(JsonTable.is,JsonTable);</script></dom-module><dom-module id="prism-theme-default" assetpath="bower_components/prism-element/"><template><style>code[class*="language-"],
    pre[class*="language-"]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection{text-shadow:none;background:#b3d4fc;}pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
    code[class*="language-"]::selection, code[class*="language-"] ::selection{text-shadow:none;background:#b3d4fc;}@media print{code[class*="language-"],
    pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
    pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:slategray;}.token.punctuation{color:#999;}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted{color:#905;}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:#690;}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:#a67f59;background:hsla(0, 0%, 100%, .5);}.token.atrule,
    .token.attr-value,
    .token.keyword{color:#07a;}.token.function{color:#DD4A68;}.token.regex,
    .token.important,
    .token.variable{color:#e90;}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="api-example-render" assetpath="bower_components/api-resource-example-document/"><template><style include="prism-theme-default"></style><style>:host{display:block;padding:4px;background-color:var(--code-background-color, #f5f2f0);@apply --api-example-render;}.code-wrapper{padding:8px;}#output{white-space:pre-wrap;@apply --code-block;}[hidden]{display:none !important;}h6{@apply --arc-font-body1;font-size:15px;margin:0 0 4px 4px;@apply --api-resource-example-document-title;}paper-icon-button[active]{background-color:var(--api-resource-example-document-button-active-background-color, #e0e0e0);border-radius:50%;}.union-toggle{outline:none;background-color:var(--api-type-document-union-button-background-color, transparent);color:var(--api-type-document-union-button-color, #000);}.union-toggle[active]{background-color:var(--api-type-document-union-button-active-background-color, #CDDC39);color:var(--api-type-document-union-button-active-color, #000);}.union-type-selector{margin:12px 0;}</style><template is="dom-if" if="[[isUnion]]" restamp=""><div class="union-type-selector"><span>Any of:</span><template is="dom-repeat" data-union-repeater="" items="[[unions]]"><paper-button class="union-toggle" active="[[_unionTypeActive(selectedUnion, index)]]" on-click="_selectUnion" title$="Select [[item]] type">[[item]]</paper-button></template></div><template is="dom-if" if="[[unionExample]]"><api-example-render example="[[unionExample]]" is-json="[[isJson]]" media-type="[[mediaType]]" table="{{table}}" render-table="[[renderTable]]" no-title="" no-actions="[[noActions]]"></api-example-render></template></template><template is="dom-if" if="[[!isUnion]]"><div class="example"><template is="dom-if" if="[[_computeRenderTitle(example.hasTitle, noTitle)]]"><h6>[[example.title]]</h6></template><template is="dom-if" if="[[!noActions]]"><div class="example-actions"><paper-icon-button icon="arc:content-copy" data-action="copy" on-click="_copyToClipboard" title="Copy example to clipboard"></paper-icon-button><template is="dom-if" if="[[_isJson]]"><paper-icon-button icon="arc:view-column" data-action="table" active="[[table]]" title="Toggle table view" toggles="" on-click="_toggleTable"></paper-icon-button></template><template is="dom-if" if="[[_hasRaw]]"><paper-icon-button icon="arc:code" data-action="code" active="[[sourceOpened]]" title="Toggle example source view" toggles="" on-click="_toggleSourceOpened"></paper-icon-button></template></div></template><template is="dom-if" if="[[renderTable]]"><json-table json="[[example.value]]"></json-table></template><div class="code-wrapper" hidden="[[renderTable]]"><code id="output" class="markdown-html" language-xml=""></code></div></div></template><clipboard-copy content="[[example.value]]"></clipboard-copy></template><script>class ApiExampleRender extends Polymer.Element{static get is(){return"api-example-render"}static get properties(){return{example:Object,mediaType:String,isJson:Boolean,_isJson:{type:Boolean,value:!1,computed:"_computeIsJson(isJson, example.value)"},isUnion:{type:Boolean,computed:"_computeIsUnion(example)"},unions:{type:Array,computed:"_computeUnions(isUnion, example)",observer:"_unionTypesChanged"},selectedUnion:Number,unionExample:{type:Object,computed:"_computeUnionExamples(selectedUnion, example)"},table:{type:Boolean,value:!1,notify:!0},renderTable:Boolean,sourceOpened:Boolean,noTitle:Boolean,_hasRaw:{type:Boolean,value:!1,computed:"_computeHasRaw(example.value, example.raw)"},noActions:{type:Boolean,value:!1}}}static get observers(){return["_dataChanged(mediaType, example, sourceOpened)"]}_computeIsJson(isJson,value){if(!isJson){return!1}if(!value){return!1}try{const result=JSON.parse(value);return"object"===typeof result}catch(_){return!1}}_computeHasRaw(value,raw){if(!raw){return!1}return raw+""!==value+""}_dataChanged(mediaType,example){if(this.__changeDebouncer||!example){return}this.__changeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__changeDebouncer=!1;this._renderCode()})}_renderCode(){const example=this.example;if(!example||!example.value&&example.values){return}const output=this.shadowRoot.querySelector("#output");if(!output){Polymer.RenderStatus.afterNextRender(this,()=>this._renderCode());return}if(this.sourceOpened){output.innerHTML=this.highlight(example.raw+"","yaml")}else{const value=example.value+"";if(value){output.innerHTML=this.highlight(value,this.mediaType)}else{output.innerText="(no value in example)"}}}highlight(code,type){let lang;if(type){if(-1!==type.indexOf("json")){lang="json"}else if(-1!==type.indexOf("xml")){lang="xml"}}const ev=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code,lang}});this.dispatchEvent(ev);return ev.detail.code}_copyToClipboard(e){const button=e.target,copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>this._resetCopyButtonState(button),1e3)}_resetCopyButtonState(button){button.icon="arc:content-copy"}_computeIsUnion(example){return!!(example&&example.hasUnion)}_computeUnions(isUnion,example){if(!isUnion||!example||!example.values){return}return example.values.map(item=>item.title)}_computeUnionExamples(selectedUnion,example){if(selectedUnion===void 0||0>selectedUnion){return}if(!example||!example.values){return}return example.values[selectedUnion]}_toggleTable(e){const active=e.target.active;this.table=active;if(active&&this.sourceOpened){this.sourceOpened=!active}}_toggleSourceOpened(e){const active=e.target.active;this.sourceOpened=active;if(active&&this.table){this.table=!active}}_unionTypesChanged(types){if(!types){return}this.selectedUnion=0}_selectUnion(e){const index=e.model.get("index");if(this.selectedUnion===index){e.target.active=!0}else{this.selectedUnion=index}}_unionTypeActive(selectedUnion,index){return selectedUnion===index}_computeRenderTitle(hasTitle,noTitle){return!!(hasTitle&&!noTitle)}}window.customElements.define(ApiExampleRender.is,ApiExampleRender);</script></dom-module><dom-module id="api-resource-example-document" assetpath="bower_components/api-resource-example-document/"><template><style>:host{display:block;@apply --api-resource-example-document;}.example:not(:last-of-type){margin-bottom:24px;}</style><prism-highlighter></prism-highlighter><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator><template is="dom-if" if="[[hasExamples]]"><template is="dom-repeat" items="[[renderedExamples]]"><api-example-render class="example" example="[[item]]" is-json="[[isJson]]" media-type="[[mediaType]]" table="{{table}}" render-table="[[_effectiveTable]]" no-actions="[[noActions]]"></api-example-render></template></template></template><script>class ApiResourceExampleDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-resource-example-document"}static get properties(){return{examples:Array,mediaType:String,typeName:String,payloadId:String,renderedExamples:{type:Array,notify:!0,readOnly:!0},hasExamples:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1,computed:"_computeHasArrayValue(renderedExamples)"},table:{type:Boolean,value:!1,observer:"_tableChanged"},isJson:{type:Boolean,value:!1,computed:"_computeIsJson(mediaType)"},noAuto:Boolean,noActions:{type:Boolean,value:!1},rawOnly:Boolean,_effectiveTable:{type:Boolean,computed:"_computeEffectiveTable(table, isJson)"},hasLocalStorage:{type:Boolean,readOnly:!0,value:function(){if("undefined"!==typeof chrome&&chrome.i18n){return!1}try{localStorage.getItem("test");return!0}catch(_){return!1}}}}}static get observers(){return["_computeExamples(examples, mediaType, rawOnly, typeName, noAuto, payloadId)"]}constructor(){super();this._onStorageChanged=this._onStorageChanged.bind(this);this._onJsonTableStateChanged=this._onJsonTableStateChanged.bind(this);this._ensureJsonTable()}connectedCallback(){super.connectedCallback();window.addEventListener("storage",this._onStorageChanged);window.addEventListener("json-table-state-changed",this._onJsonTableStateChanged)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("storage",this._onStorageChanged);window.removeEventListener("json-table-state-changed",this._onJsonTableStateChanged)}_ensureJsonTable(){if(!this.hasLocalStorage){return}const isTable=this._localStorageValueToBoolean(localStorage.jsonTableEnabled);if(this.table!==isTable){this.table=isTable}}_tableChanged(state){if(state===void 0){return}if(!this.hasLocalStorage){this._dispatchTableState(state);return}if(localStorage.jsonTableEnabled!==state+""){window.localStorage.setItem("jsonTableEnabled",state);this._dispatchTableState(state)}}_dispatchTableState(enabled){const e=new CustomEvent("json-table-state-changed",{bubbles:!0,composed:!0,detail:{enabled}});this.dispatchEvent(e);return e}_onStorageChanged(e){if("jsonTableEnabled"!==e.key||!this.hasLocalStorage){return}if(e.newValue===void 0){return}const v=this._localStorageValueToBoolean(e.newValue);if(this.table!==v){this.table=v}}_localStorageValueToBoolean(value){if(!value){return!1}if("true"===value){value=!0}else{value=!1}return value}_onJsonTableStateChanged(e){if(e.composedPath()[0]===this){return}const{enabled}=e.detail;if(enabled!==this.table){this.table=enabled}}_computeExamples(){if(this._examplesDebouncer){return}this._examplesDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this._examplesDebouncer=!1;this.__computeExamples(this.examples,this.mediaType,this.rawOnly,this.typeName,this.payloadId,this.noAuto)})}__computeExamples(examples,mediaType,rawOnly,typeName,payloadId,noAuto){this._setRenderedExamples(void 0);if(!examples||!mediaType&&!rawOnly){return}const opts={typeName,typeId:payloadId,noAuto,rawOnly};let result;if(examples instanceof Array){if(this._hasType(examples[0],this.ns.raml.vocabularies.http+"Payload")){result=this.$.exampleGenerator.generatePayloadsExamples(examples,mediaType,opts)}else{for(let i=0,len=examples.length;i<len;i++){const item=this.$.exampleGenerator.computeExamples(examples[i],mediaType,opts);if(item){if(result){result=result.concat(item)}else{result=item}}}}}else if(this._hasType(examples,this.ns.raml.vocabularies.http+"Payload")){result=this.$.exampleGenerator.generatePayloadExamples(examples,mediaType,opts)}else{result=this.$.exampleGenerator.computeExamples(examples,mediaType,opts)}if(result&&result.length){this._setRenderedExamples(result)}}_computeIsJson(type){return!!(type&&-1!==type.indexOf("json"))}_computeEffectiveTable(table,isJson){return!!(isJson&&table)}}window.customElements.define(ApiResourceExampleDocument.is,ApiResourceExampleDocument);</script></dom-module><dom-module id="markdown-styles" assetpath="bower_components/markdown-styles/"><template><style>[slot="markdown-html"]{@apply --arc-font-body1;}[slot="markdown-html"] h1,
    [slot="markdown-html"] h2,
    [slot="markdown-html"] h3,
    [slot="markdown-html"] h4,
    [slot="markdown-html"] h5,
    [slot="markdown-html"] h6{@apply --arc-font-title;}[slot="markdown-html"] h1 tt,
    [slot="markdown-html"] h1 code,
    [slot="markdown-html"] h2 tt,
    [slot="markdown-html"] h2 code,
    [slot="markdown-html"] h3 tt,
    [slot="markdown-html"] h3 code,
    [slot="markdown-html"] h4 tt,
    [slot="markdown-html"] h4 code,
    [slot="markdown-html"] h5 tt,
    [slot="markdown-html"] h5 code,
    [slot="markdown-html"] h6 tt,
    [slot="markdown-html"] h6 code{font-size:inherit;}[slot="markdown-html"] h1{@apply --arc-font-display1;border-bottom:1px solid var(--markdown-styles-title-border-bottom-color, #eee);padding-top:1rem;padding-bottom:0.5rem;}[slot="markdown-html"] h2{@apply --arc-font-title;border-bottom:1px solid var(--markdown-styles-title-border-bottom-color, #eee);}[slot="markdown-html"] h3{@apply --arc-font-subhead;font-size:1.5em;line-height:1.43;}[slot="markdown-html"] h4{@apply --arc-font-subhead;font-size:1.25em;}[slot="markdown-html"] h5{@apply --arc-font-subhead;font-size:1em;}[slot="markdown-html"] h6{@apply --arc-font-subhead;font-size:1em;color:#777;}[slot="markdown-html"] p,
    [slot="markdown-html"] blockquote,
    [slot="markdown-html"] ul,
    [slot="markdown-html"] ol,
    [slot="markdown-html"] dl,
    [slot="markdown-html"] table,
    [slot="markdown-html"] pre{@apply --arc-font-body1;margin-top:0;margin-bottom:16px;}[slot="markdown-html"] > *:last-child{margin-bottom:0;}[slot="markdown-html"] hr{height:4px;padding:0;margin:16px 0;background-color:var(--markdown-styles-hr-color, #e7e7e7);border:0 none;}[slot="markdown-html"] ul,
    [slot="markdown-html"] ol{padding-left:2em;}[slot="markdown-html"] ul.no-list,
    [slot="markdown-html"] ol.no-list{padding:0;list-style-type:none;}[slot="markdown-html"] ul ul,
    [slot="markdown-html"] ul ol,
    [slot="markdown-html"] ol ol,
    [slot="markdown-html"] ol ul{margin-top:0;margin-bottom:0;}[slot="markdown-html"] li>p{margin-top:16px;}[slot="markdown-html"] dl{padding:0;}[slot="markdown-html"] dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold;}[slot="markdown-html"] dl dd{padding:0 16px;margin-bottom:16px;}[slot="markdown-html"] blockquote{padding:0 15px;color:var(--markdown-styles-blockquote-color, #777);border-left:4px solid var(--markdown-styles-blockquote-border-left-color, #ddd);}[slot="markdown-html"] blockquote>:first-child{margin-top:0;}[slot="markdown-html"] blockquote>:last-child{margin-bottom:0;}[slot="markdown-html"] table{@apply --arc-font-body1;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;border-collapse:collapse;}[slot="markdown-html"] table th{font-weight:bold;}[slot="markdown-html"] table th,
    [slot="markdown-html"] table td{padding:6px 13px;border:1px solid var(--markdown-styles-table-header-border-color, #ddd);}[slot="markdown-html"] table tr{background-color:#fff;border-top:1px solid #ccc;}[slot="markdown-html"] table tr:nth-child(2n){background-color:var(--markdown-styles-table-row-background-color, #f8f8f8);}[slot="markdown-html"] img{max-width:100%;box-sizing:content-box;background-color:var(--markdown-styles-image-background-color, #fff);}[slot="markdown-html"] img[align=right]{padding-left:20px;}[slot="markdown-html"] img[align=left]{padding-right:20px;}[slot="markdown-html"] code,
    [slot="markdown-html"] tt{@apply --arc-font-common-code;padding:0;padding-top:0.2em;padding-bottom:0.2em;margin:0;background-color:var(--markdown-styles-code-background-color, rgba(0, 0, 0, 0.04));border-radius:2px;}[slot="markdown-html"] pre{word-wrap:normal;}[slot="markdown-html"] code,
    [slot="markdown-html"] pre{@apply --arc-font-common-code;color:var(--code-color, black);background-color:var(--code-background-color);text-shadow:var(--markdown-styles-code-text-shadow, 0 1px white);text-align:left;word-break:break-all;white-space:pre-wrap;word-spacing:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;@apply --arc-code-styles;}[slot="markdown-html"] pre::-moz-selection,
    [slot="markdown-html"] pre ::-moz-selection,
    [slot="markdown-html"] code::-moz-selection,
    [slot="markdown-html"] code ::-moz-selection{text-shadow:none;background:var(--markdown-styles-code-selection-background-color, #b3d4fc);}[slot="markdown-html"] pre::selection,
    [slot="markdown-html"] pre ::selection,
    [slot="markdown-html"] code::selection,
    [slot="markdown-html"] code ::selection{text-shadow:none;background:var(--markdown-styles-code-selection-background-color, #b3d4fc);}@media print{[slot="markdown-html"] code,
      [slot="markdown-html"] pre{text-shadow:none;}}[slot="markdown-html"] pre{padding:1em;margin:.5em 0;overflow:auto;}[slot="markdown-html"] :not(pre) > code,
    [slot="markdown-html"] pre,
    pre[slot="markdown-html"]{background:var(--code-background-color, #f5f2f0);}[slot="markdown-html"] :not(pre) > code{padding:.1em;border-radius:.3em;white-space:normal;}[slot="markdown-html"] .token.comment,
    [slot="markdown-html"] .token.prolog,
    [slot="markdown-html"] .token.doctype,
    [slot="markdown-html"] .token.cdata{color:var(--markdown-styles-code-cdata-color, slategray);}[slot="markdown-html"] .token.punctuation{color:var(--code-punctuation-value-color, #999);}[slot="markdown-html"] .namespace{opacity:.7;}[slot="markdown-html"] .token.property,
    [slot="markdown-html"] .token.tag,
    [slot="markdown-html"] .token.boolean,
    [slot="markdown-html"] .token.number,
    [slot="markdown-html"] .token.constant,
    [slot="markdown-html"] .token.symbol,
    [slot="markdown-html"] .token.deleted{color:var(--code-type-number-value-color, #905);}[slot="markdown-html"] .token.selector,
    [slot="markdown-html"] .token.attr-name,
    [slot="markdown-html"] .token.string,
    [slot="markdown-html"] .token.char,
    [slot="markdown-html"] .token.builtin,
    [slot="markdown-html"] .token.inserted{color:var(--code-type-text-value-color, #690);}[slot="markdown-html"] .token.operator,
    [slot="markdown-html"] .token.entity,
    [slot="markdown-html"] .token.url,
    [slot="markdown-html"] .language-css .token.string,
    [slot="markdown-html"] .style .token.string{color:var(--code-punctuation-value-color, #a67f59);background:hsla(0, 0%, 100%, .5);}[slot="markdown-html"] .token.atrule,
    [slot="markdown-html"] .token.attr-value,
    [slot="markdown-html"] .token.keyword{color:var(--markdown-styles-code-keyword-color, #07a);}[slot="markdown-html"] .token.function{color:var(--markdown-styles-code-function-color, #DD4A68);}[slot="markdown-html"] .token.regex,
    [slot="markdown-html"] .token.important,
    [slot="markdown-html"] .token.variable{color:var(--markdown-styles-variable-color, #e90);}[slot="markdown-html"] .token.important,
    [slot="markdown-html"] .token.bold{font-weight:bold;}[slot="markdown-html"] .token.italic{font-style:italic;}[slot="markdown-html"] .token.entity{cursor:help;}</style></template></dom-module><script>(function(root){"use strict";var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/,_label:/(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/};block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=edit(block.item,"gm").replace(/bull/g,block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b";block.html=edit(block.html).replace("comment",/\x3c!--[\s\S]*?--\x3e/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,block._tag).getRegex();block.paragraph=edit(block.paragraph).replace("hr",block.hr).replace("heading",block.heading).replace("lheading",block.lheading).replace("tag","<"+block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});block.gfm.paragraph=edit(block.paragraph).replace("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|").getRegex();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,!0)};Lexer.prototype.token=function(src,top){src=src.replace(/^ +$/gm,"");var next,loose,cap,bull,b,item,space,i,tag,l,isordered;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(1<cap[0].length){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];isordered=1<bull.length;this.tokens.push({type:"list_start",ordered:isordered,start:isordered?+bull:""});cap=cap[0].match(this.rules.item);next=!1;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(1<bull.length&&1<b.length)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next="\n"===item.charAt(item.length-1);if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,!1);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});continue}if(top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);if(cap[3])cap[3]=cap[3].substring(1,cap[3].length-1);tag=cap[1].toLowerCase();if(!this.tokens.links[tag]){this.tokens.links[tag]={href:cap[2],title:cap[3]}}continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noop,tag:/^\x3c!--[\s\S]*?--\x3e|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_scheme:/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_email:/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/};inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=edit(inline.link).replace("inside",inline._inside).replace("href",inline._href).getRegex();inline.reflink=edit(inline.reflink).replace("inside",inline._inside).getRegex();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:edit(inline.escape).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",inline._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:edit(inline.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()});inline.breaks=merge({},inline.gfm,{br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("{2,}","*").getRegex()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if("@"===cap[2]){text=escape(this.mangle(cap[1]));href="mailto:"+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){cap[0]=this.rules._backpedal.exec(cap[0])[0];src=src.substring(cap[0].length);if("@"===cap[2]){text=escape(cap[0]);href="mailto:"+text}else{text=escape(cap[0]);if("www."===cap[1]){href="http://"+text}else{href=text}}out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=!0}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=!1}src=src.substring(cap[0].length);out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=!0;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=!1;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=!0;out+=this.outputLink(cap,link);this.inLink=!1;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2].trim(),!0));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.text(escape(this.smartypants(cap[0])));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")};InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(.5<Math.random()){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{}}Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(null!=out&&out!==code){escaped=!0;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"}return"<pre><code class=\""+this.options.langPrefix+escape(lang,!0)+"\">"+(escaped?code:escape(code,!0))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+" id=\""+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+"\">"+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered,start){var type=ordered?"ol":"ul",startatt=ordered&&1!==start?" start=\""+start+"\"":"";return"<"+type+startatt+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td",tag=flags.align?"<"+type+" style=\"text-align:"+flags.align+"\">":"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return text}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:")){return text}}if(this.options.baseUrl&&!originIndependentUrl.test(href)){href=resolveUrl(this.options.baseUrl,href)}var out="<a href=\""+href+"\"";if(title){out+=" title=\""+title+"\""}out+=">"+text+"</a>";return out};Renderer.prototype.image=function(href,title,text){if(this.options.baseUrl&&!originIndependentUrl.test(href)){href=resolveUrl(this.options.baseUrl,href)}var out="<img src=\""+href+"\" alt=\""+text+"\"";if(title){out+=" title=\""+title+"\""}out+=this.options.xhtml?"/>":">";return out};Renderer.prototype.text=function(text){return text};function TextRenderer(){}TextRenderer.prototype.strong=TextRenderer.prototype.em=TextRenderer.prototype.codespan=TextRenderer.prototype.del=TextRenderer.prototype.text=function(text){return text};TextRenderer.prototype.link=TextRenderer.prototype.image=function(href,title,text){return""+text};TextRenderer.prototype.br=function(){return""};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options){var parser=new Parser(options);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options);this.inlineText=new InlineLexer(src.links,merge({},this.options,{renderer:new TextRenderer}));this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while("text"===this.peek().type){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape(this.inlineText.output(this.token.text)))}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,j;cell="";for(i=0;i<this.token.header.length;i++){cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{body="";while("blockquote_end"!==this.next().type){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{body="";var ordered=this.token.ordered,start=this.token.start;while("list_end"!==this.next().type){body+=this.tok()}return this.renderer.list(body,ordered,start)}case"list_item_start":{body="";while("list_item_end"!==this.next().type){body+="text"===this.token.type?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{body="";while("list_item_end"!==this.next().type){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(_,n){var _StringfromCharCode=String.fromCharCode;n=n.toLowerCase();if("colon"===n)return":";if("#"===n.charAt(0)){return"x"===n.charAt(1)?_StringfromCharCode(parseInt(n.substring(2),16)):_StringfromCharCode(+n.substring(1))}return""})}function edit(regex,opt){regex=regex.source;opt=opt||"";return{replace:function(name,val){val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return this},getRegex:function(){return new RegExp(regex,opt)}}}function resolveUrl(base,href){if(!baseUrls[" "+base]){if(/^[^:]+:\/*[^/]*$/.test(base)){baseUrls[" "+base]=base+"/"}else{baseUrls[" "+base]=base.replace(/[^/]*$/,"")}}base=baseUrls[" "+base];if("//"===href.slice(0,2)){return base.replace(/:[\s\S]*/,":")+href}else if("/"===href.charAt(0)){return base.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+href}else{return base+href}}var baseUrls={},originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if("undefined"===typeof src||null===src){throw new Error("marked(): input parameter is undefined or null")}if("string"!==typeof src){throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected")}if(callback||"function"===typeof opt){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||3>highlight.length){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if("code"!==token.type){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(null==code||code===token.text){return--pending||done()}token.text=code;token.escaped=!0;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/markedjs/marked.";if((opt||marked.defaults).silent){return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1,baseUrl:null};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.TextRenderer=TextRenderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if("undefined"!==typeof module&&"object"===typeof exports){module.exports=marked}else if("function"===typeof define&&define.amd){define(function(){return marked})}else{root.marked=marked}})(this||("undefined"!==typeof window?window:global));</script><script>if(!window.marked){window.marked=require("../../marked/lib/marked.js")}</script><dom-module id="marked-element" assetpath="bower_components/marked-element/"><template><style>:host{display:block;}</style><slot name="markdown-html"><div id="content"></div></slot></template></dom-module><script>"use strict";Polymer({is:"marked-element",properties:{markdown:{type:String,value:null},breaks:{type:Boolean,value:!1},pedantic:{type:Boolean,value:!1},renderer:{type:Function,value:null},sanitize:{type:Boolean,value:!1},sanitizer:{type:Function,value:null},disableRemoteSanitization:{type:Boolean,value:!1},smartypants:{type:Boolean,value:!1},callback:{type:Function,value:null},xhr:{type:Object,notify:!0,readOnly:!0}},observers:["render(markdown, breaks, pedantic, renderer, sanitize, sanitizer, smartypants, callback)"],ready:function(){if(this.markdown){return}this._markdownElement=Polymer.dom(this).querySelector("[type=\"text/markdown\"]");if(!this._markdownElement){return}if(this._markdownElement.src){this._request(this._markdownElement.src)}if(""!==this._markdownElement.textContent.trim()){this.markdown=this._unindent(this._markdownElement.textContent)}var observer=new MutationObserver(this._onScriptAttributeChanged.bind(this));observer.observe(this._markdownElement,{attributes:!0})},attached:function(){this._attached=!0;this._outputElement=this.outputElement;this.render()},detached:function(){this._attached=!1},unindent:function(text){return this._unindent(text)},get outputElement(){var child=Polymer.dom(this).queryDistributedElements("[slot=\"markdown-html\"]")[0];return child||this.$.content},render:function(){if(!this._attached){return}if(!this.markdown){Polymer.dom(this._outputElement).innerHTML="";return}var renderer=new marked.Renderer;if(this.renderer){this.renderer(renderer)}var opts={renderer:renderer,highlight:this._highlight.bind(this),breaks:this.breaks,sanitize:this.sanitize,sanitizer:this.sanitizer,pedantic:this.pedantic,smartypants:this.smartypants};Polymer.dom(this._outputElement).innerHTML=marked(this.markdown,opts,this.callback);this.fire("marked-render-complete",{},{composed:!0})},_highlight:function(code,lang){var event=this.fire("syntax-highlight",{code:code,lang:lang},{composed:!0});return event.detail.code||code},_unindent:function(text){if(!text)return text;var lines=text.replace(/\t/g,"  ").split("\n"),indent=lines.reduce(function(prev,line){if(/^\s*$/.test(line))return prev;var lineIndent=line.match(/^(\s*)/)[0].length;if(null===prev)return lineIndent;return lineIndent<prev?lineIndent:prev},null);return lines.map(function(l){return l.substr(indent)}).join("\n")},_request:function(url){this._setXhr(new XMLHttpRequest);var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("error",this._handleError.bind(this));xhr.addEventListener("loadend",function(e){var status=this.xhr.status||0;if(0===status||200<=status&&300>status){this.sanitize=!this.disableRemoteSanitization;this.markdown=e.target.response}else{this._handleError(e)}this.fire("marked-loadend",e)}.bind(this));xhr.open("GET",url);xhr.setRequestHeader("Accept","text/markdown");xhr.send()},_handleError:function(e){var evt=this.fire("marked-request-error",e,{cancelable:!0});if(!evt.defaultPrevented){this.markdown="Failed loading markdown source"}},_onScriptAttributeChanged:function(mutation){if("src"!==mutation[0].attributeName){return}this._request(this._markdownElement.src)}});</script><script>(function(global){"use strict";if(!global.ArcBehaviors){global.ArcBehaviors={}}ArcBehaviors.PropertyDocumentMixin=Polymer.dedupingMixin(base=>{class PDmixin extends base{static get properties(){return{amfModel:Object,shape:Object,range:Object,mediaType:String,noExamplesActions:Boolean,_hasMediaType:{type:Boolean,value:!1,computed:"_computeHasMediaType(mediaType)"}}}_computeRangeDataType(range){if(!range){return}const rs=this.ns.raml.vocabularies.shapes;if(this._hasType(range,rs+"ScalarShape")){const sc=this.ns.w3.xmlSchema,key=this._getAmfKey(this.ns.w3.shacl.name+"datatype"),data=this._ensureArray(range[key]),id=data&&data[0]?data[0]["@id"]:"";switch(id){case this._getAmfKey(sc+"string"):case sc+"string":return"String";case this._getAmfKey(sc+"integer"):case sc+"integer":return"Integer";case this._getAmfKey(sc+"long"):case sc+"long":return"Long";case this._getAmfKey(sc+"float"):case sc+"float":return"Float";case this._getAmfKey(sc+"double"):case sc+"double":return"Double";case this._getAmfKey(rs+"number"):case rs+"number":return"Number";case this._getAmfKey(sc+"boolean"):case sc+"boolean":return"Boolean";case this._getAmfKey(sc+"dateTime"):case sc+"dateTime":return"DateTime";case this._getAmfKey(rs+"dateTimeOnly"):case rs+"dateTimeOnly":return"Time";case this._getAmfKey(sc+"time"):case sc+"time":return"Time";case this._getAmfKey(sc+"date"):case sc+"date":return"Date";case this._getAmfKey(sc+"base64Binary"):case sc+"base64Binary":return"Base64 binary";case this._getAmfKey(rs+"password"):case rs+"password":return"Password";}}if(this._hasType(range,rs+"UnionShape")){return"Union"}if(this._hasType(range,rs+"ArrayShape")){return"Array"}if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return"Object"}if(this._hasType(range,rs+"FileShape")){return"File"}if(this._hasType(range,rs+"NilShape")){return"Null"}if(this._hasType(range,rs+"AnyShape")){return"Any"}if(this._hasType(range,rs+"MatrixShape")){return"Matrix"}if(this._hasType(range,rs+"TupleShape")){return"Tuple"}if(this._hasType(range,rs+"UnionShape")){return"Union"}if(this._hasType(range,rs+"RecursiveShape")){return"Recursive"}return"Unknown type"}_computeRange(shape){if(!shape){return}let data;if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){data=shape}else if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");data=this._ensureArray(shape[key]);data=data&&data.length?data[0]:void 0}else{const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");data=this._ensureArray(shape[key]);data=data&&data.length?data[0]:void 0}return data}_computeArrayProperties(range){if(!range){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");let item=range[key];if(!item){return}if(item instanceof Array){item=item[0]}item=this._resolve(item);if(!item){return}switch(!0){case this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape"):item.isShape=!0;return this._ensureArray(item);case this._hasType(item,this.ns.raml.vocabularies.shapes+"UnionShape"):case this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape"):item.isType=!0;return[item];default:const pkey=this._getAmfKey(this.ns.w3.shacl.name+"property"),items=this._ensureArray(item[pkey]);if(items){items.forEach(item=>item.isShape=!0)}return items;}}_computeIsUnion(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")}_computeIsObject(range){return this._hasType(range,this.ns.w3.shacl.name+"NodeShape")}_computeIsArray(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")}_computeUnionTypes(isUnion,range){if(!isUnion||!range){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(range[key]);if(!list){return}return list.map(item=>{if(item instanceof Array){item=item[0]}item=this._resolve(item);let isScalar=this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape");const isNil=this._hasType(item,this.ns.raml.vocabularies.shapes+"NilShape");if(!isScalar&&isNil){isScalar=!0}let isArray=this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape"),isType=!isScalar&&!isArray,label;if(isArray){label=this._getValue(item,this.ns.w3.shacl.name+"name");if(!label){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");label=this._computeArrayUnionLabel(item[key])}}else if(isNil){label="Null"}else{label=this._getValue(item,this.ns.schema.schemaName);if(!label){label=this._getValue(item,this.ns.w3.shacl.name+"name")}if(!label&&this._hasType(item,this.ns.raml.vocabularies.shapes+"ScalarShape")){label=this._computeRangeDataType(item)}}if(!label){label="Unnamed type"}return{isScalar,isArray,isType,label}})}_computeArrayUnionLabel(items){if(!items){return}if(items instanceof Array){items=items[0]}items=this._resolve(items);if(this._hasType(items,this.ns.raml.vocabularies.shapes+"ScalarShape")){return this._computeRangeDataType(items)}return this._computeDisplayName(items,items)}_computeDisplayName(range,shape){if(!shape||!range){return}let name;if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(range,this.ns.schema.schemaName)}else if(this._hasType(range,this.ns.w3.shacl.name+"NodeShape")){return this._getValue(shape,this.ns.w3.shacl.name+"name")}else{return this._getValue(range,this.ns.schema.schemaName)}if(!name){name=this._getValue(shape,this.ns.w3.shacl.name+"name")}if(name&&"?"===name[name.length-1]){name=name.substr(0,name.length-1)}return name}_computeHasMediaType(mediaType){return!!mediaType}}return PDmixin})})(window);</script><dom-module id="property-range-document" assetpath="bower_components/api-type-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --property-range-document;}[hidden]{display:none !important;}.property-attribute{@apply --layout-horizontal;@apply --layout-start;margin:0;padding:0;color:var(--api-type-document-type-attribute-color, #616161);}.property-attribute:last-of-type{margin-bottom:12px;}.attribute-label{font-weight:500;margin-right:12px;}.attribute-value{@apply --layout-flex;}.attribute-value ul{margin:0;padding-left:18px;}.examples{border:1px var(--api-type-document-examples-border-color, transparent) solid;background-color:var(--code-background-color);}api-annotation-document{margin-bottom:12px;}.examples-section-title{@apply --arc-font-body2;padding:8px;margin:0;color:var(--api-type-document-examples-title-color);}.example-title{@apply --arc-font-body1;font-size:15px;margin:0;padding:0 8px;}</style><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.defaultValueStr)]]"><div class="property-attribute"><span class="attribute-label">Default value:</span> <span class="attribute-value" title="This value is used as a default value">[[_getValue(range, ns.w3.shacl.defaultValueStr)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.pattern)]]"><div class="property-attribute"><span class="attribute-label">Pattern:</span> <span class="attribute-value" title="Regular expression value for this property">[[_getValue(range, ns.w3.shacl.pattern)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minInclusive)]]"><div class="property-attribute"><span class="attribute-label">Min value:</span> <span class="attribute-value" title="Minimum numeric value possible to set on this property">[[_getValue(range, ns.w3.shacl.minInclusive)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxInclusive)]]"><div class="property-attribute"><span class="attribute-label">Max value:</span> <span class="attribute-value" title="Maximum numeric value possible to set on this property">[[_getValue(range, ns.w3.shacl.maxInclusive)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.multipleOf)]]"><div class="property-attribute"><span class="attribute-label">Multiple of:</span> <span class="attribute-value" title="The numeric value has to be multiplicable by this value">[[_getValue(range, ns.w3.shacl.multipleOf)]]</span></div></template><template is="dom-if" if="[[!isFile]]"><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minLength)]]"><div class="property-attribute"><span class="attribute-label">Minimum characters:</span> <span class="attribute-value" title="Minimum number of characters in the value">[[_getValue(range, ns.w3.shacl.minLength)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxLength)]]"><div class="property-attribute"><span class="attribute-label">Maximum characters:</span> <span class="attribute-value" title="Maximum number of characters in the value">[[_getValue(range, ns.w3.shacl.maxLength)]]</span></div></template></template><template is="dom-if" if="[[isFile]]"><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.fileType)]]"><div class="property-attribute"><span class="attribute-label">File types:</span> <span class="attribute-value" title="File mime types accepted by the endpoint">[[_getValueArray(range, ns.w3.shacl.fileType)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.minLength)]]"><div class="property-attribute"><span class="attribute-label">File minimum size:</span> <span class="attribute-value" title="Minimum size of the file accepted by this endpoint">[[_getValue(range, ns.w3.shacl.minLength)]]</span></div></template><template is="dom-if" if="[[_hasProperty(range, ns.w3.shacl.maxLength)]]"><div class="property-attribute"><span class="attribute-label">File maximum size:</span> <span class="attribute-value" title="Maximum size of the file accepted by this endpoint">[[_getValue(range, ns.w3.shacl.maxLength)]]</span></div></template></template><template is="dom-if" if="[[isEnum]]"><div class="property-attribute"><span class="attribute-label">Enum values:</span> <span class="attribute-value" title="List of possible values to use with this property"><ul><template is="dom-repeat" items="[[enumValues]]"><li>[[item]]</li></template></ul></span></div></template><api-annotation-document amf-model="[[amfModel]]" shape="[[range]]"></api-annotation-document><section class="examples" hidden$="[[!_hasExamples]]"><h5 class="examples-section-title">[[_computeExamplesLabel(examples)]]</h5><api-resource-example-document amf-model="[[amfModel]]" examples="[[range]]" rendered-examples="{{examples}}" media-type="[[mediaType]]" type-name="[[propertyName]]" has-examples="{{_hasExamples}}" no-auto="" no-actions="[[noExamplesActions]]" raw-only="[[!_hasMediaType]]"></api-resource-example-document></section></template><script>class PropertyRangeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"property-range-document"}static get properties(){return{propertyName:String,isEnum:{type:Boolean,computed:"_computeIsEnum(range)"},isUnion:{type:Boolean,computed:"_computeIsUnion(range)",reflectToAttribute:!0},isObject:{type:Boolean,computed:"_computeIsObject(range)",reflectToAttribute:!0},isArray:{type:Boolean,computed:"_computeIsArray(range)",reflectToAttribute:!0},isFile:{type:Boolean,computed:"_computeIsFile(range)",value:!1},enumValues:{type:Array,computed:"_computeEnumValues(isEnum, range)"},noExamplesActions:Boolean,_hasExamples:{type:Boolean,value:!1}}}static get observers(){return["_rangeChanged(range)"]}_rangeChanged(){this._hasExamples=!1}_computeIsEnum(range){const key=this._getAmfKey(this.ns.w3.shacl.name+"in");return!!(range&&key in range)}_computeIsUnion(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"UnionShape")}_computeIsObject(range){return this._hasType(range,this.ns.w3.shacl.name+"NodeShape")}_computeIsArray(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"ArrayShape")}_computeIsFile(range){return this._hasType(range,this.ns.raml.vocabularies.shapes+"FileShape")}_computeObjectProperties(range){if(!range){return}const pkey=this._getAmfKey(this.ns.w3.shacl.name+"property");return range[pkey]}_computeEnumValues(isEnum,range){if(!isEnum||!range){return}const ikey=this._getAmfKey(this.ns.w3.shacl.name+"in");let model=range[ikey];if(!model){return}model=this._ensureArray(model);if(!model){return}if(model instanceof Array){model=model[0]}const results=[];Object.keys(model).forEach(key=>{const amfKey=this._getAmfKey("http://www.w3.org/2000/01/rdf-schema#");if(0!==key.indexOf(amfKey)){return}let value=model[key];if(value instanceof Array){value=value[0]}let result=this._getValue(value,this.ns.raml.vocabularies.data+"value");if(result){if(result["@value"]){result=result["@value"]}results.push(result)}});return results}_computeExamplesLabel(examples){return examples&&1===examples.length?"Example":"Examples"}}window.customElements.define(PropertyRangeDocument.is,PropertyRangeDocument);</script></dom-module><dom-module id="property-shape-document" assetpath="bower_components/api-type-document/"><template><style include="markdown-styles"></style><style>:host{display:block;border-bottom:1px var(--property-shape-document-border-bottom-color, #CFD8DC) var(--property-shape-document-border-bottom-style, dashed);@apply --property-shape-document;}:host(:last-of-type){border-bottom:none;}[hidden]{display:none !important;}.property-title{@apply --arc-font-subhead;margin:4px 0 4px 0;font-size:15px;font-weight:var(--api-type-document-property-title-font-weight, 500);word-break:break-word;color:var(--api-type-document-property-title-color);@apply --property-shape-document-title;}.property-title[secondary]{font-weight:var(--api-type-document-property-title-secondary-font-weight, 400);color:var(--api-type-document-property-title-secondary-color, #616161);}.parent-label{color:var(--api-type-document-property-parent-color, #757575);}.property-display-name{font-weight:var(--api-type-document-property-name-font-weight, 500);color:var(--api-type-document-property-name-color, var(--api-type-document-property-color, #212121));margin:4px 0 4px 0;font-size:var(--api-type-document-property-name-font-size, 16px);}.doc-wrapper{transition:background-color 0.4s linear;}:host([is-object]) .doc-wrapper.complex,
    :host([is-union]) .doc-wrapper.complex,
    :host([is-array]) .doc-wrapper.complex{padding-left:var(--api-type-document-child-docs-padding-left, 20px);margin-left:var(--api-type-document-child-docs-margin-left, 4px);margin-top:12px;@apply --api-type-document-property-complex-wrapper;}:host([is-object]) .doc-wrapper{border-left:2px var(--property-shape-document-object-color, #FF9800) solid;padding-left:12px;}:host([is-array]) .doc-wrapper{border-left:2px var(--property-shape-document-array-color, #8BC34A) solid;padding-left:12px;}:host([is-union]) .doc-wrapper{border-left:2px var(--property-shape-document-union-color, #FFEB3B) solid;padding-left:12px;}.property-traits{@apply --layout-horizontal;@apply --layout-wrap;}.property-traits > span{display:inline-block;margin-right:8px;padding:var(--api-type-document-trait-padding, 2px 4px);background-color:var(--api-type-document-trait-background-color, #EEEEEE);color:var(--api-type-document-trait-color, #616161);border-radius:var(--api-type-document-trait-border-radius, 3px);font-size:13px;}.property-traits > span.data-type{background-color:var(--api-type-document-type-background-color, #2196F3);color:var(--api-type-document-type-color, white);padding:var(--api-type-document-trait-data-type-padding, 2px 4px);}:host([narrow]) .property-description{margin:20px 0;}.content-wrapper{@apply --layout-horizontal;}.shape-properties{min-width:var(--api-type-document-property-name-width, 120px);}.shape-docs{@apply --layout-flex;word-break:break-word;overflow:hidden;}.shape-docs .doc-wrapper{border-left:none !important;padding-left:0 !important;}:host([narrow]) .content-wrapper{display:block;-ms-flex-direction:initial;-webkit-flex-direction:initial;flex-direction:initial;}:host([narrow]) .shape-docs{-ms-flex:initial;-webkit-flex:initial;flex:initial;-webkit-flex-basis:initial;flex-basis:initial;}:host([narrow]) .shape-properties{min-width:100%;}:host([narrow]) .shape-properties > *{display:inline-block;vertical-align:middle;margin-right:8px;}</style><template is="dom-if" if="[[hasDisplayName]]"><div class="property-display-name">[[displayName]]</div></template><template is="dom-if" if="[[propertyName]]"><h4 class="property-title" secondary$="[[hasDisplayName]]"><span class="parent-label" hidden$="[[!hasParentTypeName]]">[[parentTypeName]].</span> <span class="property-name">[[propertyName]]</span></h4></template><div class="content-wrapper"><div class="shape-properties"><div class="property-traits"><span class="data-type">[[propertyDataType]]</span><template is="dom-if" if="[[isRequired]]"><span class="required-type" title="This property is required by the API">Required</span></template><template is="dom-if" if="[[isEnum]]"><span class="enym-type" title="This property represent enumerable value">Enum</span></template></div></div><div class="shape-docs"><template is="dom-if" if="[[hasPropertyDescription]]"><div class="property-description"><marked-element markdown="[[propertyDescription]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><div class="doc-wrapper"><div class="doc-content"><property-range-document amf-model="[[amfModel]]" shape="[[shape]]" range="[[range]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]" property-name="[[propertyName]]"></property-range-document></div></div></div></div><template is="dom-if" if="[[isComplex]]"><div class="doc-wrapper complex"><div class="doc-content"><template is="dom-if" if="[[isArray]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="item" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isObject]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="[[displayName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isUnion]]"><api-type-document class="children" amf-model="[[amfModel]]" type="[[_resolve(range)]]" parent-type-name="[[displayName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="" media-type="[[mediaType]]"></api-type-document></template></div></div></template></template><script>class PropertyShapeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"property-shape-document"}static get properties(){return{range:{type:Object,computed:"_computeRange(shape, amfModel.*)"},displayName:{type:String,computed:"_computeDisplayName(range, shape)"},propertyName:{type:String,computed:"_computePropertyName(range, shape)"},hasDisplayName:{type:Boolean,computed:"_computeHasDisplayName(displayName, propertyName)",value:!1},isUnion:{type:Boolean,computed:"_computeIsUnion(range)",reflectToAttribute:!0},isObject:{type:Boolean,computed:"_computeIsObject(range)",reflectToAttribute:!0},isArray:{type:Boolean,computed:"_computeIsArray(range)",reflectToAttribute:!0},isComplex:{type:Boolean,computed:"_computeIsComplex(isUnion, isObject, isArray)"},parentTypeName:String,hasParentTypeName:{value:!1,computed:"_computeHasParentTypeName(parentTypeName)",type:Boolean},propertyDataType:{type:String,computed:"_computeType(range, shape)"},isRequired:{type:Boolean,computed:"_computeIsRequired(shape)"},isEnum:{type:Boolean,computed:"_computeIsEnum(range)"},propertyDescription:{type:String,computed:"_computeDescription(range)"},hasPropertyDescription:{type:Boolean,value:!1,computed:"_computeHasStringValue(propertyDescription)"},narrow:{type:Boolean,reflectToAttribute:!0},noExamplesActions:Boolean}}_computeType(range,shape){let type=range&&this._computeRangeDataType(this._resolve(range));if(!type){type=shape&&this._computeRangeDataType(this._resolve(shape))}return type}_computePropertyName(range,shape){if(!shape&&!range){return}if(shape){shape=this._resolve(shape);if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(shape,this.ns.schema.schemaName)}if(this._hasType(shape,this.ns.w3.shacl.name+"PropertyShape")||this._hasType(shape,this.ns.raml.vocabularies.shapes+"NilShape")||this._hasType(shape,this.ns.raml.vocabularies.shapes+"AnyShape")){return this._getValue(shape,this.ns.w3.shacl.name+"name")}}if(range){range=this._resolve(range);const name=this._getValue(range,this.ns.w3.shacl.name+"name");if("items"===name&&this._hasType(shape,this.ns.raml.vocabularies.shapes+"ScalarShape")){return}return name}}_computeHasDisplayName(displayName,propertyName){return!!displayName&&displayName!==propertyName}_computeHasParentTypeName(parentTypeName){return!!parentTypeName}_computeIsRequired(shape){if(!shape){return!1}shape=this._resolve(shape);if(this._hasType(shape,this.ns.raml.vocabularies.http+"Parameter")){return this._getValue(shape,this.ns.w3.hydra.core+"required")}const data=this._getValue(shape,this.ns.w3.shacl.name+"minCount");return data!==void 0&&0!==data}_computeIsEnum(range){const ikey=this._getAmfKey(this.ns.w3.shacl.name+"in");return!!(range&&ikey in range)}_computeDescription(range){if(!range){return}return this._getValue(range,this.ns.schema.desc)}_computeIsComplex(isUnion,isObject,isArray){return isUnion||isObject||isArray}}window.customElements.define(PropertyShapeDocument.is,PropertyShapeDocument);</script></dom-module><dom-module id="api-type-document" assetpath="bower_components/api-type-document/"><template><style>:host{display:block;@apply --arc-font-body1;@apply --api-type-document;}.union-toggle{outline:none;background-color:var(--api-type-document-union-button-background-color, #fff);color:var(--api-type-document-union-button-color, #000);}.union-toggle[active]{background-color:var(--api-type-document-union-button-active-background-color, #CDDC39);color:var(--api-type-document-union-button-active-color, #000);}.union-type-selector{margin:12px 0;}property-shape-document{padding:12px 0;}property-shape-document:last-of-type,
    :last-of-type{border-bottom:none;}.array-children{box-sizing:border-box;padding-left:12px;border-left:2px var(--property-shape-document-array-color, #8BC34A) solid;}:host([has-parent-type]) .array-children{padding-left:0px;border-left:none;}.inheritance-label{font-size:var(--api-type-document-inheritance-label-font-size, 16px);}paper-button[active]{background-color:var(--api-body-document-media-button-background-color, #CDDC39);}.media-type-selector{margin:20px 0;}.media-toggle{outline:none;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><section class="examples" hidden$="[[!_renderMainExample]]"><h5 class="examples-section-title">Examples</h5><template is="dom-if" if="[[renderMediaSelector]]"><div class="media-type-selector"><span>Media type:</span><template is="dom-repeat" items="[[mediaTypes]]"><paper-button class="media-toggle" active="[[_mediaTypeActive(selectedMediaType, index)]]" on-click="_selectMediaType" title$="Select [[item]] media type">[[item]]</paper-button></template></div></template><api-resource-example-document amf-model="[[amfModel]]" payload-id="[[selectedBodyId]]" examples="[[_resolvedType]]" media-type="[[mediaType]]" type-name="[[parentTypeName]]" has-examples="{{_hasExamples}}" no-auto="[[_computeNoAutoExamples(isScalar)]]" no-actions="[[noExamplesActions]]" raw-only="[[!_hasMediaType]]"></api-resource-example-document></section><template is="dom-if" if="[[isObject]]" restamp=""><template is="dom-repeat" data-object-repeater="" items="[[_computeProperties(_resolvedType)]]"><property-shape-document class="object-document" shape="[[_resolve(item)]]" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template></template><template is="dom-if" if="[[isArray]]" restamp=""><template is="dom-if" if="[[!hasParentType]]"><property-shape-document class="array-document" amf-model="[[amfModel]]" shape="[[_resolve(_resolvedType)]]" parent-type-name="Array test" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><div class="array-children"><template is="dom-repeat" data-array-repeater="" items="[[_computeArrayProperties(_resolvedType)]]"><template is="dom-if" if="[[item.isShape]]" restamp="true"><property-shape-document class="array-document" amf-model="[[amfModel]]" shape="[[_resolve(item)]]" parent-type-name="[[_computeArrayParentName(parentTypeName, item)]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><template is="dom-if" if="[[item.isType]]" restamp="true"><api-type-document class="union-document" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" type="[[item]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template></template></div></template><template is="dom-if" if="[[isScalar]]" restamp=""><property-shape-document class="shape-document" amf-model="[[amfModel]]" shape="[[_resolvedType]]" parent-type-name="[[parentTypeName]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" media-type="[[mediaType]]"></property-shape-document></template><template is="dom-if" if="[[isUnion]]"><div class="union-type-selector"><span>Any of:</span><template is="dom-repeat" data-union-repeater="" items="[[unionTypes]]"><paper-button class="union-toggle" active="[[_unionTypeActive(selectedUnion, index)]]" on-click="_selectUnion" title$="Select [[item.label]] type">[[item.label]]</paper-button></template></div><api-type-document class="union-document" amf-model="[[amfModel]]" parent-type-name="[[parentTypeName]]" type="[[_computeUnionProperty(_resolvedType, selectedUnion)]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template><template is="dom-if" if="[[isAnd]]"><template is="dom-repeat" items="[[andTypes]]"><template is="dom-if" if="[[item.label]]"><p class="inheritance-label">Properties inherited from <b>[[item.label]]</b>.</p></template><template is="dom-if" if="[[!item.label]]"><p class="inheritance-label">Properties defined inline.</p></template><api-type-document class="and-document" amf-model="[[amfModel]]" type="[[item.type]]" narrow="[[narrow]]" no-examples-actions="[[noExamplesActions]]" no-main-example="[[_renderMainExample]]" media-type="[[mediaType]]"></api-type-document></template></template></template><script>class ApiTypeDocument extends ApiElements.AmfHelperMixin(ArcBehaviors.PropertyDocumentMixin(Polymer.Element)){static get is(){return"api-type-document"}static get properties(){return{aware:String,amfModel:Object,type:Object,mediaType:String,mediaTypes:{type:Array,observer:"_mediaTypesChanged"},selectedMediaType:Number,_resolvedType:{type:Object,computed:"_resolve(type)"},parentTypeName:String,hasParentType:{type:Boolean,value:!1,computed:"_computeHasStringValue(parentTypeName)",reflectToAttribute:!0},isScalar:{type:Boolean,readOnly:!0},isArray:{type:Boolean,readOnly:!0},isObject:{type:Boolean,readOnly:!0},isUnion:{type:Boolean,readOnly:!0},isAnd:{type:Boolean,readOnly:!0},unionTypes:{type:Array,observer:"_unionTypesChanged"},andTypes:{type:Array},selectedUnion:{type:Number},narrow:Boolean,noMainExample:Boolean,selectedBodyId:String,_hasExamples:Boolean,_renderMainExample:{type:Boolean,computed:"_computeRenderMainExample(noMainExample, _hasExamples)"}}}static get observers(){return["__typeChanged(_resolvedType, amfModel)"]}_computeRenderMainExample(noMainExample,hasExamples){return!!(!noMainExample&&hasExamples)}__typeChanged(){if(this.__typeChangeDebouncer){return}this.__typeChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__typeChangeDebouncer=!1;this._typeChanged(this._resolvedType)})}_typeChanged(type){if(!type){return}let isScalar=!1,isArray=!1,isObject=!1,isUnion=!1,isAnd=!1;if(type instanceof Array){isObject=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"ScalarShape")||this._hasType(type,this.ns.raml.vocabularies.shapes+"NilShape")){isScalar=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"UnionShape")){isUnion=!0;this.unionTypes=this._computeUnionTypes(!0,type)}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"ArrayShape")){isArray=!0}else if(this._hasType(type,this.ns.w3.shacl.name+"NodeShape")){isObject=!0}else if(this._hasType(type,this.ns.raml.vocabularies.shapes+"AnyShape")){const key=this._getAmfKey(this.ns.w3.shacl.name+"and");if(key in type){isAnd=!0;this.andTypes=this._computeAndTypes(type[key])}else{isScalar=!0}}this._setIsScalar(isScalar);this._setIsArray(isArray);this._setIsObject(isObject);this._setIsUnion(isUnion);this._setIsAnd(isAnd)}_computeArrayParentName(parent){return parent||""}_unionTypesChanged(types){if(!types){return}this.selectedUnion=0}_selectUnion(e){const index=e.model.get("index");if(this.selectedUnion===index){e.target.active=!0}else{this.selectedUnion=index}}_unionTypeActive(selectedUnion,index){return selectedUnion===index}_computeUnionProperty(type,selected){if(!type){return}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),data=type[key];if(!data){return}let item=data[selected];if(!item){return}if(item instanceof Array){item=item[0]}if(this._hasType(item,this.ns.raml.vocabularies.shapes+"ArrayShape")){item=this._resolve(item);const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items"),items=this._ensureArray(item[key]);if(items&&1===items.length){let result=items[0];if(result instanceof Array){result=result[0]}result=this._resolve(result);return result}}if(item instanceof Array){item=item[0]}return this._resolve(item)}_computeProperties(item){if(!item){return}if(item instanceof Array){return item}const key=this._getAmfKey(this.ns.w3.shacl.name+"property");return this._ensureArray(item[key])}_computeAndTypes(items){if(!items||!items.length){return}return items.map(item=>{if(item instanceof Array){item=item[0]}item=this._resolve(item);let label=this._getValue(item,this.ns.schema.schemaName);if(!label){label=this._getValue(item,this.ns.w3.shacl.name+"name")}if(label&&0===label.indexOf("item")){label=void 0}return{label,type:item}})}_computeNoAutoExamples(isScalar){return!!isScalar}_mediaTypesChanged(types){if(!types||!(types instanceof Array)||!types.length){this.renderMediaSelector=!1}else if(1===types.length){this.renderMediaSelector=!1;this.mediaType=types[0]}else{this.renderMediaSelector=!0;this.mediaType=types[0];this.selectedMediaType=0}}_mediaTypeActive(selected,index){return selected===index}_selectMediaType(e){const index=e.model.get("index");if(index!==this.selectedMediaType){this.selectedMediaType=index;this.mediaType=this.mediaTypes[index]}else{e.target.active=!0}}}window.customElements.define(ApiTypeDocument.is,ApiTypeDocument);</script></dom-module><dom-module id="api-parameters-document" assetpath="bower_components/api-parameters-document/"><template><style>:host{display:block;@apply --api-parameters-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-parameters-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;}.toggle-button{outline:none;color:var(--api-parameters-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-parameters-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{outline:none;margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.table-title{@apply --arc-font-title;@apply --api-parameters-document-title;}:host([narrow]) .table-title{@apply --api-parameters-document-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware data-source="api-parameters-document" raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[hasPathParameters]]"><section class="uri-parameters"><div class="section-title-area" on-click="toggleUri" title="Toogle URI parameters details"><h3 class="table-title">URI parameters</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(pathOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(pathOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[pathOpened]]"><api-type-document amf-model="[[amfModel]]" type="[[_effectivePathParameters]]" narrow="[[narrow]]"></api-type-document></iron-collapse></section></template><template is="dom-if" if="[[hasQueryParameters]]"><section class="query-parameters"><div class="section-title-area" on-click="toggleQuery" title="Toogle query parameters details"><h3 class="table-title">Query parameters</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(queryOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(queryOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[queryOpened]]"><api-type-document amf-model="[[amfModel]]" type="[[queryParameters]]" narrow="[[narrow]]"></api-type-document></iron-collapse></section></template></template><script>class ApiParametersDocument extends Polymer.Element{static get is(){return"api-parameters-document"}static get properties(){return{aware:String,amfModel:Object,queryOpened:{type:Boolean,value:!1},pathOpened:{type:Boolean,value:!1},baseUriParameters:Array,endpointParameters:Array,queryParameters:Array,hasQueryParameters:{type:Boolean,readOnly:!0,computed:"_computeHasParameters(queryParameters)"},_effectivePathParameters:{type:Array,readOnly:!0,computed:"_computeEffectivePath(baseUriParameters, endpointParameters)"},hasPathParameters:{type:Boolean,readOnly:!0,computed:"_computeHasParameters(_effectivePathParameters)"},narrow:{type:Boolean,reflectToAttribute:!0}}}_computeHasParameters(params){return!!(params&&params.length)}_computeEffectivePath(base,endpoint){let result=[];if(base&&base.length){result=result.concat(base)}if(endpoint&&endpoint.length){result=result.concat(endpoint)}return result}_computeToggleActionLabel(opened){return opened?"Hide":"Show"}_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}toggleUri(){this.pathOpened=!this.pathOpened}toggleQuery(){this.queryOpened=!this.queryOpened}}window.customElements.define(ApiParametersDocument.is,ApiParametersDocument);</script></dom-module><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},_onDownKey:function(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(event){if(this._isRTL){this._focusNext()}else{this._focusPrevious()}event.detail.keyboardEvent.preventDefault()},_onRightKey:function(event){if(this._isRTL){this._focusPrevious()}else{this._focusNext()}event.detail.keyboardEvent.preventDefault()},_onKeydown:function(event){if(this.keyboardEventMatchesKeys(event,"up down left right esc")){return}this._focusWithKeyboardEvent(event)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><iron-iconset-svg name="paper-tabs" size="24"><svg><defs><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-tab" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout-inline;@apply --layout-center;@apply --layout-center-justified;@apply --layout-flex-auto;position:relative;padding:0 12px;overflow:hidden;cursor:pointer;vertical-align:middle;@apply --paper-font-common-base;@apply --paper-tab;}:host(:focus){outline:none;}:host([link]){padding:0;}.tab-content{height:100%;transform:translateZ(0);-webkit-transform:translateZ(0);transition:opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);@apply --layout-horizontal;@apply --layout-center-center;@apply --layout-flex-auto;@apply --paper-tab-content;}:host(:not(.iron-selected)) > .tab-content{opacity:0.8;@apply --paper-tab-content-unselected;}:host(:focus) .tab-content{opacity:1;font-weight:700;}paper-ripple{color:var(--paper-tab-ink, var(--paper-yellow-a100));}.tab-content > ::slotted(a){@apply --layout-flex-auto;height:100%;}</style><div class="tab-content"><slot></slot></div></template><script>Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var parent=Polymer.dom(this).parentNode;return!!parent&&!!parent.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(event){if(this.link){var anchor=this.queryEffectiveChildren("a");if(!anchor){return}if(event.target===anchor){return}anchor.click()}}});</script></dom-module><dom-module id="paper-tabs" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout;@apply --layout-center;height:48px;font-size:14px;font-weight:500;overflow:hidden;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;@apply --paper-tabs;}:host(:dir(rtl)){@apply --layout-horizontal-reverse;}#tabsContainer{position:relative;height:100%;white-space:nowrap;overflow:hidden;@apply --layout-flex-auto;@apply --paper-tabs-container;}#tabsContent{height:100%;-moz-flex-basis:auto;-ms-flex-basis:auto;flex-basis:auto;@apply --paper-tabs-content;}#tabsContent.scrollable{position:absolute;white-space:nowrap;}#tabsContent:not(.scrollable),
      #tabsContent.scrollable.fit-container{@apply --layout-horizontal;}#tabsContent.scrollable.fit-container{min-width:100%;}#tabsContent.scrollable.fit-container > ::slotted(*){-ms-flex:1 0 auto;-webkit-flex:1 0 auto;flex:1 0 auto;}.hidden{display:none;}.not-visible{opacity:0;cursor:default;}paper-icon-button{width:48px;height:48px;padding:12px;margin:0 4px;}#selectionBar{position:absolute;height:0;bottom:0;left:0;right:0;border-bottom:2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100));-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left center;transform-origin:left center;transition:-webkit-transform;transition:transform;@apply --paper-tabs-selection-bar;}#selectionBar.align-bottom{top:0;bottom:auto;}#selectionBar.expand{transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4, 0.0, 1, 1);}#selectionBar.contract{transition-duration:0.18s;transition-timing-function:cubic-bezier(0.0, 0.0, 0.2, 1);}#tabsContent > ::slotted(:not(#selectionBar)){height:100%;}</style><paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button><div id="tabsContainer" on-track="_scroll" on-down="_down"><div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]"><div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div><slot></slot></div></div><paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button></template><script>Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(noink){var childTabs=Polymer.dom(this).querySelectorAll("paper-tab");childTabs.forEach(noink?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(element){element.setAttribute("noink","")},_removeNoinkAttribute:function(element){element.removeAttribute("noink")},_computeScrollButtonClass:function(hideThisButton,scrollable,hideScrollButtons){if(!scrollable||hideScrollButtons){return"hidden"}if(hideThisButton){return"not-visible"}return""},_computeTabsContentClass:function(scrollable,fitContainer){return scrollable?"scrollable"+(fitContainer?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(noBar,alignBottom){if(noBar){return"hidden"}else if(alignBottom){return"align-bottom"}return""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(event){this._tabChanged(event.detail.item,this._previousTab);this._previousTab=event.detail.item;this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(item,delay){this._pendingActivationItem=item;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,delay)},_delayedActivationHandler:function(){var item=this._pendingActivationItem;this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0;item.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){if(this._pendingActivationTimeout!==void 0){this.cancelAsync(this._pendingActivationTimeout);this._pendingActivationItem=void 0;this._pendingActivationTimeout=void 0}},_onArrowKeyup:function(){if(this.autoselect){this._scheduleActivation(this.focusedItem,this.autoselectDelay)}},_onBlurCapture:function(event){if(event.target===this._pendingActivationItem){this._cancelPendingActivation()}},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(e,detail){if(!this.scrollable){return}var ddx=detail&&-detail.ddx||0;this._affectScroll(ddx)},_down:function(){this.async(function(){if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}},1)},_affectScroll:function(dx){this.$.tabsContainer.scrollLeft+=dx;var scrollLeft=this.$.tabsContainer.scrollLeft;this._leftHidden=0===scrollLeft;this._rightHidden=scrollLeft===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(tab,old){if(!tab){this.$.selectionBar.classList.remove("expand");this.$.selectionBar.classList.remove("contract");this._positionBar(0,0);return}var r=this.$.tabsContent.getBoundingClientRect(),w=r.width,tabRect=tab.getBoundingClientRect(),tabOffsetLeft=tabRect.left-r.left;this._pos={width:this._calcPercent(tabRect.width,w),left:this._calcPercent(tabOffsetLeft,w)};if(this.noSlide||null==old){this.$.selectionBar.classList.remove("expand");this.$.selectionBar.classList.remove("contract");this._positionBar(this._pos.width,this._pos.left);return}var oldRect=old.getBoundingClientRect(),oldIndex=this.items.indexOf(old),index=this.items.indexOf(tab),m=5;this.$.selectionBar.classList.add("expand");var moveRight=oldIndex<index,isRTL=this._isRTL;if(isRTL){moveRight=!moveRight}if(moveRight){this._positionBar(this._calcPercent(tabRect.left+tabRect.width-oldRect.left,w)-m,this._left)}else{this._positionBar(this._calcPercent(oldRect.left+oldRect.width-tabRect.left,w)-m,this._calcPercent(tabOffsetLeft,w)+m)}if(this.scrollable){this._scrollToSelectedIfNeeded(tabRect.width,tabOffsetLeft)}},_scrollToSelectedIfNeeded:function(tabWidth,tabOffsetLeft){var l=tabOffsetLeft-this.$.tabsContainer.scrollLeft;if(0>l){this.$.tabsContainer.scrollLeft+=l}else{l+=tabWidth-this.$.tabsContainer.offsetWidth;if(0<l){this.$.tabsContainer.scrollLeft+=l}}},_calcPercent:function(w,w0){return 100*w/w0},_positionBar:function(width,left){width=width||0;left=left||0;this._width=width;this._left=left;this.transform("translateX("+left+"%) scaleX("+width/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var cl=this.$.selectionBar.classList;if(cl.contains("expand")){cl.remove("expand");cl.add("contract");this._positionBar(this._pos.width,this._pos.left)}else if(cl.contains("contract")){cl.remove("contract")}}});</script></dom-module><dom-module id="iron-pages" assetpath="bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(slot):not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});</script></dom-module><dom-module id="api-schema-render" assetpath="bower_components/api-schema-document/"><template><style include="prism-theme-default"></style><style>:host{display:block;background-color:var(--code-background-color, #f5f2f0);@apply --api-schema-render;}#output{white-space:pre-wrap;@apply --code-block;}</style><code id="output" class="markdown-html"></code></template><script>class ApiSchemaRender extends Polymer.Element{static get is(){return"api-schema-render"}static get properties(){return{code:{type:String,observer:"_codeChanged"},type:{type:String,readOnly:!0,observer:"_typeChanged"}}}_codeChanged(code){if(!code){this.$.output.innerHTML="";return}let isJson=!1;try{JSON.parse(code);isJson=!0}catch(_){}this._setType(isJson?"json":"xml");Polymer.RenderStatus.afterNextRender(this,()=>{this.$.output.innerHTML=this.highlight(code)})}highlight(code){const ev=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code:code,lang:this.type||"xml"}});this.dispatchEvent(ev);return ev.detail.code}_clearTypeAttribute(){const type=this.$.output.dataset.type;if(!type){return}this.$.output.removeAttribute("language-"+type)}_typeChanged(type){this._clearTypeAttribute();if(!type){return}this.$.output.setAttribute("language-"+type,"true");this.$.output.dataset.type=type}}window.customElements.define(ApiSchemaRender.is,ApiSchemaRender);</script></dom-module><dom-module id="api-schema-document" assetpath="bower_components/api-schema-document/"><template><style>:host{display:block;@apply --api-schema-document;}</style><prism-highlighter></prism-highlighter><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[schemaOnly]]"><api-schema-render code="[[_raw]]"></api-schema-render></template><template is="dom-if" if="[[exampleOnly]]"><template is="dom-repeat" items="[[_examples]]"><api-schema-render code="[[_computeExampleValue(item)]]"></api-schema-render></template></template><template is="dom-if" if="[[schemaAndExample]]"><paper-tabs class="schemas" selected="{{selectedPage}}"><paper-tab>Schema</paper-tab><paper-tab>Examples</paper-tab></paper-tabs><iron-pages selected="[[selectedPage]]"><api-schema-render code="[[_raw]]"></api-schema-render><div class="examples"><template is="dom-repeat" items="[[_examples]]"><api-schema-render code="[[_computeExampleValue(item)]]"></api-schema-render></template></div></iron-pages></template></template><script>class ApiSchemaDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-schema-document"}static get properties(){return{aware:String,shape:Object,_raw:String,_examples:Array,exampleOnly:{type:Boolean,readOnly:!0},schemaOnly:{type:Boolean,readOnly:!0},schemaAndExample:{type:Boolean,readOnly:!0},selectedPage:{type:Number,value:0}}}static get observers(){return["_schemaChanged(shape.*)"]}_schemaChanged(record){this._examples=void 0;this._raw=void 0;let schema=record.base,exampleOnly=!1,schemaOnly=!1,schemaAndExample=!1,raw,examples;if(schema){schema=this._resolve(schema);if(this._hasType(schema,this.ns.w3.shacl.name+"SchemaShape")||this._hasType(schema,this.ns.raml.vocabularies.shapes+"AnyShape")||this._hasType(schema,this.ns.raml.vocabularies.shapes+"ScalarShape")||this._hasType(schema,this.ns.w3.shacl.name+"NodeShape")){raw=this._getValue(schema,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(schema,this.ns.w3.shacl.name+"raw")}const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples"),exs=this._ensureArray(schema[key]);examples=this._processExamples(exs)}}exampleOnly=!!(examples&&examples.length&&!raw);schemaOnly=!!(!examples&&raw);schemaAndExample=!!(raw&&examples&&examples.length);this._setExampleOnly(exampleOnly);this._setSchemaOnly(schemaOnly);this._setSchemaAndExample(schemaAndExample);this._examples=examples;this._raw=raw}_processExamples(examples){if(!examples||!examples.length){return}return examples.map(item=>this._resolve(item))}_computeExampleValue(item){item=this._resolve(item);let raw=this._getValue(item,this.ns.raml.vocabularies.document+"raw");if(!raw){raw=this._getValue(item,this.ns.w3.shacl.name+"raw")}return raw}}window.customElements.define(ApiSchemaDocument.is,ApiSchemaDocument);</script></dom-module><dom-module id="api-body-document" assetpath="bower_components/api-body-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-body-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-body-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;@apply --api-body-document-title;}.toggle-button{outline:none;color:var(--api-body-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-body-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.table-title{@apply --arc-font-title;@apply --api-body-document-title;}:host([narrow]) .table-title{@apply --api-body-document-title-narrow;}h4{@apply --arc-font-subhead;}paper-button[active]{background-color:var(--api-body-document-media-button-background-color, #CDDC39);}.media-type-selector{margin:20px 0;}.markdown-body{margin-bottom:28px;margin-top:28px;color:var(--api-body-document-description-color, rgba(0, 0, 0, 0.74));@apply --arc-font-body1;}.markdown-body[data-with-title]{margin-top:0;}.examples{margin-top:12px;border:1px var(--api-body-document-examples-border-color, transparent) solid;}.examples,
    api-schema-document{background-color:var(--code-background-color);}.examples-section-title{@apply --arc-font-body1;font-size:16px;padding:16px 12px;margin:0;color:var(--api-body-document-examples-title-color);}api-resource-example-document,
    api-schema-document{padding:8px;color:var(--api-body-document-code-color);}.media-type-label{font-weight:var(--api-body-document-media-type-label-font-weight, 500);margin-left:8px;}.media-toggle{outline:none;}.any-info,
    .any-info-description{@apply --arc-font-body1;color:var(--api-body-document-description-color, rgba(0, 0, 0, 0.74));}.any-info{font-size:16px;}.body-name{font-weight:500;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="section-title-area" on-click="toggle" title="Toogle body details"><h3 class="table-title">Body</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(opened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[isAnyType]]" restamp=""><template is="dom-if" if="[[hasBodyName]]"><h4 class="body-name">[[bodyName]]</h4></template><template is="dom-if" if="[[hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body" data-with-title$="[[hasTypeName]]"></div></marked-element></template><p class="any-info">Any instance of data is allowed.</p><p class="any-info-description">The API file specifies body for this request but it does not specify the data model.</p><section class="examples" hidden$="[[!_hasAnyExamples]]"><h5 class="examples-section-title">Examples</h5><api-resource-example-document amf-model="[[amfModel]]" examples="[[selectedBody]]" media-type="[[selectedMediaType]]" type-name="[[typeName]]" payload-id="[[selectedBodyId]]" has-examples="{{_hasAnyExamples}}"></api-resource-example-document></section></template><template is="dom-if" if="[[!isAnyType]]"><div class="media-type-selector"><span>Media type:</span><template is="dom-if" if="[[renderMediaSelector]]"><template is="dom-repeat" items="[[mediaTypes]]"><paper-button class="media-toggle" active="[[_mediaTypeActive(selected, index)]]" on-click="_selectMediaType" title$="Select [[item.label]] media type">[[item.label]]</paper-button></template></template><template is="dom-if" if="[[!renderMediaSelector]]"><span class="media-type-label">[[selectedMediaType]]</span></template></div><template is="dom-if" if="[[hasBodyName]]"><h4 class="body-name">[[bodyName]]</h4></template><template is="dom-if" if="[[hasTypeName]]"><h4>[[typeName]]</h4></template><template is="dom-if" if="[[hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body" data-with-title$="[[hasTypeName]]"></div></marked-element></template><template is="dom-if" if="[[isObject]]" restamp=""><api-type-document amf-model="[[amfModel]]" selected-body-id="[[selectedBodyId]]" type="[[selectedSchema]]" narrow="[[narrow]]" media-type="[[selectedMediaType]]"></api-type-document></template><template is="dom-if" if="[[isSchema]]"><api-schema-document amf-model="[[amfModel]]" shape="[[selectedSchema]]"></api-schema-document></template></template></iron-collapse></template><script>class ApiBodyDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-body-document"}static get properties(){return{aware:String,opened:Boolean,body:Array,mediaTypes:{type:Array,readOnly:!0},renderMediaSelector:{type:Boolean,readOnly:!0,value:!1,computed:"_computeRenderMediaSelector(mediaTypes.*)"},selected:Number,selectedBody:{type:Object,computed:"_computeSelectedBody(selected, body)",observer:"_selectedBodyChanged"},selectedBodyId:{type:String,computed:"_computeSelectedId(selectedBody)"},selectedSchema:{type:Object,computed:"_computeSelectedSchema(selectedBody)",observer:"_selectedSchemaChanged"},selectedMediaType:{type:String,readOnly:!0,computed:"_computeSelectedMediaName(selected, body)"},isObject:{type:Boolean,readOnly:!0},isSchema:{type:Boolean,readOnly:!0},isAnyType:{type:Boolean,value:!1,readOnly:!0},typeName:{type:String,computed:"_computeTypeName(selectedSchema)"},hasTypeName:{type:Boolean,computed:"_computeHasStringValue(typeName)"},bodyName:{type:String,computed:"_computeBodyName(selectedSchema)"},hasBodyName:{type:Boolean,computed:"_computeHasStringValue(bodyName)"},description:{type:String,computed:"_computeDescription(selectedSchema)"},hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},narrow:{type:Boolean,reflectToAttribute:!0},_hasObjectExamples:{type:Boolean,value:!1},_hasAnyExamples:{type:Boolean,value:!1}}}static get observers(){return["_bodyChanged(body, amfModel)"]}_bodyChanged(){if(this.__bodyChangedDebounce){return}this.__bodyChangedDebounce=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__bodyChangedDebounce=!1;this.__bodyChanged(this.body)})}__bodyChanged(body){if(!body){return}this.selected=-1;const media=this._computeMediaTypes(this.body);this._setMediaTypes(media);this.selected=0}_selectedBodyChanged(){this._hasObjectExamples=!1;this._hasAnyExamples=!1}_computeMediaTypes(body){const result=[];body.forEach(item=>{const label=this._getValue(item,this.ns.raml.vocabularies.http+"mediaType");if(label){result.push({label})}});return result.length?result:void 0}_computeRenderMediaSelector(record){const body=record&&record.base;return!!(body&&body.length&&1<body.length)}_mediaTypeActive(selected,index){return selected===index}_selectMediaType(e){const index=e.model.get("index");if(index!==this.selected){this.selected=index}else{e.target.active=!0}}_computeSelectedBody(selected,body){if(!body||!selected&&0!==selected){return}return body[selected]}_computeSelectedSchema(selectedBody){if(!selectedBody){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=selectedBody[key];if(!schema){return}if(schema instanceof Array){schema=schema[0]}return this._resolve(schema)}_computeSelectedMediaName(selected,body){if(!body||!selected&&0!==selected){return}const data=body[selected];return this._getValue(data,this.ns.raml.vocabularies.http+"mediaType")}_selectedSchemaChanged(body){if(!body){return}let isObject=!1,isSchema=!1,isAnyType=!1;if(this._hasType(body,this.ns.w3.shacl.name+"NodeShape")||this._hasType(body,this.ns.raml.vocabularies.shapes+"UnionShape")){isObject=!0}else if(this._hasType(body,this.ns.w3.shacl.name+"SchemaShape")||this._hasType(body,this.ns.raml.vocabularies.shapes+"ScalarShape")){isSchema=!0}else if(this._hasType(body,this.ns.raml.vocabularies.shapes+"ArrayShape")){isObject=!0}else if(this._hasType(body,this.ns.raml.vocabularies.shapes+"AnyShape")){isAnyType=!0}this._setIsObject(isObject);this._setIsSchema(isSchema);this._setIsAnyType(isAnyType)}_computeToggleActionLabel(opened){return opened?"Hide":"Show"}_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}toggle(){this.opened=!this.opened}_computeTypeName(body){let value=this._getValue(body,this.ns.w3.shacl.name+"name");if(value&&("schema"===value||0===value.indexOf("amf_inline_type"))){value=void 0}return value}_computeBodyName(schema){return this._getValue(schema,this.ns.schema.schemaName)}_computeSelectedId(selectedBody){return selectedBody&&selectedBody["@id"]}}window.customElements.define(ApiBodyDocument.is,ApiBodyDocument);</script></dom-module><dom-module id="api-headers-document" assetpath="bower_components/api-headers-document/"><template><style>:host{display:block;@apply --api-headers-document;}[hidden]{display:none !important;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-bottom:1px var(--api-headers-document-title-border-color, #e5e5e5) solid;}.section-title-area h3{@apply --layout-flex;}.toggle-button{outline:none;color:var(--api-headers-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-headers-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.headers-title{@apply --arc-font-title;@apply --api-headers-document-title;}.no-info{@apply --no-info-message;}:host([narrow]) .headers-title{@apply --api-headers-document-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="section-title-area" on-click="toggle" title="Toogle headers details"><h3 class="headers-title">Headers</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(opened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[hasHeaders]]"><api-type-document amf-model="[[amfModel]]" type="[[headers]]" narrow="[[narrow]]"></api-type-document></template><template is="dom-if" if="[[!hasHeaders]]"><p class="no-info">Headers are not required by this endpoint</p></template></iron-collapse></template><script>class ApiHeadersDocument extends Polymer.Element{static get is(){return"api-headers-document"}static get properties(){return{aware:String,amfModel:Object,headers:Array,hasHeaders:{type:Boolean,value:!1,computed:"_computeHasHeaders(headers.*)"},opened:Boolean,narrow:{type:Boolean,reflectToAttribute:!0}}}_computeHasHeaders(record){return!!(record.base&&record.base.length)}_computeToggleActionLabel(opened){return opened?"Hide":"Show"}_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}toggle(){this.opened=!this.opened}}window.customElements.define(ApiHeadersDocument.is,ApiHeadersDocument);</script></dom-module><dom-module id="api-responses-document" assetpath="bower_components/api-responses-document/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-responses-document;}marked-element{margin-top:8px;}.no-info{@apply --no-info-message;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><paper-tabs selected="{{selected}}"><template is="dom-repeat" items="[[codes]]"><paper-tab>[[item]]</paper-tab></template></paper-tabs><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[selectedResponse]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[hasPayload]]"><api-body-document amf-model="[[amfModel]]" body="[[payload]]" narrow="[[narrow]]" opened=""></api-body-document></template><template is="dom-if" if="[[noDocs]]"><p class="no-info">No description provided</p></template></template><script>class ApiResponsesDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-responses-document"}static get properties(){return{aware:String,returns:Array,codes:{type:Array,computed:"_computeCodes(returns, amfModel)",observer:"_codesChanged"},selected:Number,selectedResponse:{type:Object,computed:"_computeSelectedResponse(selected, codes, returns)"},description:{type:String,computed:"_computeDescription(selectedResponse)"},hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},payload:{type:Object,computed:"_computePayload(selectedResponse)"},hasPayload:{type:Boolean,computed:"_computeHasArrayValue(payload)"},headers:{type:Object,computed:"_computeHeaders(selectedResponse)"},hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(selectedResponse)"},noDocs:{type:Boolean,computed:"_computeNoDocs(hasCustomProperties, hasHeaders, hasPayload, hasDescription)"},narrow:Boolean}}_computeCodes(returns){if(!returns||!returns.length){return}const codes=[];returns.forEach(item=>{const value=this._getValue(item,this.ns.w3.hydra.core+"statusCode");if(value){codes.push(value)}});codes.sort();return codes}_computeSelectedResponse(selected,codes,returns){if(!returns||!codes||!selected&&0!==selected){return}const status=codes[selected];return returns.find(item=>this._statusMatches(item,status))}_statusMatches(item,status){if(!item){return!1}const value=this._getValue(item,this.ns.w3.hydra.core+"statusCode");return value===status}_codesChanged(codes){if(codes&&codes.length){this.selected=0}}_computeNoDocs(hasCustomProperties,hasHeaders,hasPayload,hasDescription){return!(hasCustomProperties||hasHeaders||hasPayload||hasDescription)}}window.customElements.define(ApiResponsesDocument.is,ApiResponsesDocument);</script></dom-module><script>!function(t){t.languages.http={"request-line":{pattern:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\s(?:https?:\/\/|\/)\S+\sHTTP\/[0-9.]+/m,inside:{property:/^(?:POST|GET|PUT|DELETE|OPTIONS|PATCH|TRACE|CONNECT)\b/,"attr-name":/:\w+/}},"response-status":{pattern:/^HTTP\/1.[01] \d+.*/m,inside:{property:{pattern:/(^HTTP\/1.[01] )\d+.*/i,lookbehind:!0}}},"header-name":{pattern:/^[\w-]+:(?=.)/m,alias:"keyword"}};var a,e,n,i=t.languages,s={"application/javascript":i.javascript,"application/json":i.json||i.javascript,"application/xml":i.xml,"text/xml":i.xml,"text/html":i.html,"text/css":i.css},p={"application/json":!0,"application/xml":!0};for(var r in s)if(s[r]){a=a||{};var T=p[r]?(n=(e=r).replace(/^[a-z]+\//,""),"(?:"+e+"|\\w+/(?:[\\w.-]+\\+)+"+n+"(?![+\\w.-]))"):r;a[r]={pattern:RegExp("(content-type:\\s*"+T+"[\\s\\S]*?)(?:\\r?\\n|\\r){2}[\\s\\S]*","i"),lookbehind:!0,inside:{rest:s[r]}}}a&&t.languages.insertBefore("http","header-name",a)}(Prism);</script><dom-module id="http-code-snippets-style" assetpath="bower_components/http-code-snippets/"><template><style>:host{display:block;position:relative;width:100%;}.code{display:block;position:relative;white-space:pre-wrap;word-break:break-all;padding-top:20px;@apply --http-code-snippet-container;@apply --http-code-snippet-container-highlighted;}.copy-button,
    paper-icon-button{position:absolute;top:0px;right:0px;z-index:1;}.copy-button{text-transform:uppercase;border:none;cursor:pointer;background:#e0e0e0;}.label{font-weight:500;}.value{margin-left:8px;}.line{@apply --http-code-snippet-line;}.line.indent{margin-left:var(--http-code-snippet-indent, 12px);}.line.indent-2{margin-left:var(--http-code-snippet-indent-2, 24px);}.copy-button{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;}code[class*="language-"],
    pre[class*="language-"]{@apply --arc-font-common-code;color:var(--code-color, black);text-shadow:0 1px white;text-shadow:var(--http-code-snippet-code-text-shadow, 0 1px white);font-family:Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;text-align:left;word-spacing:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*="language-"]::-moz-selection,
    pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"] ::-moz-selection{text-shadow:none;background:var(--http-code-snippet-code-selection-background-color, #b3d4fc);}pre[class*="language-"]::selection,
    pre[class*="language-"] ::selection,
    code[class*="language-"]::selection,
    code[class*="language-"] ::selection{text-shadow:none;background:var(--http-code-snippet-code-selection-background-color, #b3d4fc);}@media print{code[class*="language-"],
      pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:var(--http-code-snippet-code-cdata-color, slategray);}.token.punctuation{color:var(--code-punctuation-value-color, #999);}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.boolean,
    .token.number,
    .token.constant,
    .token.symbol,
    .token.deleted{color:var(--code-type-number-value-color, #905);}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:var(--code-type-text-value-color, #690);}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:var(--code-punctuation-value-color, #a67f59);background:transparent !important;}.token.atrule,
    .token.attr-value,
    .token.keyword{color:var(--http-code-snippet-code-keyword-color, #07a);}.token.function{color:var(--http-code-snippet-code-function-color, #DD4A68);}.token.regex,
    .token.important,
    .token.variable{color:var(--http-code-snippet-variable-color, #e90);}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="base-code-snippet" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style include="http-code-snippets-style"></style><button class="copy-button" title="Copy to clipboard" on-click="_copyToClipboard">Copy</button> <code class="code language-snippet"></code></template><script>const URI_CACHE={};class BaseCodeSnippet extends Polymer.Element{static get is(){return"base-code-snippet"}static get properties(){return{url:String,method:String,headers:Array,payload:String}}static get observers(){return["_valuesChanged(url, method, headers, payload)"]}get _code(){return this.shadowRoot.querySelector("code")}connectedCallback(){super.connectedCallback();if(!this.__valuesDebouncer){this._valuesChanged(this.url,this.method,this.headers,this.payload)}}disconnectedCallback(){super.disconnectedCallback();this._clearValueTimeout()}_clearValueTimeout(){if(this.__valuesDebouncer){clearTimeout(this.__valuesDebouncer);this.__valuesDebouncer=void 0}}_valuesChanged(url,method,headers,payload){this._clearValueTimeout();this.__valuesDebouncer=setTimeout(()=>{this.__valuesDebouncer=void 0;this._processCommand(url,method,headers,payload)},25)}_processCommand(url,method,headers,payload){let code=this._computeCommand(url,method,headers,payload);if(!code){code=""}else{code=this._highlight(code,this.lang)}this._code.innerHTML=code}_computeCommand(){}_highlight(code,lang){const e=new CustomEvent("syntax-highlight",{bubbles:!0,cancelable:!0,composed:!0,detail:{code,lang}});this.dispatchEvent(e);return e.detail.code}urlDetails(url){if(URI_CACHE[url]){return URI_CACHE[url]}url=url||this.url;const result={path:"",port:"",hostValue:""};if(!url){return result}let uri;try{uri=new URL(url)}catch(e){if("/"===url[0]){result.path=url;result.post=80}return result}let host=uri.hostname;if(host){host=decodeURIComponent(host)}let port=uri.port;if(!port){if("https:"===uri.protocol){port=443}else{port=80}}result.port=port;result.hostValue=host;const query=uri.search;let path=uri.pathname;if(!path){path="/"}else{path=decodeURIComponent(path)}if(query){path+=query}result.path=path;URI_CACHE[url]=result;return result}_copyToClipboard(){let code=this._code;if(!code){return}if(this._beforeCopy(code.innerText)){return}const snipRange=document.createRange();snipRange.selectNodeContents(code);const selection=window.getSelection();selection.removeAllRanges();selection.addRange(snipRange);try{document.execCommand("copy")}catch(err){console.warn("Copy error",err)}selection.removeAllRanges()}_beforeCopy(value){const ev=new CustomEvent("content-copy",{detail:{value},bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(ev);return ev.defaultPrevented}}window.customElements.define(BaseCodeSnippet.is,BaseCodeSnippet);</script></dom-module><dom-module id="raw-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class RawHttpSnippet extends BaseCodeSnippet{static get is(){return"raw-http-snippet"}get lang(){return"http"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}const urlData=this.urlDetails(url);let result=`${method} ${urlData.path} HTTP/1.1\n`;if(urlData.hostValue){result+=`Host: ${urlData.hostValue}:${urlData.port}\n`}if(headers&&headers instanceof Array){for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`${h.name}: ${h.value}\n`}}if(payload){result+="\n";result+=payload;result+="\n\n"}return result}}window.customElements.define(RawHttpSnippet.is,RawHttpSnippet);</script></dom-module><script>!function(e){var a={variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[\w#?*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)["']?(\w+?)["']?\s*\r?\n(?:[\s\S])*?\r?\n\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,greedy:!0,inside:a}],variable:a.variable,function:{pattern:/(^|[\s;|&])(?:add|alias|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|hash|head|help|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logout|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tail|tar|tee|test|time|timeout|times|top|touch|tr|traceroute|trap|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zip|zypper)(?=$|[\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&])(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|[\s;|&])/,lookbehind:!0},boolean:{pattern:/(^|[\s;|&])(?:true|false)(?=$|[\s;|&])/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var t=a.variable[1].inside;t.string=e.languages.bash.string,t.function=e.languages.bash.function,t.keyword=e.languages.bash.keyword,t.boolean=e.languages.bash.boolean,t.operator=e.languages.bash.operator,t.punctuation=e.languages.bash.punctuation,e.languages.shell=e.languages.bash}(Prism);</script><dom-module id="curl-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class CurlHttpSnippet extends BaseCodeSnippet{static get is(){return"curl-http-snippet"}get lang(){return"bash"}_computeCommand(url,method,headers,payload){url=url||"";method=method||"GET";let result=`curl "${url}" \\\n`;if("GET"!==method){result+=`\t-X ${method} \\\n`}if(payload){let quot="";try{payload=JSON.stringify(payload)}catch(_){quot="\""}result+=`\t-d ${quot}${payload}${quot} \\\n`}if(headers&&headers instanceof Array){for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`\t-H "${h.name}: ${h.value}" `;if(i+1!==len){result+="\\\n"}}}if("\\\n"===result.substr(-2)){result=result.substr(0,result.length-3)}return result}}window.customElements.define(CurlHttpSnippet.is,CurlHttpSnippet);</script></dom-module><dom-module id="xhr-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class XhrHttpSnippet extends BaseCodeSnippet{static get is(){return"xhr-http-snippet"}get lang(){return"javascript"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}const hasHeaders=!!(headers&&headers instanceof Array&&headers.length);let result="var xhr = new XMLHttpRequest();\n";result+="xhr.addEventListener('load', function(e) {\n";result+="  var response = e.target.responseText;\n";result+="  console.log(response);\n";result+="});\n";result+="xhr.addEventListener('error', function(e) {\n";result+="  console.error('Request errored with status', e.target.status);\n";result+="});\n";result+=`xhr.open('${method}', '${url}');\n`;if(hasHeaders){headers.forEach(h=>{result+=`xhr.setRequestHeader('${h.name}','${h.value}');\n`})}if(!!payload){result+="var body = '';\n";const re=/'/g;payload.split("\n").forEach(line=>{result+="body += '"+line.replace(re,"\\'")+"\\n';\n"});result+="xhr.send(body);\n"}else{result+="xhr.send();\n"}return result}}window.customElements.define(XhrHttpSnippet.is,XhrHttpSnippet);</script></dom-module><dom-module id="fetch-js-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class FetchJsHttpSnippet extends BaseCodeSnippet{static get is(){return"fetch-js-http-snippet"}get lang(){return"javascript"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload,hasInit=hasHeaders||hasPayload||!!(method&&"GET"!==method);let result="";if(hasInit){if(hasHeaders){result+=this._createHeaders(headers)}if(hasPayload){result+=this._createPayload(payload)}result+="const init = {\n";result+=`\tmethod: '${method}'`;if(hasHeaders){result+=`,\n\theaders`}if(hasPayload){result+=`,\n\tbody`}result+="\n";result+="}\n\n"}result+=`fetch('${url}'`;if(hasInit){result+=", init"}result+=")\n";result+=".then((response) => {\n";result+="\treturn response.text(); // or .json() or .blob() ...\n";result+="})\n";result+=".then((text) => {\n";result+="\t// text is the response body\n";result+="})\n";result+=".catch((e) => {\n";result+="\t// error in e.message\n";result+="});\n";return result}_createHeaders(headers){let result="const headers = new Headers();\n";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`headers.append('${h.name}', '${h.value}');\n`}result+="\n";return result}_createPayload(payload){return`const body = \`${payload}\`;\n\n`}}window.customElements.define(FetchJsHttpSnippet.is,FetchJsHttpSnippet);</script></dom-module><dom-module id="node-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class NodeHttpSnippet extends BaseCodeSnippet{static get is(){return"node-http-snippet"}get lang(){return"javascript"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="const http = require('http');\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasPayload){result+=this._createPayload(payload)}result+="\n";const data=this.urlDetails(url);result+="const init = {\n";result+=`  host: '${data.hostValue}'\n`;result+=`  path: '${data.path}'\n`;result+=`  port: ${data.port}\n`;result+=`  method: '${method}'\n`;if(hasHeaders){result+="  headers: {\n";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`    '${h.name}': '${h.value}'`;if(i+1!==len){result+=","}result+="\n"}result+="  }\n"}result+="};\n";result+="const callback = function(response) {\n";result+="  let str = '';\n";result+="  response.on('data', function(chunk) {\n";result+="    str += chunk;\n";result+="  });\n";result+="  \n";result+="  response.on('end', function() {\n";result+="    // str has response body\n";result+="    console.log(str);\n";result+="  });\n";result+="};\n";result+="\n";result+="const req = http.request(init, callback);\n";if(hasPayload){result+="req.write(body);\n"}result+="req.end();\n";return result}_createPayload(payload){return`\nconst body = \`${payload}\`;\n`}}window.customElements.define(NodeHttpSnippet.is,NodeHttpSnippet);</script></dom-module><dom-module id="javascript-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Fetch</paper-tab><paper-tab>Node</paper-tab><paper-tab>XHR</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><fetch-js-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></fetch-js-http-snippet><node-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></node-http-snippet><xhr-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></xhr-http-snippet></iron-pages></template><script>class JavascriptHttpSnippets extends Polymer.Element{static get is(){return"javascript-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},url:String,method:String,headers:Array,payload:String}}}window.customElements.define(JavascriptHttpSnippets.is,JavascriptHttpSnippets);</script></dom-module><script>Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/i,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python;</script><dom-module id="requests-python-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class RequestsPythonHttpSnippet extends BaseCodeSnippet{static get is(){return"requests-python-http-snippet"}get lang(){return"python"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import requests\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;result+=`url = '${url}'\n`;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(method,hasPayload,hasHeaders);result+=this._getFooter();return result}_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}_getConnection(method,hasPayload,hasHeaders){const lowerMethod=(method+"").toLowerCase();let result=`req = requests.${lowerMethod}(url`;if(hasHeaders){result+=", headers=headers"}if(hasPayload){result+=", data=body"}result+=")\n\n";return result}_getFooter(){let result="print(req.status_code)\n";result+="print(req.headers)\n";result+="print(req.text)";return result}}window.customElements.define(RequestsPythonHttpSnippet.is,RequestsPythonHttpSnippet);</script></dom-module><dom-module id="python-27-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class Python27HttpSnippet extends BaseCodeSnippet{static get is(){return"python-27-http-snippet"}get lang(){return"python"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import httplib\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(url,method,hasPayload,hasHeaders);result+=this._getFooter();return result}_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}_getConnection(url,method,hasPayload,hasHeaders){const data=this.urlDetails(url);let clazz="HTTP";if(443===data.port||"443"===data.port){clazz+="S"}let result=`conn = httplib.${clazz}Connection('${data.hostValue}')\n`;result+=`conn.request('${method}','${data.path}'`;if(hasPayload){result+=", body"}if(hasHeaders){result+=", headers"}result+=")\n";return result}_getFooter(){let result="res = conn.getresponse()\n";result+="\n";result+="print(res.status, res.reason)\n";result+="print(res.read())\n";result+="print(res.getheaders())";return result}}window.customElements.define(Python27HttpSnippet.is,Python27HttpSnippet);</script></dom-module><dom-module id="python-31-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class Python31HttpSnippet extends BaseCodeSnippet{static get is(){return"python-31-http-snippet"}get lang(){return"python"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result="import http.client\n\n";const hasHeaders=!!(headers&&headers instanceof Array&&headers.length),hasPayload=!!payload;if(hasHeaders){result+=this._getHeaders(headers);if(!hasPayload){result+="\n"}}if(hasPayload){result+=this._getPayload(payload)}result+=this._getConnection(url,method,hasPayload,hasHeaders);result+=this._getFooter();return result}_getHeaders(headers){let result="headers = {";for(let i=0,len=headers.length;i<len;i++){const h=headers[i];result+=`'${h.name}': '${h.value}'`;if(i+1!==len){result+=","}}result+="}\n";return result}_getPayload(payload){let result="body = \"\"\"";result+=payload;result+="\"\"\"\n\n";return result}_getConnection(url,method,hasPayload,hasHeaders){const data=this.urlDetails(url);let clazz="HTTP";if(443===data.port||"443"===data.port){clazz+="S"}let result=`conn = http.client.${clazz}Connection('${data.hostValue}')\n`;result+=`conn.request('${method}','${data.path}'`;if(hasPayload){result+=", body"}if(hasHeaders){result+=", headers"}result+=")\n";return result}_getFooter(){let result="res = conn.getresponse()\n";result+="\n";result+="data = res.read()\n";result+="print(res.status, res.reason)\n";result+="print(data.decode('utf-8'))\n";result+="print(res.getheaders())";return result}}window.customElements.define(Python31HttpSnippet.is,Python31HttpSnippet);</script></dom-module><dom-module id="python-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Requests</paper-tab><paper-tab>Python 2.7</paper-tab><paper-tab>Python 3.1</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><requests-python-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></requests-python-http-snippet><python-27-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></python-27-http-snippet><python-31-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></python-31-http-snippet></iron-pages></template><script>class PythonHttpSnippets extends Polymer.Element{static get is(){return"python-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},url:String,method:String,headers:Array,payload:String}}}window.customElements.define(PythonHttpSnippets.is,PythonHttpSnippets);</script></dom-module><dom-module id="c-curl-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class CcurlHttpSnippet extends BaseCodeSnippet{static get is(){return"c-curl-http-snippet"}get lang(){return"clike"}get _codeHeaders(){return"#include <stdio.h>\n#include <curl/curl.h>\n\n"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result=this._codeHeaders;result+="int main(void)\n{\n";result+="\tCURL *curl;\n\tCURLcode res;\n\n";result+="\tcurl = curl_easy_init();\n";result+=`\tcurl_easy_setopt(curl, CURLOPT_URL, "${url}");\n`;result+=`\tcurl_easy_setopt(curl, CURLOPT_CUSTOMREQUEST, "${method}");\n`;result+="\t/* if redirected, tell libcurl to follow redirection */\n";result+="\tcurl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);\n\n";if(headers&&headers instanceof Array){result+="\tstruct curl_slist *headers = NULL;\n";headers.forEach(h=>{result+=`\theaders = curl_slist_append(headers, "${h.name}: ${h.value}");\n`});result+="\tcurl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);\n"}if(payload){result+="\n";payload=payload+"";const re=/"/g;result+="\tchar *body =\"";payload.split("\n").map(function(line){result+=line.replace(re,"\\\"")});result+="\";\n";result+="\tcurl_easy_setopt(curl, CURLOPT_POSTFIELDS, body);\n"}result+="\n\t/* Perform the request, res will get the return code */\n";result+="\tres = curl_easy_perform(curl);\n";result+="\tif (res != CURLE_OK) {\n";result+="\t\tfprintf(stderr, \"curl_easy_perform() failed: %s\\n\"";result+=", curl_easy_strerror(res));\n";result+="\t}\n";result+="\t/* Clean up after yourself */\n";result+="\tcurl_easy_cleanup(curl);\n";result+="\treturn 0;\n";result+="}\n";result+="/* See: http://stackoverflow.com/a/2329792/1127848 of how ";result+="to read data from the response. */";return result}}window.customElements.define(CcurlHttpSnippet.is,CcurlHttpSnippet);</script></dom-module><script>!function(e){var t=/\b(?:abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while|var|null|exports|module|open|opens|provides|requires|to|transitive|uses|with)\b/,a=/\b[A-Z](?:\w*[a-z]\w*)?\b/;e.languages.java=e.languages.extend("clike",{"class-name":[a,/\b[A-Z]\w*(?=\s+\w+\s*[;,=())])/],keyword:t,function:[e.languages.clike.function,{pattern:/(\:\:)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x[\da-f_]*\.?[\da-f_p+-]+\b|(?:\b\d[\d_]*\.?[\d_]*|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|([-+&|])\2|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","class-name",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0},namespace:{pattern:/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)[a-z]\w*(\.[a-z]\w*)+/,lookbehind:!0,inside:{punctuation:/\./}},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism);</script><dom-module id="java-platform-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class JavaPlatformHttpSnippet extends BaseCodeSnippet{static get is(){return"java-platform-http-snippet"}get lang(){return"java"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}url=url+"";let result=`URL url = new URL("${url}");\n`,clazz="Http";if(0===url.indexOf("https")){clazz+="s"}clazz+="URLConnection";result+=`${clazz} con = (${clazz}) url.openConnection();\n`;result+=`con.setRequestMethod("${method}");\n`;if(headers&&headers.length){headers.forEach(h=>{result+=`con.setRequestProperty("${h.name}", "${h.value}");\n`})}if(payload){result+="\n/* Payload support */\n";result+="con.setDoOutput(true);\n";result+="DataOutputStream out = new DataOutputStream(con.getOutputStream());\n";const list=this._payloadToList(payload);list.forEach(line=>{result+=`out.writeBytes("${line}\\n");\n`});result+="out.flush();\n";result+="out.close();\n"}result+="\n";result+="int status = con.getResponseCode();\n";result+="BufferedReader in = new BufferedReader(";result+="new InputStreamReader(con.getInputStream()));\n";result+="String inputLine;\n";result+="StringBuffer content = new StringBuffer();\n";result+="while((inputLine = in.readLine()) != null) {\n";result+="\tcontent.append(inputLine);\n";result+="}\n";result+="in.close();\n";result+="con.disconnect();\n";result+="System.out.println(\"Response status: \" + status);\n";result+="System.out.println(content.toString());";return result}_payloadToList(payload){return payload.split("\n").map(item=>item.replace(/"/g,"\\\""))}}window.customElements.define(JavaPlatformHttpSnippet.is,JavaPlatformHttpSnippet);</script></dom-module><dom-module id="java-spring-http-snippet" assetpath="bower_components/http-code-snippets/"><script>class JavaSpringHttpSnippet extends BaseCodeSnippet{static get is(){return"java-spring-http-snippet"}get lang(){return"java"}_computeCommand(url,method,headers,payload){if(!url||!method){return""}let result=`RestTemplate rest = new RestTemplate();\n`;result+="HttpHeaders headers = new HttpHeaders();\n";if(headers&&headers.length){headers.forEach(h=>{result+=`headers.add("${h.name}", "${h.value}");\n`})}if(payload){result+="\nStringBuilder sb = new StringBuilder();\n";const list=this._payloadToList(payload);list.forEach(line=>{result+=`sb.append("${line}\\n");\n`});result+="String body = sb.toString();\n"}else{result+="String body = \"\";\n"}result+="\n";result+="HttpEntity<String> requestEntity = new HttpEntity<String>(body, headers);\n";result+="ResponseEntity<String> responseEntity = rest.exchange(";result+=`"${url}", HttpMethod.${method}, requestEntity, String.class);\n`;result+="int status = responseEntity.getStatusCode();\n";result+="String response = responseEntity.getBody();\n";result+="System.out.println(\"Response status: \" + status);\n";result+="System.out.println(response);";return result}_payloadToList(payload){return payload.split("\n").map(item=>item.replace(/"/g,"\\\""))}}window.customElements.define(JavaSpringHttpSnippet.is,JavaSpringHttpSnippet);</script></dom-module><dom-module id="java-http-snippets" assetpath="bower_components/http-code-snippets/"><template strip-whitespace=""><style>:host{display:block;}</style><paper-tabs selected="{{selectedFramework}}"><paper-tab>Platform</paper-tab><paper-tab>Spring</paper-tab></paper-tabs><iron-pages selected="[[selectedFramework]]"><java-platform-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></java-platform-http-snippet><java-spring-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headers]]"></java-spring-http-snippet></iron-pages></template><script>class JavatHttpSnippets extends Polymer.Element{static get is(){return"java-http-snippets"}static get properties(){return{selectedFramework:{type:Number,value:0},url:String,method:String,headers:Array,payload:String}}}window.customElements.define(JavatHttpSnippets.is,JavatHttpSnippets);</script></dom-module><dom-module id="http-code-snippets" assetpath="bower_components/http-code-snippets/"><template><style>:host{display:block;@apply --http-code-snippets;}</style><prism-highlighter></prism-highlighter><paper-tabs selected="{{selectedPlatform}}" scrollable="[[scrollable]]" fit-container=""><paper-tab>cURL</paper-tab><paper-tab>HTTP</paper-tab><paper-tab>JavaScript</paper-tab><paper-tab>Python</paper-tab><paper-tab>C</paper-tab><paper-tab>Java</paper-tab></paper-tabs><div class="container"></div></template><script>class HttpCodeSnippets extends Polymer.Element{static get is(){return"http-code-snippets"}static get properties(){return{selectedPlatform:{type:Number,value:0,observer:"_selectedChanged"},_headersList:{type:Array,computed:"headersToList(headers)",observer:"_headersChanged"},scrollable:Boolean,url:{type:String,observer:"_urlChanged"},method:{type:String,observer:"_methodChanged"},headers:String,payload:{type:String,observer:"_payloadChanged"}}}disconnectedCallback(){super.disconnectedCallback();this._panel=void 0}get _container(){return this.shadowRoot&&this.shadowRoot.querySelector(".container")}_selectedChanged(selection){this._removeCurrentSnippet();let name;switch(selection){case 0:name="curl-http-snippet";break;case 1:name="raw-http-snippet";break;case 2:name="javascript-http-snippets";break;case 3:name="python-http-snippets";break;case 4:name="c-curl-http-snippet";break;case 5:name="java-http-snippets";break;}if(!name){return}const panel=document.createElement(name);this._panel=panel;this._container.appendChild(panel);this._urlChanged(this.url);this._methodChanged(this.method);this._payloadChanged(this.payload);this._headersChanged(this._headersList)}_propertyChanged(property,value){if(!this._panel){return}this._panel[property]=value}_urlChanged(value){this._propertyChanged("url",value)}_methodChanged(value){this._propertyChanged("method",value)}_payloadChanged(value){this._propertyChanged("payload",value)}_headersChanged(value){this._propertyChanged("headers",value)}_removeCurrentSnippet(){const c=this._container;if(!c){return}const cn=c.childNodes;for(let i=cn.length-1;0<=i;i--){const child=cn[i];if(!child){continue}child.parentNode.removeChild(child)}this._panel=void 0}headersToList(headers){headers=headers||this.headers;if(!headers||!headers.trim()||"string"!==typeof headers){return[]}const result=[];headers=headers.split(/\n(?=[^ \t]+)/gim);for(let i=0,len=headers.length;i<len;i++){const line=headers[i].trim();if(""===line){continue}const sepPosition=line.indexOf(":");if(-1===sepPosition){result[result.length]={name:line,value:""};continue}const name=line.substr(0,sepPosition),value=line.substr(sepPosition+1).trim();result.push({name:name,value:value})}return result}}window.customElements.define(HttpCodeSnippets.is,HttpCodeSnippets);</script></dom-module><dom-module id="api-oauth2-settings-document" assetpath="bower_components/api-security-documentation/"><template><style>:host{display:block;@apply --api-oauth2-settings-document;}h4{@apply --arc-font-subhead;}ul{maring:0;padding:0;}.settings-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;margin:.5em 0;}.settings-list-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;}</style><template is="dom-if" if="[[hasAccessTokenUri]]"><h4 data-type="access-token-uri">Access token URI</h4><code class="settings-value">[[accessTokenUri]]</code></template><template is="dom-if" if="[[hasAuthorizationUri]]"><h4 data-type="authorization-uri">Authorization URI</h4><code class="settings-value">[[authorizationUri]]</code></template><template is="dom-if" if="[[hasAuthorizationGrants]]"><h4 data-type="authorization-grants">Authorization grants</h4><ul><template is="dom-repeat" items="[[authorizationGrants]]"><li class="settings-list-value">[[item]]</li></template></ul></template><template is="dom-if" if="[[hasScopes]]"><h4 data-type="authorization-scopes">Authorization scopes</h4><ul><template is="dom-repeat" items="[[scopes]]"><li class="settings-list-value">[[item.label]]</li></template></ul></template></template><script>class ApiOauth2SettingsDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-oauth2-settings-document"}static get properties(){return{settings:{type:Object,observer:"_settingsChanged"},accessTokenUri:String,hasAccessTokenUri:{type:Boolean,computed:"_computeHasStringValue(accessTokenUri)"},authorizationUri:String,hasAuthorizationUri:{type:Boolean,computed:"_computeHasStringValue(authorizationUri)"},authorizationGrants:Array,hasAuthorizationGrants:{type:Boolean,computed:"_computeHasArrayValue(authorizationGrants)"},scopes:Array,hasScopes:{type:Boolean,computed:"_computeHasArrayValue(scopes)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(settings)"}}}_settingsChanged(settings){const accessTokenUri=this._computeAccessTokenUri(settings),authorizationUri=this._computeAuthorizationUri(settings);let authorizationGrants=this._computeAuthorizationGrants(settings),scopes=this._computeScopes(settings);if(authorizationGrants&&!(authorizationGrants instanceof Array)){authorizationGrants=[authorizationGrants]}if(scopes&&!(scopes instanceof Array)){scopes=[scopes]}this.accessTokenUri=accessTokenUri;this.authorizationUri=authorizationUri;this.authorizationGrants=authorizationGrants;this.scopes=scopes}_computeAccessTokenUri(settings){return this._getValue(settings,this.ns.raml.vocabularies.security+"accessTokenUri")}_computeAuthorizationUri(settings){return this._getValue(settings,this.ns.raml.vocabularies.security+"authorizationUri")}_computeAuthorizationGrants(settings){return this._getValueArray(settings,this.ns.raml.vocabularies.security+"authorizationGrant")}_computeScopes(settings){if(!this._hasProperty(settings,this.ns.raml.vocabularies.security+"scope")){return}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"scope"),scopes=this._ensureArray(settings[key]);return scopes.map(item=>{return{description:this._computeDescription(item),label:this._getValue(item,this.ns.raml.vocabularies.security+"name")}})}}window.customElements.define(ApiOauth2SettingsDocument.is,ApiOauth2SettingsDocument);</script></dom-module><dom-module id="api-oauth1-settings-document" assetpath="bower_components/api-security-documentation/"><template><style>:host{display:block;@apply --api-oauth1-settings-document;}h4{@apply --arc-font-subhead;}.settings-value{background:var(--code-background-color, #f5f2f0);display:block;padding:1em;margin:.5em 0;}</style><template is="dom-if" if="[[hasRequestTokenUri]]"><h4 data-type="request-token-uri">Request token URI</h4><code class="settings-value">[[requestTokenUri]]</code></template><template is="dom-if" if="[[hasAuthorizationUri]]"><h4 data-type="authorization-uri">Authorization URI</h4><code class="settings-value">[[authorizationUri]]</code></template><template is="dom-if" if="[[hasTokenCredentialsUri]]"><h4 data-type="token-credentials-uri">Token credentials URI</h4><code class="settings-value">[[tokenCredentialsUri]]</code></template><template is="dom-if" if="[[hasSignatures]]"><h4 data-type="signatures">Supported signatures</h4><ul><template is="dom-repeat" items="[[signatures]]"><li>[[item]]</li></template></ul></template></template><script>class ApiOauth1SettingsDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-oauth1-settings-document"}static get properties(){return{settings:{type:Object,observer:"_settingsChanged"},requestTokenUri:String,hasRequestTokenUri:{type:Boolean,computed:"_computeHasStringValue(requestTokenUri)"},authorizationUri:String,hasAuthorizationUri:{type:Boolean,computed:"_computeHasStringValue(authorizationUri)"},tokenCredentialsUri:String,hasTokenCredentialsUri:{type:Boolean,computed:"_computeHasStringValue(tokenCredentialsUri)"},signatures:Array,hasSignatures:{type:Boolean,computed:"_computeHasArrayValue(signatures)"}}}_settingsChanged(settings){const requestTokenUri=this._computeRequestTokenUri(settings),authorizationUri=this._computeAuthorizationUri(settings),tokenCredentialsUri=this._computeTokenCredentialsUri(settings),signatures=this._computeSignatures(settings);this.requestTokenUri=requestTokenUri;this.authorizationUri=authorizationUri;this.tokenCredentialsUri=tokenCredentialsUri;this.signatures=signatures}_deArray(result){if(result instanceof Array){result=result[0]}return result}_computeRequestTokenUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"requestTokenUri");return this._deArray(result)}_computeAuthorizationUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"authorizationUri");return this._deArray(result)}_computeTokenCredentialsUri(settings){const result=this._getValue(settings,this.ns.raml.vocabularies.security+"tokenCredentialsUri");return this._deArray(result)}_computeSignatures(settings){return this._getValueArray(settings,this.ns.raml.vocabularies.security+"signature")}}window.customElements.define(ApiOauth1SettingsDocument.is,ApiOauth1SettingsDocument);</script></dom-module><dom-module id="api-security-documentation" assetpath="bower_components/api-security-documentation/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --api-security-documentation;}h1{@apply --arc-font-headline;@apply --api-security-documentation-title;}h2{@apply --arc-font-title;@apply --api-security-documentation-main-section-title;}:host([narrow]) h1{font-size:20px;margin:0;@apply --api-security-documentation-title-narrow;}:host([narrow]) h2{font-size:18px;@apply --api-security-documentation-main-section-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><section class="title"><h1>[[type]]</h1></section><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[security]]"></api-annotation-document></template><template is="dom-if" if="[[_hasDescription]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[_hasSettings]]"><template is="dom-if" if="[[_hasOA2Settings]]"><h2 class="settings-title">Settings</h2><api-oauth2-settings-document amf-model="[[amfModel]]" settings="[[settings]]"></api-oauth2-settings-document></template><template is="dom-if" if="[[_hasOA1Settings]]"><h2 class="settings-title">Settings</h2><api-oauth1-settings-document amf-model="[[amfModel]]" settings="[[settings]]"></api-oauth1-settings-document></template></template><template is="dom-if" if="[[_hasQueryParameters]]"><api-parameters-document amf-model="[[amfModel]]" query-opened="" query-parameters="[[queryParameters]]" narrow="[[narrow]]"></api-parameters-document></template><template is="dom-if" if="[[_hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[_hasResponses]]"><section class="response-documentation"><h2>Responses</h2><api-responses-document amf-model="[[amfModel]]" returns="[[responses]]" narrow="[[narrow]]"></api-responses-document></section></template></template><script>class ApiSecurityDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-security-documentation"}static get properties(){return{aware:String,security:Object,_scheme:{type:Object,computed:"_computeScheme(security, amfModel)",observer:"_schemeChanged"},type:String,description:String,_hasDescription:{type:Boolean,computed:"_computeHasStringValue(description)"},headers:Array,_hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},queryParameters:Array,_hasQueryParameters:{type:Boolean,computed:"_computeHasArrayValue(queryParameters)"},responses:Array,_hasResponses:{type:Boolean,computed:"_computeHasArrayValue(responses)"},settings:Object,_hasSettings:{type:Boolean,computed:"_computeHasStringValue(settings)"},_hasOA2Settings:{type:Boolean,computed:"_computeHasOA2Settings(_hasSettings, settings)"},_hasOA1Settings:{type:Boolean,computed:"_computeHasOA1Settings(_hasSettings, settings)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(security)"},narrow:{type:Boolean,reflectToAttribute:!0}}}_computeScheme(security){if(!security){return}if(security instanceof Array){security=security[0]}if(this._hasType(security,this.ns.raml.vocabularies.security+"SecurityScheme")){return security}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"scheme");let scheme=security[key];if(!scheme){return}if(scheme instanceof Array){scheme=scheme[0]}return scheme}_schemeChanged(scheme){this.type=this._computeType(scheme);this.description=this._computeDescription(scheme);let headers=this._computeHeaders(scheme);if(headers&&!(headers instanceof Array)){headers=[headers]}this.headers=headers;let queryParameters=this._computeQueryParameters(scheme);if(queryParameters&&!(queryParameters instanceof Array)){queryParameters=[queryParameters]}this.queryParameters=queryParameters;let responses=this._computeResponses(scheme);if(responses&&!(responses instanceof Array)){responses=[responses]}this.responses=responses;this.settings=this._computeSettings(scheme)}_computeType(shape){return this._getValue(shape,this.ns.raml.vocabularies.security+"type")}_computeSettings(shape){return this._computePropertyObject(shape,this.ns.raml.vocabularies.security+"settings")}_computeHasOA2Settings(hasSettings,settings){if(!hasSettings||!settings){return!1}return this._hasType(settings,this.ns.raml.vocabularies.security+"OAuth2Settings")}_computeHasOA1Settings(hasSettings,settings){if(!hasSettings||!settings){return!1}return this._hasType(settings,this.ns.raml.vocabularies.security+"OAuth1Settings")}}window.customElements.define(ApiSecurityDocumentation.is,ApiSecurityDocumentation);</script></dom-module><dom-module id="api-method-documentation" assetpath="bower_components/api-method-documentation/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;padding-bottom:24px;@apply --arc-font-body1;@apply --api-method-documentation;--tmp-font-title:{@apply --arc-font-title;};}[hidden]{display:none !important;}h1{@apply --arc-font-headline;font-weight:var(--api-method-documentation-title-method-font-weight, 500);text-transform:capitalize;@apply --api-method-documentation-title;}h2{@apply --arc-font-title;@apply --api-method-documentation-main-section-title;}h3{@apply --layout-flex;@apply --arc-font-title;@apply --api-method-documentation-subsection-title;}.title-area{@apply --layout-horizontal;@apply --layout-center;}:host([narrow]) .title-area{margin-bottom:24px;}:host([narrow]) .title-area{margin-top:12px;}:host([narrow]) h1{font-size:20px;margin:0;@apply --api-method-documentation-title-narrow;}:host([narrow]) h2{font-size:18px;@apply --api-method-documentation-main-section-title-narrow;}:host([narrow]) h3{font-size:17px;@apply --api-method-documentation-subsection-title-narrow;}.title{@apply --layout-flex;}.url-area{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-method-documentation-url-font-size, 16px);margin-bottom:40px;margin-top:20px;background:var(--api-method-documentation-url-background-color, #424242);color:var(--api-method-documentation-url-font-color, #fff);padding:8px;border-radius:4px;position:relative;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;border-bottom:1px var(--api-parameters-document-title-border-color, #e5e5e5) solid;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.toggle-button{outline:none;color:var(--api-method-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-method-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.url-value{@apply --layout-flex;margin-left:12px;word-break:break-all;}.method-value{text-transform:uppercase;white-space:nowrap;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}http-code-snippets{margin-bottom:40px;}.action-button{background-color:var(--api-method-documentation-try-it-background-color, var(--primary-color));color:var(--api-method-documentation-try-it-color, var(--primary-action-color, #fff));}.action-button:hover{background-color:var(--api-method-documentation-try-it-background-color-hover, var(--primary-color));color:var(--api-method-documentation-try-it-color-hover, var(--primary-action-color, #fff));}.bottom.action{@apply --layout-horizontal;@apply --layout-end-justified;margin-top:20px;}marked-element{margin:12px 0;}.markdown-body{@apply --arc-font-body1;margin-bottom:28px;color:var(--api-method-documentation-descxription-color, rgba(0, 0, 0, 0.74));}.method-label{margin-bottom:0;}.bottom-nav,
    .bottom-link{@apply --layout-horizontal;@apply --layout-center;}.bottom-nav{padding:32px 0;margin:16px 0;border-top:1px var(--api-method-documentation-bottom-navigation-border-color, #cfd8dc) solid;color:var(--api-method-documentation-bottom-navigation-color, #000);font-size:18px;}.bottom-link{cursor:pointer;max-width:50%;word-break:break-all;}.bottom-link.previous{margin-right:12px;}.bottom-link.next{margin-left:12px;}.nav-separator{@apply --layout-flex;}api-security-documentation{--arc-font-display1:{@apply --arc-font-title;};--arc-font-title:{@apply --tmp-font-title;font-size:larger;};margin-bottom:12px;padding-bottom:12px;border-bottom:1px var(--api-headers-document-title-border-color, #e5e5e5) dashed;}api-security-documentation:last-of-type{margin-bottom:0;border-bottom:none;padding-bottom:0;}.request-documentation,
    .response-documentation{@apply --api-method-documentation-main-sections;}.snippets,
    .security,
    api-parameters-document,
    api-headers-document,
    api-body-document,
    .response-documentation{@apply --api-method-documentation-docs-sections;}.extensions{font-style:italic;margin:12px 0;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="title-area" hidden$="[[_titleHidden(methodName, httpMethod, noTryIt)]]"><h1 class="title">[[methodName]]</h1><template is="dom-if" if="[[!noTryIt]]"><div class="action"><paper-button class="action-button" on-click="_tryIt" raised="">Try it</paper-button></div></template></div><section class="url-area"><div class="method-value"><span class="method-label" data-method$="[[httpMethod]]">[[httpMethod]]</span></div><div class="url-value">[[endpointUri]]</div><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-click="_copyUrlClipboard" title="Copy URL to clipboard"></paper-icon-button></section><clipboard-copy id="urlCopy" content="[[endpointUri]]"></clipboard-copy><template is="dom-if" if="[[hasTraits]]"><section class="extensions"><span>Mixes in </span><span class="trait-name">[[_computeTraitNames(traits)]]</span>.</section></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[method]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><section class="request-documentation"><template is="dom-if" if="[[renderCodeSnippets]]" restamp="true"><section class="snippets"><div class="section-title-area" on-click="_toggleSnippets" title="Toogle code example details"><h3 class="table-title">Code examples</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(snippetsOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(snippetsOpened)]]"></iron-icon></paper-button></div></div><iron-collapse id="snippetsCollapse" on-transitionend="_snippetsTransitionEnd"><template is="dom-if" id="snippetsCondition" restamp=""><http-code-snippets url="[[endpointUri]]" method="[[httpMethod]]" headers="[[_computeSnippetsHeaders(headers)]]" payload="[[_computeSnippetsPayload(payload)]]"></http-code-snippets></template></iron-collapse></section></template><template is="dom-if" if="[[renderSecurity]]" restamp=""><template is="dom-if" if="[[hasSecurity]]" restamp=""><section class="security"><div class="section-title-area" on-click="_toggleSecurity" title="Toogle security details"><h3 class="table-title">Security</h3><div class="title-area-actions"><paper-button class="toggle-button security">[[_computeToggleActionLabel(securityOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(securityOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[securityOpened]]"><template is="dom-repeat" items="[[security]]"><api-security-documentation amf-model="[[amfModel]]" security="[[item]]" narrow="[[narrow]]"></api-security-documentation></template></iron-collapse></section></template></template><template is="dom-if" if="[[hasParameters]]"><api-parameters-document amf-model="[[amfModel]]" query-opened="" path-opened="" base-uri-parameters="[[serverVariables]]" endpoint-parameters="[[endpointVariables]]" query-parameters="[[queryParameters]]" narrow="[[narrow]]"></api-parameters-document></template><template is="dom-if" if="[[hasHeaders]]"><api-headers-document opened="" amf-model="[[amfModel]]" headers="[[headers]]" narrow="[[narrow]]"></api-headers-document></template><template is="dom-if" if="[[hasPayload]]"><api-body-document amf-model="[[amfModel]]" body="[[payload]]" narrow="[[narrow]]" opened=""></api-body-document></template></section><template is="dom-if" if="[[hasReturns]]"><section class="response-documentation"><h2>Response</h2><api-responses-document amf-model="[[amfModel]]" returns="[[returns]]" narrow="[[narrow]]"></api-responses-document></section></template><template is="dom-if" if="[[hasPagination]]"><section class="bottom-nav"><template is="dom-if" if="[[hasPreviousLink]]"><div class="bottom-link previous" on-click="_navigatePrevious"><paper-icon-button icon="arc:chevron-left"></paper-icon-button><span class="nav-label">[[previous.label]]</span></div></template><div class="nav-separator"></div><template is="dom-if" if="[[hasNextLink]]"><div class="bottom-link next" on-click="_navigateNext"><span class="nav-label">[[next.label]]</span><paper-icon-button icon="arc:chevron-right"></paper-icon-button></div></template></section></template><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>class ApiMethodDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-method-documentation"}static get properties(){return{aware:String,amfModel:Object,method:Object,endpoint:Object,noTryIt:{type:Boolean,value:!1},methodName:{type:String,computed:"_computeMethodName(method)"},httpMethod:{type:String,computed:"_computeHttpMethod(method)"},baseUri:String,apiVersion:{type:String,computed:"_computeApiVersion(amfModel)"},endpointUri:{type:String,computed:"_computeEndpointUri(server, endpoint, baseUri, apiVersion)"},description:{type:String,computed:"_computeDescription(method)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(method)"},expects:{type:Object,computed:"_computeExpects(method)"},server:{type:Object,computed:"_computeServer(amfModel)"},serverVariables:{type:Array,computed:"_computeServerVariables(server)"},endpointVariables:{type:Array,computed:"_computeEndpointVariables(endpoint)"},hasPathParameters:{type:Boolean,computed:"_computeHasPathParameters(serverVariables, endpointVariables)"},queryParameters:{type:Array,computed:"_computeQueryParameters(expects)"},hasQueryParameters:{type:Boolean,computed:"_computeHasArrayValue(queryParameters)"},hasParameters:{type:Boolean,computed:"_computeHasParameters(hasQueryParameters, hasPathParameters)"},payload:{type:Object,computed:"_computePayload(expects)"},hasPayload:{type:Boolean,computed:"_computeHasArrayValue(payload)"},headers:{type:Object,computed:"_computeHeaders(expects)"},hasHeaders:{type:Boolean,computed:"_computeHasArrayValue(headers)"},returns:{type:Object,computed:"_computeReturns(method)"},hasReturns:{type:Boolean,computed:"_computeHasArrayValue(returns)"},security:{type:Object,computed:"_computeSecurity(method)"},hasSecurity:{type:Boolean,computed:"_computeHasArrayValue(security)"},narrow:{type:Boolean,reflectToAttribute:!0},previous:Object,hasPreviousLink:{type:Boolean,computed:"_computeHasPreviousLink(previous)"},next:Object,hasNextLink:{type:Boolean,computed:"_computeHasNextLink(next)"},hasPagination:{type:Boolean,computed:"_computeHasNavigation(hasPreviousLink, hasNextLink)"},snippetsOpened:{type:Boolean,value:!1,observer:"_snippetsOpenedChanegd"},securityOpened:{type:Boolean,value:!1},renderCodeSnippets:Boolean,renderSecurity:Boolean,extendsTypes:{type:Array,computed:"_computeExtends(method)"},traits:{type:Array,computed:"_computeTraits(extendsTypes)"},hasTraits:{type:Boolean,computed:"_computeHasArrayValue(traits)"}}}_computeMethodName(method){let name=this._getValue(method,this.ns.schema.schemaName);if(!name){name=this._getValue(method,this.ns.w3.hydra.core+"method")}return name}_computeHttpMethod(method){let name=this._getValue(method,this.ns.w3.hydra.core+"method");if(name){name=name.toUpperCase()}return name}_computeHasPathParameters(sVars,eVars){return!!(sVars&&sVars.length||eVars&&eVars.length)}_computeHasParameters(hasPath,hasQuery){return!!(hasPath||hasQuery)}_tryIt(){const id=this.method["@id"];this.dispatchEvent(new CustomEvent("tryit-requested",{bubbles:!0,composed:!0,detail:{id}}))}_computeHasPreviousLink(previous){return!!previous}_computeHasNextLink(next){return!!next}_computeHasNavigation(previous,next){return!!(previous||next)}_navigatePrevious(){this._navigate(this.previous.id,"method")}_navigateNext(){this._navigate(this.next.id,"method")}_navigate(id,type){const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:id,type:type}});this.dispatchEvent(e)}_copyUrlClipboard(e){const button=e.localTarget||e.target;if(this.$.urlCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}_toggleSnippets(){this.snippetsOpened=!this.snippetsOpened}_snippetsOpenedChanegd(state){const collapse=this.shadowRoot.querySelector("#snippetsCollapse");if(!collapse){return}if(state){const condition=this.shadowRoot.querySelector("#snippetsCondition");condition.if=!0}else{collapse.opened=!1}Polymer.RenderStatus.afterNextRender(this,()=>{if(state){collapse.opened=!0}})}_snippetsTransitionEnd(){if(!this.snippetsOpened){const condition=this.shadowRoot.querySelector("#snippetsCondition");condition.if=!1}}_toggleSecurity(){this.securityOpened=!this.securityOpened}_computeSnippetsHeaders(headers){let result;if(headers&&headers.length){result="";headers.forEach(item=>{const name=this._getValue(item,this.ns.schema.schemaName),value=this._computePropertyValue(item)||"";result+=`${name}: ${value}\n`})}return result}_computeSnippetsPayload(payload){if(payload&&payload instanceof Array){payload=payload[0]}if(!payload){return}let mt=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(!mt){mt="application/json"}const examples=this.$.exampleGenerator.generatePayloadExamples(payload,mt,{});if(!examples||!examples[0]){return}return examples[0].value}_computePropertyValue(item){const skey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=item&&item[skey];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(schema,this.ns.w3.shacl.name+"defaultValue");if(!value){const items=this.$.exampleGenerator.computeExamples(schema,null,{rawOnly:!0});if(items){value=items[0].value}}return value}_computeToggleActionLabel(opened){return opened?"Hide":"Show"}_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}_titleHidden(methodName,httpMethod,noTryIt){if(!noTryIt){return!1}if(!methodName||!httpMethod){return!0}if(methodName.toLowerCase()===httpMethod.toLowerCase()){return!0}return!1}_computeExtends(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"extends");return shape&&this._ensureArray(shape[key])}_computeTraits(types){if(!types||!types.length){return}const data=types.filter(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedTrait"));return data.length?data:void 0}_computeTraitNames(traits){if(!traits||!traits.length){return}const names=traits.map(trait=>this._getValue(trait,this.ns.schema.schemaName));if(2===names.length){return names.join(" and ")}return names.join(", ")}}window.customElements.define(ApiMethodDocumentation.is,ApiMethodDocumentation);</script></dom-module><script>"use strict";if(!window.ArcBehaviors){window.ArcBehaviors={}}ArcBehaviors.EventsTargetBehavior=Polymer.dedupingMixin(base=>{class ETBmixin extends base{static get properties(){return{eventsTarget:{type:Object,observer:"_eventsTargetChanged"},_oldEventsTarget:Object}}connectedCallback(){super.connectedCallback();this._eventsTargetChanged(this.eventsTarget)}disconnectedCallback(){super.disconnectedCallback();if(this._oldEventsTarget){this._detachListeners(this._oldEventsTarget)}}_eventsTargetChanged(eventsTarget){if(this._oldEventsTarget){this._detachListeners(this._oldEventsTarget)}this._oldEventsTarget=eventsTarget||window;this._attachListeners(this._oldEventsTarget)}_attachListeners(){console.warn("_attachListeners not found in the element methods")}_detachListeners(){console.warn("_detachListeners not found in the element methods")}}return ETBmixin});</script><script>(function(){"use strict";const GLOBAL_PATH_PARAMS=[],GLOBAL_QUERY_PARAMS=[],GLOBAL_OTHER_PARAMS=[];function getKey(data){let key=data.name+"-"+data.schema.type;if(data.schema.isEnum){key+="-enum"}if(data.required){key+="-required"}return key}function getGlobalValue(data){let store;switch(data.binding){case"query":store=GLOBAL_QUERY_PARAMS;break;case"path":store=GLOBAL_PATH_PARAMS;break;default:store=GLOBAL_OTHER_PARAMS;break;}if(!store.length){return}const key=getKey(data);for(let i=0,len=store.length;i<len;i++){if(store[i].key===key){return store[i].value}}}function appendGlobalValue(data){const item=getGlobalValue(data);if(item){return}const key=getKey(data),model={key:key,value:data};switch(data.binding){case"query":GLOBAL_QUERY_PARAMS.push(model);break;case"path":GLOBAL_PATH_PARAMS.push(model);break;default:GLOBAL_OTHER_PARAMS.push(model);break;}}const NUMBER_INPUT_TYPES=["number","integer","float"];class ApiViewModelTransformer extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-view-model-transformer"}static get properties(){return{amfModel:Object,shape:{type:Array,observer:"_shapeChanged"},viewModel:{type:Array,notify:!0,readOnly:!0},manualModel:Boolean,_references:{type:Array,computed:"_computeReferences(amfModel)"},noDocs:Boolean}}get _exampleGenerator(){if(!this.__exampleGenerator){this.__exampleGenerator=document.createElement("api-example-generator")}return this.__exampleGenerator}constructor(){super();this._buildPropertyHandler=this._buildPropertyHandler.bind(this)}_attachListeners(node){node.addEventListener("api-property-model-build",this._buildPropertyHandler)}_detachListeners(node){node.removeEventListener("api-property-model-build",this._buildPropertyHandler)}disconnectedCallback(){super.disconnectedCallback();if(this.__exampleGenerator){delete this.__exampleGenerator}}clearCache(){GLOBAL_PATH_PARAMS.splice(0,GLOBAL_PATH_PARAMS.length);GLOBAL_QUERY_PARAMS.splice(0,GLOBAL_QUERY_PARAMS.length);GLOBAL_OTHER_PARAMS.splice(0,GLOBAL_OTHER_PARAMS.length)}_shapeChanged(shape){if(this.manualModel){return}this.computeViewModel(shape)}computeViewModel(shape){this._setViewModel(void 0);if(!shape){shape=this.shape}if(!shape){return}if(shape instanceof Array){shape=Array.from(shape)}const result=this._computeViewModel(shape);this._setViewModel(result);return result}_computeViewModel(items){const result=[];if(!items){return result}const isArray=items instanceof Array;if(isArray&&!items.length){return result}if(isArray){for(let i=0,len=items.length;i<len;i++){const item=items[i],model=this.uiModelForAmfItem(item);if(model){result.push(model)}else{console.warn("Unable to compute view data model for",item)}}}else{if(this._hasType(items,this.ns.raml.vocabularies.data+"Object")){const data=this.modelForRawObject(items);if(data){result[result.length]=data}}}return result}uiModelForAmfItem(amfItem){if(this._hasType(amfItem,this.ns.raml.vocabularies.http+"Parameter")){return this._uiModelForParameter(amfItem)}if(this._hasType(amfItem,this.ns.w3.shacl.name+"PropertyShape")){return this._uiModelForPropertyShape(amfItem)}}_uiModelForParameter(amfItem){amfItem=this._resolve(amfItem);const result={binding:this._computeBinding(amfItem),name:this._computeFormName(amfItem),required:this._computeRequired(amfItem),schema:{}},sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=amfItem[sKey];if(schema){if(schema instanceof Array){schema=schema[0]}const def=this._resolve(schema);result.schema.type=this._computeModelType(def);result.schema.isEnum=this._hasProperty(def,this.ns.w3.shacl.in);const cachedModel=getGlobalValue(result);if(cachedModel){return cachedModel}result.schema.enabled=!0;result.schema.inputLabel=this._computeInputLabel(def,result.required,result.name);result.schema.pattern=this._computeShaclProperty(def,"pattern");result.schema.minLength=this._computeShaclProperty(def,"minLength");result.schema.maxLength=this._computeShaclProperty(def,"maxLength");result.schema.defaultValue=this._computeDefaultValue(def);result.schema.multipleOf=this._computeVocabularyShapeProperty(def,"multipleOf");result.schema.minimum=this._computeShaclProperty(def,"minInclusive");result.schema.maximum=this._computeShaclProperty(def,"maxInclusive");result.schema.enum=result.schema.isEnum?this._computeModelEnum(def):void 0;result.schema.isArray="array"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;result.schema.isObject="object"===result.schema.type;result.schema.examples=this._computeModelExamples(def);result.schema.items=result.schema.isArray?this._computeModelItems(def):void 0;result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeVocabularyShapeProperty(schema,"format");result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);result.schema.isNillable="union"===result.schema.type?this._computeIsNillable(def):!1}if(this.noDocs){result.hasDescription=!1}else{result.description=this._computeDescription(amfItem);result.hasDescription=!!result.description}const valueDelimiter=this._computeValueDelimiter(result.binding),decodeValues=this._computeDecodeValues(result.binding),processOptions={name:result.name,required:result.required,valueDelimiter:valueDelimiter,decodeValues:decodeValues};this._processAfterItemCreated(result,processOptions);appendGlobalValue(result);return result}_uiModelForPropertyShape(amfItem){amfItem=this._resolve(amfItem);const result={binding:"type",name:this._computeShaclProperty(amfItem,"name")};let def;if(this._hasType(amfItem,this.ns.raml.vocabularies.shapes+"ScalarShape")){def=amfItem}else{const rangeKey=this._getAmfKey(this.ns.raml.vocabularies.shapes+"range");def=amfItem[rangeKey];if(!def){return result}if(def instanceof Array){def=def[0]}def=this._resolve(def)}result.required=this._computeRequiredPropertyShape(amfItem);result.schema={};result.schema.enabled=!0;result.schema.type=this._computeModelType(def);result.schema.isEnum=this._hasProperty(def,this.ns.w3.shacl.in);const cachedModel=getGlobalValue(result);if(cachedModel){return cachedModel}result.schema.inputLabel=this._computeInputLabel(def,result.required,result.name);result.schema.pattern=this._computeShaclProperty(def,"pattern");result.schema.minLength=this._computeShaclProperty(def,"minLength");result.schema.maxLength=this._computeShaclProperty(def,"maxLength");result.schema.defaultValue=this._computeDefaultValue(def);result.schema.multipleOf=this._computeVocabularyShapeProperty(def,"multipleOf");result.schema.minimum=this._computeShaclProperty(def,"minInclusive");result.schema.maximum=this._computeShaclProperty(def,"maxInclusive");result.schema.enum=this._computeModelEnum(def);result.schema.isEnum=!!result.schema.enum;result.schema.isArray="array"===result.schema.type;result.schema.isObject="object"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;result.schema.examples=this._computeModelExamples(def);result.schema.hasExamples=!!(result.schema.examples&&result.schema.examples.length);result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeVocabularyShapeProperty(def,"format");result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);result.hasExtendedDescs=this._computeHasExtendedDocumentation(result);result.schema.isNillable="union"===result.schema.type?this._computeIsNillable(result):!1;if(this.noDocs){result.hasDescription=!1}else{result.description=this._computeDescription(def);result.hasDescription=!!result.description}if(result.hasDescription){result.extendedDocs=this._computeExtendedDocumentation(result)}if("file"===result.schema.type){result.schema.isFile=!0;result.schema.fileTypes=this._getValueArray(def,this.ns.raml.vocabularies.shapes+"fileType")}else{result.schema.isFile=!1}if(result.schema.isObject){const props=[],pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");let items=this._ensureArray(def[pKey]);if(items){items.forEach(item=>{if(item instanceof Array){item=item[0]}props.push(this.uiModelForAmfItem(item))})}result.properties=props}this._processAfterItemCreated(result,{});appendGlobalValue(result);return result}modelForRawObject(model,processOptions){if(!processOptions){processOptions={}}const result=[],keys=Object.keys(model),dataKey=this._getAmfKey(this.ns.raml.vocabularies.data);keys.forEach(key=>{if(-1===key.indexOf(dataKey)){return}let item=model[key];if(item instanceof Array){item=item[0]}item=this._uiModelForRawObject(key,item);if(item){item=this._processAfterItemCreated(item,processOptions);result.push(item)}});return result}_uiModelForRawObject(key,model){let index=key.indexOf("#");if(-1===index){index=key.indexOf(":")}let name;if(-1===index){name=key}else{name=key.substr(index+1)}const result={binding:"type",name:name},dPrefix=this.ns.raml.vocabularies.data,typeKey=this._getAmfKey(dPrefix+"type");let type=this._computeRawModelValue(model[typeKey]);if(!type){type="string"}const bracetIndex=type.indexOf("[]");let items;if(-1!==bracetIndex){items=type.substr(0,bracetIndex);type="array"}if(this.noDocs){result.hasDescription=!1}else{const descKey=this._getAmfKey(dPrefix+"description");result.description=this._computeRawModelValue(model[descKey]);result.hasDescription=!!result.description}result.required=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"required")]);result.schema={};result.schema.enabled=!0;result.schema.type=type||"string";const displayName=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"displayName")]);result.schema.inputLabel=this._completeInputLabel(displayName,name,result.required);result.schema.minLength=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"minLength")]);result.schema.maxLength=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"maxLength")]);result.schema.defaultValue=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"default")]);result.schema.multipleOf=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"multipleOf")]);result.schema.minimum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"minimum")]);result.schema.maximum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"maximum")]);result.schema.enum=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"enum")]);let pattern=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"pattern")]);if(pattern instanceof Array){pattern="["+pattern[0]+"]"}result.schema.pattern=pattern;result.schema.isEnum=!!result.schema.enum;result.schema.isArray="array"===result.schema.type;result.schema.isBool="boolean"===result.schema.type;if(result.schema.isArray){result.schema.items=items?items:this._computeRawModelValue(model[this._getAmfKey(dPrefix+"items")])}result.schema.inputType=this._computeModelInputType(result.schema.type,result.schema.items);result.schema.format=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"format")]);result.schema.pattern=this._computeModelPattern(result.schema.type,result.schema.pattern,result.schema.format);const example=this._computeRawModelValue(model[this._getAmfKey(dPrefix+"example")]);if(example){result.schema.examples=[example]}const examples=this._computeRawExamples(model[this._getAmfKey(dPrefix+"examples")]);if(examples){const existing=result.schema.examples||[];result.schema.examples=existing.concat(examples)}return result}_processAfterItemCreated(item,processOptions){if("null"===item.schema.type){switch(item.binding){case"header":case"query":case"path":item.value="nil";break;default:item.value="null";}item.schema.readOnly=!0}if(item.schema.examples&&item.schema.examples.length&&item.schema.examples[0].value){item.schema.inputPlaceholder="Example: "+this._exampleAsValue(item.schema.examples[0].value,processOptions)}if(!item.schema.inputPlaceholder){item.schema.inputPlaceholder=this._computeTypePlaceholder(item.schema.type,item.schema.format)}if(item.schema.inputPlaceholder){item.schema.inputFloatLabel=!0}if(item.required&&"undefined"!==typeof item.schema.defaultValue){item.value=item.schema.isArray?this.__parseArrayExample(item.schema.defaultValue,processOptions):this._exampleAsValue(item.schema.defaultValue,processOptions)}if("undefined"===typeof item.value&&item.required){const examples=item.schema.examples;if(examples&&examples.length){item.value=this._exampleAsValue(examples[0].value,processOptions)}if("undefined"===typeof item.value&&item.schema.isEnum){item.value=this._exampleAsValue(item.schema.enum[0],processOptions)}}if(item.value&&item.schema.isArray&&"string"===typeof item.value){const _v=this.__parseArrayExample(item.value,processOptions);item.value=_v instanceof Array?_v:[_v]}if(item.schema.isArray&&!item.value){item.value=[""]}if(item.schema.isBool&&"boolean"===typeof item.value){item.value=item.value+""}return item}_completeInputLabel(displayName,name,required){if(!displayName){displayName=name||"Input value"}if(required){displayName+="*"}return displayName}_computeRawExamples(model){if(!model||!model[0]){return}const result=[];model=model[0];const keys=Object.keys(model);keys.forEach(key=>{const dKey=this._getAmfKey(this.ns.raml.vocabularies.data);if(-1===key.indexOf(dKey)){return}const name=key.split("#")[1],value=this._computeRawModelValue(model[key]);if(value){result.push({name:name,value:value,hasName:!!name})}});return result}_computeBinding(model){const key=this.ns.raml.vocabularies.http+"binding";return this._getValue(model,key)}_computeFormName(model){const key=this.ns.schema.schemaName;return this._getValue(model,key)}_computeRequired(model){const key=this.ns.w3.hydra.core+"required";return this._getValue(model,key)}_computeRequiredPropertyShape(model){const key=this.ns.w3.shacl.name+"minCount",result=this._getValue(model,key);return 1===result}_computeModelType(shape){if(!shape){return}const vsh=this.ns.raml.vocabularies.shapes,sa=this.ns.w3.shacl.name;if(this._hasType(shape,vsh+"UnionShape")){return"union"}if(this._hasType(shape,vsh+"ArrayShape")){return"array"}if(this._hasType(shape,sa+"NodeShape")){return"object"}if(this._hasType(shape,sa+"PropertyShape")){return"object"}if(this._hasType(shape,vsh+"FileShape")){return"file"}if(this._hasType(shape,vsh+"NilShape")){return"null"}if(this._hasType(shape,vsh+"AnyShape")){return"string"}if(this._hasType(shape,vsh+"MatrixShape")){return"array"}if(this._hasType(shape,vsh+"TupleShape")){return"object"}if(this._hasType(shape,vsh+"ScalarShape")){let dt=shape[this._getAmfKey(sa+"datatype")];if(dt instanceof Array){dt=dt[0]}let id=dt;if("string"!==typeof id){id=id["@id"]}const x=this.ns.w3.xmlSchema;switch(id){case x+"string":case this._getAmfKey(x+"string"):return"string";case x+"integer":case this._getAmfKey(x+"integer"):return"integer";case x+"long":case this._getAmfKey(x+"long"):return"long";case x+"float":case this._getAmfKey(x+"float"):return"float";case x+"double":case this._getAmfKey(x+"double"):return"double";case vsh+"number":case this._getAmfKey(vsh+"number"):return"number";case x+"boolean":case this._getAmfKey(x+"boolean"):return"boolean";case x+"dateTime":case this._getAmfKey(x+"dateTime"):return"datetime";case vsh+"dateTimeOnly":case this._getAmfKey(vsh+"dateTimeOnly"):return"datetime-only";case x+"time":case this._getAmfKey(x+"time"):return"time";case x+"date":case this._getAmfKey(x+"date"):return"date";case x+"base64Binary":case this._getAmfKey(x+"base64Binary"):return"string";case vsh+"password":case this._getAmfKey(vsh+"password"):return"password";}}return"string"}_computeRawModelValue(model){if(!model){return}if(model instanceof Array){model=model[0]}let dataType=model["@type"];if(dataType instanceof Array){dataType=dataType[0]}switch(dataType){case this._getAmfKey(this.ns.raml.vocabularies.data+"Scalar"):return this._computeRawScalarValue(model);case this._getAmfKey(this.ns.raml.vocabularies.data+"Array"):return this._computeRawArrayValue(model);case this._getAmfKey(this.ns.raml.vocabularies.shapes+"FileShape"):return this._getValueArray(model,this.ns.raml.vocabularies.shapes+"fileType");}}_computeRawScalarValue(item){const valueKey=this._getAmfKey(this.ns.raml.vocabularies.data+"value");let value=item[valueKey];if(!value){return}if(value instanceof Array){value=value[0]}let type=value["@type"];if(type instanceof Array){type=type[0]}value=value["@value"];const s=this.ns.w3.xmlSchema;switch(type){case this._getAmfKey(s+"number"):case this._getAmfKey(s+"long"):case this._getAmfKey(s+"integer"):case this._getAmfKey(s+"float"):case this._getAmfKey(s+"double"):return+value;case this._getAmfKey(s+"boolean"):return"false"===value?!1:!0;default:return value;}}_computeRawArrayValue(item){const key=this._getAmfKey("http://www.w3.org/1999/02/22-rdf-syntax-ns#member");let values=this._ensureArray(item[key]);if(!values){return}const result=[];values.forEach(value=>{const item=this._computeRawScalarValue(value);if(item){result.push(item)}});return result}_computeInputLabel(def,required,name){const result=this._getValue(def,this.ns.schema.schemaName);return this._completeInputLabel(result,name,required)}_computeShaclProperty(shape,property){const key=this.ns.w3.shacl.name+(property+"");return this._getValue(shape,key)}_computeVocabularyShapeProperty(shape,property){const key=this.ns.raml.vocabularies.shapes+(property+"");return this._getValue(shape,key)}_computeDefaultValue(shape){const vsh=this.ns.raml.vocabularies.shapes,valueKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValueStr");let value=shape[valueKey];if(!value){return}if(value instanceof Array){value=value[0]}if(value["@value"]){value=value["@value"]}if(this._hasType(shape,vsh+"ScalarShape")){const dtKey=this._getAmfKey(this.ns.w3.shacl.name+"datatype");let type=shape[dtKey];if(type instanceof Array){type=type[0]}type=type["@id"];const s=this.ns.w3.xmlSchema;switch(type){case s+"number":case s+"long":case s+"integer":case s+"float":case s+"double":case this._getAmfKey(s+"number"):case this._getAmfKey(s+"long"):case this._getAmfKey(s+"integer"):case this._getAmfKey(s+"float"):case this._getAmfKey(s+"double"):return+value;case s+"boolean":case this._getAmfKey(s+"boolean"):return"false"===value?!1:!0;default:return value;}}else if(this._hasType(shape,this.ns.raml.vocabularies.shapes+"ArrayShape")){const valueKey=this._getAmfKey(this.ns.w3.shacl.name+"defaultValue");let value2=shape[valueKey];if(!value2){return value}if(value2 instanceof Array){value2=value2[0]}return this._computeRawArrayValue(value2)}return value}_computeModelEnum(def){def=this._resolve(def);const key=this._getAmfKey(this.ns.w3.shacl.in);let model=def[key];if(!model){return}if(model instanceof Array){model=model[0]}const result=[],rdfKey=this._getAmfKey("http://www.w3.org/2000/01/rdf-schema#");Object.keys(model).forEach(key=>{if(-1===key.indexOf(rdfKey)){return}let shape=model[key];if(shape instanceof Array){shape=shape[0]}const vKey=this._getAmfKey(this.ns.raml.vocabularies.data+"value"),value=this._getValue(shape,vKey);if(value){result.push(value)}});return result}_computeModelExamples(model){model=this._resolve(model);const key=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let def=this._ensureArray(model[key]);if(!def){return}const result=[];for(let i=0,len=def.length;i<len;i++){const item=def[i],name=this._getValue(item,this.ns.schema.schemaName);let value=this._getExampleValue(item,!0);if(!name&&!value){continue}try{JSON.parse(value);if("\""===value[value.length-1]&&"\""===value[0]){value=value.substr(1,value.length-2)}}catch(_){try{const gen=this._exampleGenerator;gen.amfModel=this.amfModel;value=gen.computeExample("application/json",item,{})}catch(_){}}result.push({name:name,value:value,hasName:!!name})}return result}_computeModelItems(model){if(!this._hasType(model,this.ns.raml.vocabularies.shapes+"ArrayShape")){return}model=this._resolve(model);const itKeys=this._getAmfKey(this.ns.raml.vocabularies.shapes+"items");let item=model[itKeys];if(!item){console.warn("Expected #items declaration");return}if(item instanceof Array){item=item[0]}const type=this._computeModelType(item);return type}_computeValueDelimiter(binding){switch(binding){case"header":return":";case"query":return"=";default:return"";}}_computeDecodeValues(binding){switch(binding){case"query":return!0;default:return!1;}}_exampleAsValue(example,opts){if(!example||"string"!==typeof example){return example}example=example.trim();if(opts.valueDelimiter&&0===example.indexOf(opts.name+opts.valueDelimiter)){example=example.substr(opts.name.length+1).trim()}if(opts.decodeValues){try{example=decodeURIComponent(example.replace(/\+/g," "))}catch(e){}}return example}__parseArrayExample(example,processOptions){try{const arr=JSON.parse(example);if(arr instanceof Array){const result=[];arr.forEach(item=>{const ex=this._exampleAsValue(item,processOptions);if(ex){result[result.length]=ex}});return result.length?result:void 0}}catch(e){}return this._exampleAsValue(example,processOptions)}_computeModelInputType(type,items){if("array"===type){if("string"===typeof items){return this.__computeInputType(items)}if(!items){return"text"}return this.__computeInputType(items.schema?items.schema.type:items.type)}return this.__computeInputType(type)}__computeInputType(type){if(type&&-1!==NUMBER_INPUT_TYPES.indexOf(type)){return"number"}else if("boolean"===type){return"boolean"}else if("date-only"===type||"date"===type){return"date"}return"text"}_computeModelPattern(modelType,pattern,format){if(!pattern){switch(modelType){case"time":pattern="^[0-9]{2}:[0-9]{2}:[0-9]{2}.?[0-9]{0,3}$";break;case"date":pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}$";break;case"datetime-only":pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.?[0-9]{0,3}$";break;case"datetime":if("rfc2616"===format){pattern=""}else{pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}.*$"}break;}}return pattern}_computeTypePlaceholder(type,format){let value;switch(type){case"time":value="00:00:00.000";break;case"date":value="0000-00-00";break;case"datetime-only":value="0000-00-00T00:00:00.000";break;case"datetime":if("rfc2616"===format){value="Sun, 01 Jan 2000 00:00:00 GMT"}else{value="0000-00-00T00:00:00Z+01:00"}break;}return value}_buildPropertyHandler(e){if(e.defaultPrevented){return}e.stopImmediatePropagation();e.preventDefault();this.buildProperty(e.detail)}buildProperty(defaults){if(!defaults){defaults={}}defaults.schema=defaults.schema||{};defaults.schema.type=defaults.schema.type||"string";defaults.schema.isEnum=defaults.schema.isEnum||!1;defaults.schema.isArray=defaults.schema.isArray||!1;defaults.schema.isBool=defaults.schema.isBool||!1;defaults.schema.isFile="file"===defaults.schema.type;defaults.schema.inputType="text"===defaults.schema.inputType;defaults.hasDescription=!!defaults.description;defaults.schema.inputFloatLabel=defaults.schema.inputFloatLabel||defaults.schema.inputPlaceholder||!1;defaults.schema.inputType=this._computeModelInputType(defaults.schema.type,defaults.schema.items);defaults.schema.pattern=this._computeModelPattern(defaults.schema.type,defaults.schema.pattern);if(!defaults.schema.inputLabel){defaults.schema.inputLabel=defaults.name||"Parameter value"}this._processAfterItemCreated(defaults,{});return defaults}_computeHasExtendedDocumentation(item){if(item.hasDescription){return!0}if(!item.schema){return!1}const schema=item.schema;if(schema.pattern){return!0}if(schema.examples&&schema.examples.length){return!0}return!1}_computeExtendedDocumentation(item){let docs="";if(item.description){docs+=item.description}if(!item.schema){return docs}const schema=item.schema;if(docs){docs+="\n\n\n"}if(schema.pattern){docs+="- Pattern: `"+schema.pattern+"`\n"}if(schema.examples&&schema.examples.length){schema.examples.forEach(item=>{docs+="- Example";if(item.hasName){docs+=" "+item.name}docs+=": `"+item.value+"`\n"})}return docs}_computeIsNillable(shape){if(!shape){return!1}const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),values=this._ensureArray(shape[key]);if(!values){return!1}for(let i=0,len=values.length;i<len;i++){if(this._hasType(values[i],this.ns.raml.vocabularies.shapes+"NilShape")){return!0}}return!1}}window.customElements.define(ApiViewModelTransformer.is,ApiViewModelTransformer)})();</script><dom-module id="api-url-data-model" assetpath="bower_components/api-url-data-model/"><template><style>:host{display:none;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-view-model-transformer amf-model="[[amfModel]]" id="transformer"></api-view-model-transformer></template><script>class ApiUrlDataModel extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-url-data-model"}static get properties(){return{aware:String,_webApi:{type:Object,computed:"_computeWebApi(amfModel)"},_server:{type:Object,computed:"_computeServer(amfModel)"},_protocols:{type:Object,computed:"_computeProtocols(amfModel)"},version:{type:String,computed:"_computeApiVersion(amfModel)"},selected:String,endpoint:{type:Object,computed:"_computeModelEndpointModel(_webApi, selected)"},method:{type:Object,computed:"_computeMethodModel(_webApi, selected)"},apiParameters:{type:Array,notify:!0,computed:"_computeApiParameters(_server, version)"},baseUri:String,apiBaseUri:{type:String,notify:!0,computed:"_computeApiBaseUri(_server, version, _protocols, baseUri)"},queryModel:{type:Array,computed:"_computeQueryModel(method)",notify:!0},pathModel:{type:Array,computed:"_computePathModel(endpoint, method, apiParameters)",notify:!0},endpointUri:{type:String,notify:!0,computed:"_computeEndpointUri(_server, endpoint, baseUri, version)"},endpointPath:{type:String,notify:!0,computed:"_computeEndpointPath(endpoint)"}}}_computeApiBaseUri(server,version,protocols,baseUri){let uri=this._getBaseUri(baseUri,server,protocols);if(!uri){return}if(version&&-1!==uri.indexOf("{version}")){uri=uri.replace("{version}",version)}const lastIndex=uri.length-1;if("/"===uri[lastIndex]){uri=uri.substr(0,lastIndex)}return uri}_computeApiParameters(server,version){if(!server){return[]}const variables=this._computeServerVariables(server);if(!variables||!variables.length){return[]}if(version){for(let i=variables.length-1;0<=i;i--){const name=this._getValue(variables[i],this.ns.schema.schemaName);if("version"===name){variables.splice(i,1);break}}}this.$.transformer.amfModel=this.amfModel;let model=this.$.transformer.computeViewModel(variables);if(model&&model.length){model=Array.from(model)}else{model=void 0}return model}_computePathModel(endpoint,method,apiParameters){if(!endpoint){return}let params=this._computeQueryParameters(endpoint);if(!params||!params.length){params=this._uriParamsFromMethod(method);if(!params){return apiParameters}}this.$.transformer.amfModel=this.amfModel;let model=this.$.transformer.computeViewModel(params);if(!model){model=[]}if(apiParameters&&apiParameters[0]){model=Array.from(apiParameters).concat(model)}return model}_uriParamsFromMethod(method){if(!method){return}const request=this._computeExpects(method);if(!request){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"uriParameter"),params=this._ensureArray(request[key]);return params&&params.length?params:void 0}_computeQueryModel(method){if(!method){return[]}const request=this._computeExpects(method);if(!request){return[]}const params=this._computeQueryParameters(request);if(!params){return[]}this.$.transformer.amfModel=this.amfModel;let data=this.$.transformer.computeViewModel(params);if(data&&data.length){data=Array.from(data)}else{data=[]}return data}_computeEndpointPath(endpoint){return this._getValue(endpoint,this.ns.raml.vocabularies.http+"path")}_computeModelEndpointModel(webApi,id){let model=this._computeEndpointModel(webApi,id);if(model){return model}model=this._computeMethodModel(webApi,id);if(!model){return}return this._computeMethodEndpoint(webApi,model["@id"])}}window.customElements.define(ApiUrlDataModel.is,ApiUrlDataModel);</script></dom-module><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--anypoint-color-steel5));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;height:40px;@apply --anypoint-font-body;};}</style></custom-style><dom-module id="paper-input-container" assetpath="bower_components/paper-input/"><template><style>:host{display:block;padding:2px 0;@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;border-left:2px var(--paper-input-container-border-color, var(--anypoint-color-aluminum4)) solid;border-right:2px var(--paper-input-container-border-color, var(--anypoint-color-aluminum4)) solid;height:inherit;background-color:var(--anypoint-color-aluminum2);-webkit-transition:background-color .2s ease-out;transition:background-color .2s ease-out;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;height:inherit;}:host(:hover) .input-wrapper{background-color:var(--anypoint-color-aluminum1);border-color:var(--paper-input-container-hovered-border-color, var(--anypoint-color-aluminum5));}:host([invalid]) .input-wrapper{border-color:var(--paper-input-container-invalid-color, var(--anypoint-color-danger)) !important;}:host([disabled]) .input-wrapper{background-color:var(--anypoint-color-aluminum2);}:host ::slotted(label),
    :host ::slotted(.paper-input-label){font:inherit;color:var(--paper-input-container-label-color, var(--anypoint-color-steel2));@apply --anypoint-font-common-nowrap;@apply --anypoint-font-body;@apply --paper-input-container-label;font-size:14px;font-style:normal;font-weight:400;z-index:1;margin-bottom:10px;margin-top:5px;display:block;}.input-content ::slotted(input),
    .input-content ::slotted(iron-input),
    .input-content ::slotted(textarea),
    .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color, var(--anypoint-color-steel5));@apply --paper-input-container-input;}:host([focuesed]) .input-content ::slotted(input),
    :host([focuesed]) .input-content ::slotted(iron-input),
    :host([focuesed]) .input-content ::slotted(textarea),
    :host([focuesed]) .input-content ::slotted(iron-autogrow-textarea),
    :host([focuesed]) .input-content ::slotted(.paper-input-input){color:var(--paper-input-container-input-focus-color, var(--anypoint-color-steel5));background-color:var(--paper-input-container-input-focus-background-color, transparent);}:host([invalid]) .input-content ::slotted(input),
    :host([invalid]) .input-content ::slotted(iron-input),
    :host([invalid]) .input-content ::slotted(textarea),
    :host([invalid]) .input-content ::slotted(iron-autogrow-textarea),
    :host([invalid]) .input-content ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.input-content ::slotted(input::-webkit-outer-spin-button),
    .input-content ::slotted(input::-webkit-inner-spin-button){@apply --paper-input-container-input-webkit-spinner;}:host([focuesed]) ::slotted(label),
    :host([focuesed]) ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--anypoint-color-aluminum5));@apply --paper-input-container-label-focus;}:host([invalid]) ::slotted(label),
    :host([invalid]) ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--anypoint-color-danger));}.prefix ::slotted(*){display:inline-block;@apply --paper-input-prefix;@apply --layout-flex-none;}.prefix ::slotted(:first-child){margin-left:5px;}.suffix ::slotted(*){display:inline-block;@apply --paper-input-suffix;@apply --layout-flex-none;}.suffix ::slotted(:last-child){margin-right:5px;}.input-content ::slotted(input),
    .input-content ::slotted(iron-input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}:host([invalid]) .add-on-content ::slotted(*){color:var(--paper-input-container-invalid-color, var(--anypoint-color-danger));}:host([focused]) .add-on-content ::slotted(*){color:var(--paper-input-container-focus-color, var(--anypoint-color-aluminum5));}</style><slot name="label"></slot><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class="input-content" id="labelAndInputContainer"><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class="add-on-content"><slot name="add-on"></slot></div></template><script>class PaperInputContainer extends Polymer.Element{static get is(){return"paper-input-container"}static get properties(){return{attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1,reflectToAttribute:!0},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},_addons:{type:Array},placeholder:{type:String}}}get _valueChangedEvent(){return this.attrForValue+"-changed"}get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)}get _inputElement(){const nodes=this.shadowRoot.querySelector("slot[name=\"input\"]").assignedNodes();for(let i=0,len=nodes.length;i<len;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}}get _inputElementValue(){const input=this._inputElement;if(!input){return}return input[this._propertyForValue]||input.value}constructor(){super();this._onValueChanged=this._onValueChanged.bind(this);this._onInput=this._onInput.bind(this);this._onBlur=this._onBlur.bind(this);this._onFocus=this._onFocus.bind(this);this._onAddonAttached=this._onAddonAttached.bind(this);this._onIronInputValidate=this._onIronInputValidate.bind(this);this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]}connectedCallback(){super.connectedCallback();this.addEventListener("addon-attached",this._onAddonAttached);this.addEventListener("iron-input-validate",this._onIronInputValidate);this.addEventListener("focus",this._onFocus);this.addEventListener("blur",this._onBlur);Polymer.RenderStatus.afterNextRender(this,()=>{const input=this._inputElement;if(this.attrForValue){input.addEventListener(this._valueChangedEvent,this._onValueChanged)}else{this.addEventListener("input",this._onInput)}if(""!==this._inputElementValue){this._handleValueAndAutoValidate(input)}else{this._handleValue(this._inputElement)}})}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("addon-attached",this._onAddonAttached);this.removeEventListener("iron-input-validate",this._onIronInputValidate);this.removeEventListener("focus",this._onFocus);this.removeEventListener("blur",this._onBlur)}ready(){super.ready();if(!this._addons){this._addons=[]}}_onAddonAttached(event){if(!this._addons){this._addons=[]}const target=event.target;if(-1===this._addons.indexOf(target)){this._addons.push(target);if(this.isAttached){this._handleValue(this._inputElement)}}}_onFocus(){this._setFocused(!0)}_onBlur(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)}_onInput(event){this._handleValueAndAutoValidate(event.target)}_onValueChanged(event){this._handleValueAndAutoValidate(event.target)}_handleValue(inputElement){const value=this._inputElementValue;this.updateAddons({inputElement:inputElement,value:value,invalid:this.invalid})}_handleValueAndAutoValidate(inputElement){if(this.autoValidate){let valid;if(inputElement.validate){valid=inputElement.validate(this._inputElementValue)}else{valid=inputElement.checkValidity()}this.invalid=!valid}this._handleValue(inputElement)}_onIronInputValidate(){this.invalid=this._inputElement.invalid}_invalidChanged(){if(this._addons){this.updateAddons({invalid:this.invalid})}}updateAddons(state){let addon;for(let index=0,len=this._addons.length;index<len;index++){addon=this._addons[index];addon.update(state)}}}window.customElements.define(PaperInputContainer.is,PaperInputContainer);</script></dom-module><script>Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;Polymer.PaperInputBehavior=Polymer.dedupingMixin(base=>class extends Polymer.mixinBehaviors([Polymer.IronControlState,Polymer.IronA11yKeysBehavior],base){static get properties(){return{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},validationStates:{type:Array,notify:!0,observer:"_validationStatesChanged"},hasValidationMessage:{type:Boolean,notify:!0},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},tabindex:Number,_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}}}static get observers(){return["_computeValidityStatus(invalid, errorMessage)"]}get keyBindings(){return{"shift+tab:keydown":"_onShiftTabDown"}}get inputElement(){if(!this.$){this.$={}}if(!this.$.input){this._generateInputId();this.$.input=this.shadowRoot.querySelector("#"+this._inputId)}return this.$.input}get _focusableElement(){return this.inputElement}constructor(){super();this._onAddonAttached=this._onAddonAttached.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("addon-attached",this._onAddonAttached);if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex","0")}this._updateAriaLabelledBy()}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("addon-attached",this._onAddonAttached)}_appendStringWithSpace(str,more){if(str){str=str+" "+more}else{str=more}return str}_onAddonAttached(event){const target=event.path?event.path[0]:event.target;if(target.id){this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,target.id)}else{const id="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;target.id=id;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,id)}}validate(){return this.inputElement.validate()}_focusBlurHandler(event){Polymer.IronControlState._focusBlurHandler.call(this,event);if(this.focused&&!this._shiftTabPressed){this._focusableElement.focus()}}_onShiftTabDown(){const oldTabIndex=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");setTimeout(()=>{this.setAttribute("tabindex",oldTabIndex);this._shiftTabPressed=!1},1)}_handleAutoValidate(){if(this.autoValidate){this.validate()}}updateValueAndPreserveCaret(newValue){try{var start=this.inputElement.selectionStart;this.value=newValue;this.inputElement.selectionStart=start;this.inputElement.selectionEnd=start}catch(e){this.value=newValue}}_updateAriaLabelledBy(){const label=this.shadowRoot.querySelector("label");if(!label){this._ariaLabelledBy="";return}let labelledBy;if(label.id){labelledBy=label.id}else{labelledBy="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++;label.id=labelledBy}this._ariaLabelledBy=labelledBy}_onChange(event){if(this.shadowRoot){this.dispatchEvent(new CustomEvent(event.type,{detail:{sourceEvent:event},bubbles:event.bubbles,cancelable:event.cancelable}))}}_autofocusChanged(){if(this.autofocus&&this._focusableElement){const activeElement=document.activeElement,isActiveElementValid=activeElement instanceof HTMLElement,isSomeElementActive=isActiveElementValid&&activeElement!==document.body&&activeElement!==document.documentElement;if(!isSomeElementActive){this._focusableElement.focus()}}}_validationStatesChanged(validationStates){this.hasValidationMessage=!!validationStates}_computeValidityStatus(invalid,errorMessage){this.hasValidationMessage=invalid&&!!errorMessage}_generateInputId(){if(!this._inputId||""===this._inputId){this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++}}});</script><dom-module id="paper-input-error" assetpath="bower_components/paper-input/"><template><style>:host{display:block;@apply --paper-input-error;}.container{padding:5px;border-left:2px var(--paper-input-error-border-color, var(--anypoint-color-aluminum3)) solid;border-right:2px var(--paper-input-error-border-color, var(--anypoint-color-aluminum3)) solid;position:relative;@apply --paper-input-error-container;}:host([invalid]) .container{border-left-color:var(--anypoint-text-container-invalid-color, var(--anypoint-color-danger));border-right-color:var(--anypoint-text-container-invalid-color, var(--anypoint-color-danger));}ul{margin:0;padding:0;list-style-type:none;}li{@apply --anypoint-font-body;color:var(--anypoint-color-steel3);font-size:var(--paper-input-error-message-size, 12px);}li[validated]{color:var(--anypoint-color-aluminum4);text-decoration:line-through;}</style><div class="container"><ul><template is="dom-repeat" items="{{_messages}}"><li validated$="[[item.valid]]">[[item.message]]</li></template></ul><slot></slot></div></template><script>class PaperInputError extends Polymer.Element{static get is(){return"paper-input-error"}static get properties(){return{invalid:{type:Boolean,reflectToAttribute:!0},validationStates:Array,focused:Boolean,noCancelOnOutsideClick:{type:Boolean,value:!0},_messages:Array}}static get observers(){return["_renderList(invalid, focused, validationStates.*)"]}_renderList(invalid,focused,record){if(!focused&&!invalid||!record||!record.base||!record.base.length){this.opened=!1;return}this._messages=record.base;this.opened=!0}}window.customElements.define(PaperInputError.is,PaperInputError);</script></dom-module><dom-module id="iron-a11y-announcer" assetpath="bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=this}document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(text){this._text="";this.async(function(){this._text=text},100)},_onIronAnnounce:function(event){if(event.detail&&event.detail.text){this.announce(event.detail.text)}}});Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")}document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><dom-module id="iron-input" assetpath="bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:"iron-input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){Polymer.IronA11yAnnouncer.requestAvailability();this._previousValidInput="";this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null}},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0];if(this.inputElement&&this.inputElement.value){this.bindValue=this.inputElement.value}this.fire("iron-input-ready")},get _patternRegExp(){var pattern;if(this.allowedPattern){pattern=new RegExp(this.allowedPattern)}else{switch(this.inputElement.type){case"number":pattern=/[0-9.,e-]/;break;}}return pattern},_bindValueChanged:function(bindValue,inputElement){if(!inputElement){return}if(bindValue===void 0){inputElement.value=null}else if(bindValue!==inputElement.value){this.inputElement.value=bindValue}if(this.autoValidate){this.validate()}this.fire("bind-value-changed",{value:bindValue})},_onInput:function(){if(this.allowedPattern&&!this._patternAlreadyChecked){var valid=this._checkPatternValidity();if(!valid){this._announceInvalidCharacter("Invalid string of characters not entered.");this.inputElement.value=this._previousValidInput}}this.bindValue=this._previousValidInput=this.inputElement.value;this._patternAlreadyChecked=!1},_isPrintable:function(event){var anyNonPrintable=8==event.keyCode||9==event.keyCode||13==event.keyCode||27==event.keyCode,mozNonPrintable=19==event.keyCode||20==event.keyCode||45==event.keyCode||46==event.keyCode||144==event.keyCode||145==event.keyCode||32<event.keyCode&&41>event.keyCode||111<event.keyCode&&124>event.keyCode;return!anyNonPrintable&&!(0==event.charCode&&mozNonPrintable)},_onKeypress:function(event){if(!this.allowedPattern&&"number"!==this.inputElement.type){return}var regexp=this._patternRegExp;if(!regexp){return}if(event.metaKey||event.ctrlKey||event.altKey){return}this._patternAlreadyChecked=!0;var thisChar=String.fromCharCode(event.charCode);if(this._isPrintable(event)&&!regexp.test(thisChar)){event.preventDefault();this._announceInvalidCharacter("Invalid character "+thisChar+" not entered.")}},_checkPatternValidity:function(){var regexp=this._patternRegExp;if(!regexp){return!0}for(var i=0;i<this.inputElement.value.length;i++){if(!regexp.test(this.inputElement.value[i])){return!1}}return!0},validate:function(){if(!this.inputElement){this.invalid=!1;return!0}var valid=this.inputElement.checkValidity();if(valid){if(this.required&&""===this.bindValue){valid=!1}else if(this.hasValidator()){valid=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)}}this.invalid=!valid;this.fire("iron-input-validate");return valid},_announceInvalidCharacter:function(message){this.fire("iron-announce",{text:message})},_computeValue:function(bindValue){return bindValue}});</script></dom-module><dom-module id="api-url-editor" assetpath="bower_components/api-url-editor/"><template><style>:host{outline:none;display:block;@apply --api-url-editor;}input{@apply --paper-input-container-shared-input-style;@apply --paper-input-container-input-input-style;}label{pointer-events:none;}.markdown-body *{font-size:13px !important;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style><paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[alwaysFloatLabel]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><label hidden$="[[!label]]" slot="label">[[label]]</label><iron-input id$="[[_inputId]]" bind-value="{{value}}" slot="input" invalid="{{invalid}}"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type="url" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" on-blur="_onElementBlur" on-input="__userInputHandler" tabindex$="[[tabIndex]]" autosave$="[[autosave]]"></iron-input><template is="dom-if" if="[[invalid]]"><paper-input-error slot="add-on" invalid="">[[errorMessage]]</paper-input-error></template></paper-input-container></template><script>const _inputBehavior2=!(Polymer.PaperInputBehavior instanceof Array),_behaviorsQueue=[];let _base=ArcBehaviors.EventsTargetBehavior(Polymer.Element);if(_inputBehavior2){_base=Polymer.PaperInputBehavior(_base)}else{_behaviorsQueue.push(Polymer.PaperInputBehavior)}if(!Polymer.IronValidatableMixin){_behaviorsQueue.push(Polymer.IronValidatableBehavior)}else{_base=Polymer.IronValidatableMixin(_base)}_base=Polymer.mixinBehaviors(_behaviorsQueue,_base);class ApiUrlEditor extends _base{static get is(){return"api-url-editor"}static get properties(){return{label:{type:String,value:"Request URL"},value:{type:String,notify:!0,observer:"_onValueChanged"},errorMessage:{type:String,value:"The URL is invalid"},baseUri:String,endpointPath:String,_fullUri:{computed:"_computeFullUrl(baseUri, endpointPath)"},queryModel:{type:Array,notify:!0},pathModel:{type:Array,notify:!0},urlParams:{type:Array,computed:"_computeUrlParams(_fullUri)"},urlSearchRegexp:{type:RegExp,computed:"_computeUrlRegexp(_fullUri)"}}}static get observers(){return["_computeValueChanged(_fullUri, queryModel.*, pathModel.*)"]}constructor(){super();this._extValueChangedHandler=this._extValueChangedHandler.bind(this)}ready(){super.ready();this._elementReady=!0;if(this.value){this._handleAutoValidate()}}_attachListeners(node){node.addEventListener("url-value-changed",this._extValueChangedHandler)}_detachListeners(node){node.removeEventListener("url-value-changed",this._extValueChangedHandler)}_computeFullUrl(baseUri,endpointPath){if(!endpointPath){endpointPath="/"}if("/"!==endpointPath[0]){endpointPath="/"+endpointPath}if(!baseUri){return endpointPath}if("/"===baseUri[baseUri.length-1]){baseUri=baseUri.substr(0,baseUri.length-1)}return baseUri+endpointPath}_computeValueChanged(_fullUri,queryRecord,uriRecord){if(this.__ignoreValueChange){return}this._computeValue(queryRecord.base,uriRecord.base,_fullUri)}_computeValue(queryModel,pathModel,uri){if(!uri){this.set("value",void 0);return}uri=this._applyUriParams(uri,pathModel);uri=this._applyQueryParams(uri,queryModel);this.set("value",uri)}_formValuesFromModel(model){const result=new Map;if(!model||!model.length){return result}model.forEach(item=>{const value=this._valueFormModelItem(item);if(value!==void 0){result.set(item.name,value)}});return result}_valueFormModelItem(item){if(item.schema&&!1===item.schema.enabled){return}let value=item.value;if(!value&&item.required){if(0!==value&&!1!==value&&null!==value){value=""}}else if(!item.required){if(!value&&0!==value&&!1!==value&&null!==value){value=void 0}}return value}_applyUriParams(url,model){if(!model){return url}const uriParams=this._formValuesFromModel(model);for(let[name,value]of uriParams){if(!value){continue}value=value+"";if(""===value.trim()){continue}if("+"===name[0]||"#"===name[0]){value=encodeURI(value)}else{value=this._wwwFormUrlEncodePiece(value)}const re=this._createUrlReplaceRegex(name);url=url.replace(re,value)}return url}_createUrlReplaceRegex(name){if("+"===name[0]||"#"===name[0]){name="\\"+name}return new RegExp("{"+name+"}")}_applyQueryParams(url,model){if(!model){return url}let params=this._formValuesFromModel(model);const items=this._computeQueryItems(params);params=this._wwwFormUrlEncode(items);if(!params){return url}url+=-1===url.indexOf("?")?"?":"&";url+=params;return url}_computeQueryItems(params){const items=[];for(let[name,value]of params){if(value===void 0){continue}let isArray=!1;if(value instanceof Array){isArray=!0;if(!value.length||1===value.length&&!value[0]){continue}}if(isArray){for(let i=0,len=value.length;i<len;i++){if(value||0===value||!1===value){items.push({name:name,value:value[i]})}}}else{items.push({name:name,value:value})}}return items}_wwwFormUrlEncode(object){if(!object||!object.length){return""}const pieces=object.map(item=>{return this._wwwFormUrlEncodePiece(item.name)+"="+this._wwwFormUrlEncodePiece(item.value)});return pieces.join("&")}_wwwFormUrlEncodePiece(str){if(!str){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")}__userInputHandler(e){const value=e.target.value;let matches;const uriParams=this.urlParams,uriRegexp=this.urlSearchRegexp;if(uriParams&&uriRegexp){matches=value.match(uriRegexp);if(matches){matches.shift();this._applyUriValues(matches,uriParams)}}const matchesNew=value.match(/[^&?]*?=[^&?]*/g);if(!matchesNew){return}const params={};matchesNew.forEach(item=>this._applyQueryParamToObject(item,params));this._applyQueryParamsValues(params)}_applyQueryParamToObject(param,obj){if(!param||!obj||"string"!==typeof param){return}const parts=param.split("="),name=parts[0];if(name in obj){if(!(obj[name]instanceof Array)){obj[name]=[obj[name]]}obj[name].push(parts[1])}else{obj[name]=parts[1]}}_applyUriValues(values,names){for(let i=0,len=names.length;i<len;i++){const name=names[i],index=this._findModelIndex(name,"path");if(-1!==index){this.__ignoreValueChange=!0;this.set(["pathModel",index,"value"],values[i]);this.__ignoreValueChange=!1}}}_applyQueryParamsValues(map){if(!map){return}const keys=Object.keys(map);keys.forEach(key=>{const index=this._findModelIndex(key,"query");if(-1!==index){this.__ignoreValueChange=!0;this.set(["queryModel",index,"value"],map[key]);this.__ignoreValueChange=!1}})}_findModelIndex(name,type){const model=this[type+"Model"];if(!model){return-1}return model.findIndex(item=>item.name===name)}_onValueChanged(){if(!this._elementReady||this.__cancelValueChange){return}this.fire("url-value-changed",{value:this.value});this._handleAutoValidate()}_onElementBlur(){this._handleAutoValidate()}_extValueChangedHandler(e){if(e.composedPath()[0]===this){return}this.__cancelValueChange=!0;this.set("value",e.detail.value);this.__cancelValueChange=!1}_getValidity(){const value=this.value;if(!this.required&&!value){return!0}if(value===void 0){return!0}if(!value&&this.required){return!1}if(!value){return!0}if(-1!==value.indexOf("{")&&-1!==value.indexOf("}")){return!1}if(!this.shadowRoot){return!0}return this.shadowRoot.querySelector("input").validity.valid}_computeUrlRegexp(url){if(!url){return null}url=url.replace(/(\.|\/)/g,"\\$1");url=url.replace(/{\w+}/g,"([a-zA-Z0-9\\$\\-_\\.~\\+!'\\(\\)\\*]+)");return new RegExp(url)}_computeUrlParams(url){if(!url){return null}let paramsNames=url.match(/\{\w+\}/g);if(paramsNames){paramsNames=paramsNames.map(item=>item.substr(1,item.length-2))}return paramsNames}fire(type,detail){const e=new CustomEvent(type,{bubbles:!0,composed:!0,cancelable:!1,detail});this.dispatchEvent(e);return e}}window.customElements.define(ApiUrlEditor.is,ApiUrlEditor);</script></dom-module><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){if(!Polymer.Element){this.fire("iron-form-element-register")}},detached:function(){if(!Polymer.Element&&this._parentForm){this._parentForm.fire("iron-form-element-unregister",{target:this})}}};</script><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){if(this.required){this.setAttribute("aria-required","true")}else{this.removeAttribute("aria-required")}},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(this.value===void 0||null===this.value){this.value="on"}}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>(function(global){"use strict";if(!global.Anypoint){global.Anypoint={}}Anypoint.HoverableBehavior=Polymer.dedupingMixin(base=>{class Hmixin extends base{static get properties(){return{hovered:{type:Boolean,notify:!0,reflectToAttribute:!0}}}constructor(){super();this._hoverCallback=this._hoverCallback.bind(this);this._leaveCallback=this._leaveCallback.bind(this)}connectedCallback(){super.connectedCallback();Polymer.RenderStatus.afterNextRender(this,()=>{this.addEventListener("mouseover",this._hoverCallback);this.addEventListener("mouseleave",this._leaveCallback)})}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("mouseover",this._hoverCallback);this.removeEventListener("mouseleave",this._leaveCallback)}_hoverCallback(){this.hovered=!0}_leaveCallback(){this.hovered=!1}}return Hmixin})})(window);</script><dom-module id="paper-checkbox" assetpath="bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;@apply --anypoint-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;@apply --paper-checkbox;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}.checkboxContainer{display:inline-block;position:relative;margin-right:10px;vertical-align:middle;}.checkbox{position:relative;box-sizing:border-box;pointer-events:none;border:1px var(--paper-checkbox-input-border-bolor, var(--anypoint-color-aluminum4)) solid;-webkit-transition:box-shadow .3s linear;transition:box-shadow .3s linear;display:inline-block;vertical-align:text-top;width:20px;height:20px;}.checkmark{-webkit-transition:box-shadow .3s linear;transition:box-shadow .3s linear;box-sizing:content-box;box-sizing:initial;position:absolute;left:4px;top:calc(50% - 2px);width:3px;height:2px;-webkit-transform:rotate(45deg);transform:rotate(45deg);}.checkboxLabel{position:relative;display:inline-block;vertical-align:middle;white-space:normal;line-height:normal;padding-left:var(--paper-checkbox-label-spacing, 0);color:var(--paper-checkbox-label-color, var(--anypoint-color-steel1));@apply --paper-checkbox-label;}:host-context([dir="rtl"]) .checkboxLabel{padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}:host([checked]) .checkbox{background:var(--anypoint-color-primary);border:1px var(--anypoint-color-primary) solid;}:host([checked]) .checkmark{background:var(--anypoint-color-tertiary);box-shadow:2px 0 0 var(--anypoint-color-tertiary), 4px 0 0 var(--anypoint-color-tertiary), 4px -2px 0 var(--anypoint-color-tertiary), 4px -4px 0 var(--anypoint-color-tertiary), 4px -6px 0 var(--anypoint-color-tertiary);}:host([checked]) .checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--anypoint-color-steel1)));@apply --paper-checkbox-label-checked;}.checkboxLabel[hidden]{display:none;}:host([disabled]) .checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--paper-checkbox-label-color, var(--anypoint-color-steel1)));}:host([disabled][checked]) .checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--paper-checkbox-label-color, var(--anypoint-color-steel1)));opacity:0.5;}:host([disabled]) .checkboxLabel{opacity:0.65;}.checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--anypoint-color-danger));}:host([hovered]) .checkbox{box-shadow:0 0 0 0.25em rgba(0,0,0,.12);}:host(:not([checked])[hovered]) .checkmark{background:var(--anypoint-color-aluminum5);box-shadow:2px 0 0 var(--anypoint-color-aluminum5), 4px 0 0 var(--anypoint-color-aluminum5), 4px -2px 0 var(--anypoint-color-aluminum5), 4px -4px 0 var(--anypoint-color-aluminum5), 4px -6px 0 var(--anypoint-color-aluminum5);display:block;}</style><div class="checkboxContainer"><div class$="checkbox [[_computeCheckboxClass(checked, invalid)]]"><div class$="checkmark [[_computeCheckmarkClass(checked)]]"></div></div></div><div class="checkboxLabel"><slot></slot></div></template><script>class PaperCheckbox extends Polymer.mixinBehaviors([Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronCheckedElementBehavior],Anypoint.HoverableBehavior(Polymer.Element)){static get is(){return"paper-checkbox"}static get properties(){return{ariaActiveAttribute:{type:String,value:"aria-checked"}}}connectedCallback(){super.connectedCallback();if(!this.hasAttribute("role")){this.setAttribute("role","checkbox")}if(!this.hasAttribute("aria-checked")){this.setAttribute("aria-checked","false")}if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex","0")}}_computeCheckboxClass(checked,invalid){var className="";if(checked){className+="checked "}if(invalid){className+="invalid"}return className}_computeCheckmarkClass(checked){return checked?"":"hidden"}_buttonStateChanged(){if(this.disabled){return}if(this.isAttached){this.checked=this.active}}}window.customElements.define(PaperCheckbox.is,PaperCheckbox);</script></dom-module><script>"use strict";Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(resolve,reject){this.resolveCompletes=resolve;this.rejectCompletes=reject}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}var status=this.xhr.status||0;return 0===status||200<=status&&300>status},send:function(options){var xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",function(progress){this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total});this.fire("iron-request-progress-changed",{value:this.progress})}.bind(this));xhr.addEventListener("error",function(error){this._setErrored(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("timeout",function(error){this._setTimedOut(!0);this._updateStatus();var response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("abort",function(){this._setAborted(!0);this._updateStatus();var error=new Error("Request aborted."),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response)}.bind(this));xhr.addEventListener("loadend",function(){this._updateStatus();this._setResponse(this.parseResponse());if(!this.succeeded){var error=new Error("The request failed with status code: "+this.xhr.status),response=options.rejectWithRequest?{error:error,request:this}:error;this.rejectCompletes(response);return}this.resolveCompletes(this)}.bind(this));this.url=options.url;var isXHRAsync=!1!==options.async;xhr.open(options.method||"GET",options.url,isXHRAsync);var acceptType={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[options.handleAs],headers=options.headers||Object.create(null),newHeaders=Object.create(null);for(var key in headers){newHeaders[key.toLowerCase()]=headers[key]}headers=newHeaders;if(acceptType&&!headers.accept){headers.accept=acceptType}Object.keys(headers).forEach(function(requestHeader){if(/[A-Z]/.test(requestHeader)){Polymer.Base._error("Headers must be lower case, got",requestHeader)}xhr.setRequestHeader(requestHeader,headers[requestHeader])},this);if(isXHRAsync){xhr.timeout=options.timeout;var handleAs=options.handleAs;if(!!options.jsonPrefix||!handleAs){handleAs="text"}xhr.responseType=xhr._responseType=handleAs;if(!!options.jsonPrefix){xhr._jsonPrefix=options.jsonPrefix}}xhr.withCredentials=!!options.withCredentials;var body=this._encodeBodyObject(options.body,headers["content-type"]);xhr.send(body);return this.completes},parseResponse:function(){var xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType,prefixLen=xhr._jsonPrefix&&xhr._jsonPrefix.length||0;try{switch(responseType){case"json":if(preferResponseText||xhr.response===void 0){try{return JSON.parse(xhr.responseText)}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":default:{if(prefixLen){try{return JSON.parse(xhr.responseText.substring(prefixLen))}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},abort:function(){this._setAborted(!0);this.xhr.abort()},_encodeBodyObject:function(body,contentType){if("string"==typeof body){return body}var bodyObj=body;switch(contentType){case"application/json":return JSON.stringify(bodyObj);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(bodyObj);}return body},_wwwFormUrlEncode:function(object){if(!object){return""}var pieces=[];Object.keys(object).forEach(function(key){pieces.push(this._wwwFormUrlEncodePiece(key)+"="+this._wwwFormUrlEncodePiece(object[key]))},this);return pieces.join("&")},_wwwFormUrlEncodePiece:function(str){if(null===str||str===void 0||!str.toString){return""}return encodeURIComponent(str.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+")},_updateStatus:function(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}});</script><script>"use strict";Polymer({is:"iron-ajax",hostAttributes:{hidden:!0},properties:{url:{type:String},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},lastProgress:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},jsonPrefix:{type:String,value:""},bubbles:{type:Boolean,value:!1},rejectWithRequest:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, "+"body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],created:function(){this._boundOnProgressChanged=this._onProgressChanged.bind(this)},get queryString(){var queryParts=[],param,value;for(param in this.params){value=this.params[param];param=window.encodeURIComponent(param);if(Array.isArray(value)){for(var i=0;i<value.length;i++){queryParts.push(param+"="+window.encodeURIComponent(value[i]))}}else if(null!==value){queryParts.push(param+"="+window.encodeURIComponent(value))}else{queryParts.push(param)}}return queryParts.join("&")},get requestUrl(){var queryString=this.queryString,url=this.url||"";if(queryString){var bindingChar=0<=url.indexOf("?")?"&":"?";return url+bindingChar+queryString}return url},get requestHeaders(){var headers={},contentType=this.contentType;if(null==contentType&&"string"===typeof this.body){contentType="application/x-www-form-urlencoded"}if(contentType){headers["content-type"]=contentType}if("object"===typeof this.headers){for(var header in this.headers){headers[header]=this.headers[header].toString()}}return headers},_onProgressChanged:function(event){this._setLastProgress(event.detail.value)},toRequestOptions:function(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout,rejectWithRequest:this.rejectWithRequest}},generateRequest:function(){var request=document.createElement("iron-request"),requestOptions=this.toRequestOptions();this.push("activeRequests",request);request.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,request)).then(this._discardRequest.bind(this,request));var evt=this.fire("iron-ajax-presend",{request:request,options:requestOptions},{bubbles:this.bubbles,cancelable:!0});if(evt.defaultPrevented){request.abort();request.rejectCompletes(request);return request}if(this.lastRequest){this.lastRequest.removeEventListener("iron-request-progress-changed",this._boundOnProgressChanged)}request.addEventListener("iron-request-progress-changed",this._boundOnProgressChanged);request.send(requestOptions);this._setLastProgress(null);this._setLastRequest(request);this._setLoading(!0);this.fire("request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-request",{request:request,options:requestOptions},{bubbles:this.bubbles,composed:!0});return request},_handleResponse:function(request){if(request===this.lastRequest){this._setLastResponse(request.response);this._setLastError(null);this._setLoading(!1)}this.fire("response",request,{bubbles:this.bubbles,composed:!0});this.fire("iron-ajax-response",request,{bubbles:this.bubbles,composed:!0})},_handleError:function(request,error){if(this.verbose){Polymer.Base._error(error)}if(request===this.lastRequest){this._setLastError({request:request,error:error,status:request.xhr.status,statusText:request.xhr.statusText,response:request.xhr.response});this._setLastResponse(null);this._setLoading(!1)}this.fire("iron-ajax-error",{request:request,error:error},{bubbles:this.bubbles,composed:!0});this.fire("error",{request:request,error:error},{bubbles:this.bubbles,composed:!0})},_discardRequest:function(request){var requestIndex=this.activeRequests.indexOf(request);if(-1<requestIndex){this.splice("activeRequests",requestIndex,1)}},_requestOptionsChanged:function(){this.debounce("generate-request",function(){if(null==this.url){return}if(this.auto){this.generateRequest()}},this.debounceDuration)}});</script><dom-module id="iron-form" assetpath="bower_components/iron-form/"><template><style>:host{display:block;}</style><slot></slot><form id="helper" action$="[[action]]" method$="[[method]]" enctype$="[[enctype]]"></form></template><script>(function(){Polymer({is:"iron-form",properties:{allowRedirect:{type:Boolean,value:!1},headers:{type:Object,value:function(){return{}}},withCredentials:{type:Boolean,value:!1}},attached:function(){if(this._form){return}this._form=Polymer.dom(this).querySelector("form");if(this._form){this._init();this.async(this._saveInitialValues.bind(this),1)}else{this._nodeObserver=Polymer.dom(this).observeNodes(function(mutations){for(var i=0;i<mutations.addedNodes.length;i++){if("FORM"===mutations.addedNodes[i].tagName){this._form=mutations.addedNodes[i];this._init();Polymer.dom(this).unobserveNodes(this._nodeObserver);this._nodeObserver=null}}}.bind(this))}},detached:function(){if(this._nodeObserver){Polymer.dom(this).unobserveNodes(this._nodeObserver);this._nodeObserver=null}},_init:function(){this._form.addEventListener("submit",this.submit.bind(this));this._form.addEventListener("reset",this.reset.bind(this));this._defaults=this._defaults||new WeakMap;this._saveInitialValues()},saveResetValues:function(){this._saveInitialValues(!0)},_saveInitialValues:function(overwriteValues){for(var nodes=this._getValidatableElements(),i=0,node;i<nodes.length;i++){node=nodes[i];if(!this._defaults.has(node)||overwriteValues){var defaults={value:node.value};if("checked"in node){defaults.checked=node.checked}if("invalid"in node){defaults.invalid=node.invalid}this._defaults.set(node,defaults)}}},validate:function(){if(!this._form){return!1}if(""===this._form.getAttribute("novalidate"))return!0;for(var valid=this._form.checkValidity(),elements=this._getValidatableElements(),el,i=0,validatable;el=elements[i],i<elements.length;i++){validatable=el;if(validatable.validate){valid=!!validatable.validate()&&valid}}return valid},submit:function(event){if(event){event.preventDefault()}if(!this._form){return}if(!this.validate()){this.fire("iron-form-invalid");return}this.$.helper.textContent="";var json=this.serializeForm();if(this.allowRedirect){for(var element in json){this.$.helper.appendChild(this._createHiddenElement(element,json[element]))}this.$.helper.action=this._form.getAttribute("action");this.$.helper.method=this._form.getAttribute("method")||"GET";this.$.helper.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded";this.$.helper.submit();this.fire("iron-form-submit")}else{this._makeAjaxRequest(json)}},reset:function(event){if(event)event.preventDefault();if(!this._form){return}if(!event||"reset"!==event.type||event.target!==this._form){this._form.reset();return}for(var nodes=this._getValidatableElements(),i=0,node;i<nodes.length;i++){node=nodes[i];if(this._defaults.has(node)){var defaults=this._defaults.get(node);for(var propName in defaults){node[propName]=defaults[propName]}}}this.fire("iron-form-reset")},serializeForm:function(){for(var elements=this._getSubmittableElements(),json={},i=0,values;i<elements.length;i++){values=this._serializeElementValues(elements[i]);for(var v=0;v<values.length;v++){this._addSerializedElement(json,elements[i].name,values[v])}}return json},_handleFormResponse:function(event){this.fire("iron-form-response",event.detail)},_handleFormError:function(event){this.fire("iron-form-error",event.detail)},_makeAjaxRequest:function(json){if(!this.request){this.request=document.createElement("iron-ajax");this.request.addEventListener("response",this._handleFormResponse.bind(this));this.request.addEventListener("error",this._handleFormError.bind(this))}this.request.url=this._form.getAttribute("action");this.request.method=this._form.getAttribute("method")||"GET";this.request.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded";this.request.withCredentials=this.withCredentials;this.request.headers=this.headers;if("POST"===this._form.method.toUpperCase()){this.request.body=json}else{this.request.params=json}var event=this.fire("iron-form-presubmit",{},{cancelable:!0});if(!event.defaultPrevented){this.request.generateRequest();this.fire("iron-form-submit",json)}},_getValidatableElements:function(){return this._findElements(this._form,!0,!1)},_getSubmittableElements:function(){return this._findElements(this._form,!1,!1)},_findElements:function(parent,ignoreName,skipSlots,submittable){submittable=submittable||[];for(var nodes=Polymer.dom(parent).querySelectorAll("*"),i=0;i<nodes.length;i++){if(!skipSlots&&("slot"===nodes[i].localName||"content"===nodes[i].localName)){this._searchSubmittableInSlot(submittable,nodes[i],ignoreName)}else{this._searchSubmittable(submittable,nodes[i],ignoreName)}}return submittable},_searchSubmittableInSlot:function(submittable,node,ignoreName){for(var assignedNodes=Polymer.dom(node).getDistributedNodes(),i=0;i<assignedNodes.length;i++){if(assignedNodes[i].nodeType===Node.TEXT_NODE){continue}this._searchSubmittable(submittable,assignedNodes[i],ignoreName);for(var nestedAssignedNodes=Polymer.dom(assignedNodes[i]).querySelectorAll("*"),j=0;j<nestedAssignedNodes.length;j++){this._searchSubmittable(submittable,nestedAssignedNodes[j],ignoreName)}}},_searchSubmittable:function(submittable,node,ignoreName){if(this._isSubmittable(node,ignoreName)){submittable.push(node)}else if(node.root){this._findElements(node.root,ignoreName,!0,submittable)}},_isSubmittable:function(node,ignoreName){return!node.disabled&&(ignoreName?node.name||"function"===typeof node.validate:node.name)},_serializeElementValues:function(element){var tag=element.tagName.toLowerCase();if("button"===tag||"input"===tag&&("submit"===element.type||"reset"===element.type)){return[]}if("select"===tag){return this._serializeSelectValues(element)}else if("input"===tag){return this._serializeInputValues(element)}else{if(element._hasIronCheckedElementBehavior&&!element.checked)return[];return[element.value]}},_serializeSelectValues:function(element){for(var values=[],i=0;i<element.options.length;i++){if(element.options[i].selected){values.push(element.options[i].value)}}return values},_serializeInputValues:function(element){var type=element.type.toLowerCase();if(("checkbox"===type||"radio"===type)&&!element.checked||"file"===type){return[]}return[element.value]},_createHiddenElement:function(name,value){var input=document.createElement("input");input.setAttribute("type","hidden");input.setAttribute("name",name);input.setAttribute("value",value);return input},_addSerializedElement:function(json,name,value){if(json[name]===void 0){json[name]=value}else{if(!Array.isArray(json[name])){json[name]=[json[name]]}json[name].push(value)}}})})();</script></dom-module><dom-module id="paper-input" assetpath="bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{min-width:0;}iron-input > input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit;padding:0 10px;box-sizing:border-box;@apply --paper-input-container-input-input-style;}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]" placeholder="[[placeholder]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]" validation-states="{{validationStates}}"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[hasValidationMessage]]"><paper-input-error slot="add-on" aria-live="assertive" invalid="[[invalid]]" focused="[[focused]]" validation-states="{{validationStates}}" horizontal-align="right">[[errorMessage]]</paper-input-error></template></paper-input-container></template></dom-module><script>class PaperInput extends Polymer.PaperInputBehavior(Polymer.Element){static get is(){return"paper-input"}constructor(){super();this._onIronInputReady=this._onIronInputReady.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("iron-input-ready",this._onIronInputReady)}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("iron-input-ready",this._onIronInputReady)}get _focusableElement(){return this.inputElement._inputElement}_onIronInputReady(){if(!!this.inputElement.bindValue){this.shadowRoot.querySelector("paper-input-container")._handleValueAndAutoValidate(this.inputElement)}}}window.customElements.define(PaperInput.is,PaperInput);</script><dom-module id="api-property-form-item" assetpath="bower_components/api-property-form-item/"><template><style>:host([required]) paper-input{--paper-input-container-label:{color:var(--api-property-form-item-input-label-color, var(--raml-type-form-input-required-label-color, rgba(0, 0, 0, 0.74)));};}:host([required]) paper-input{--paper-input-container-label:{color:var(--api-property-form-item-input-label-required-color, var(--raml-type-form-input-required-label-color-required, rgba(0, 0, 0, 0.72)));font-weight:500;};}:host([is-array]) .content{padding-left:8px;border-left:1px var(--raml-type-form-input-array-border-color, rgba(0, 0, 0, 0.14)) solid;}:host([is-nillable]:not([is-array])) .content{@apply --layout-horizontal;@apply --layout-center;}.action-icon{color:var(--from-row-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:opacity 0.2s ease-in-out, color 0.2s ease-in-out;}.action-icon:hover{color:var(--from-row-action-icon-color-hover, var(--accent-color, rgba(0, 0, 0, 0.88)));}.array-item{@apply --layout-horizontal;}paper-input,
    paper-dropdown-menu{@apply --layout-flex;}paper-dropdown-menu{width:100%;}paper-button iron-icon{margin-right:12px;}label{@apply --arc-font-caption;}paper-item:hover{@apply --paper-item-hover;}.nil-option{margin-left:8px;}</style><div class="content"><template is="dom-if" if="[[isEnum]]"><paper-dropdown-menu label="[[model.schema.inputLabel]]" name="[[name]]" required="[[model.required]]" auto-validate="" data-type="enum" no-label-float="[[noLabelFloat]]" disabled="[[readonly]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{value}}"><template is="dom-repeat" items="[[model.schema.enum]]"><paper-item data-value$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[isBoolean]]"><paper-dropdown-menu label="[[model.schema.inputLabel]]" name="[[name]]" required="[[model.required]]" auto-validate="" data-type="boolean" no-label-float="[[noLabelFloat]]" disabled="[[readonly]]"><paper-listbox slot="dropdown-content" attr-for-selected="data-value" selected="{{value}}"><paper-item data-value="true">True</paper-item><paper-item data-value="false">False</paper-item></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[isInput]]"><paper-input label="[[model.schema.inputLabel]]" value="{{value}}" required="[[model.required]]" pattern="[[model.schema.pattern]]" name="[[name]]" auto-validate="" type="[[model.schema.inputType]]" min="[[model.schema.minimum]]" max="[[model.schema.maximum]]" maxlength="[[model.schema.maxLength]]" minlength="[[model.schema.minLength]]" always-float-label="[[_computeAlwaysFloatLabel(model.schema.inputFloatLabel, model.schema.inputType)]]" placeholder="[[model.schema.inputPlaceholder]]" no-label-float="[[noLabelFloat]]" readonly="[[readonly]]" data-type="input"></paper-input></template><template is="dom-if" if="[[isArray]]"><label hidden$="[[noLabelFloat]]">[[model.schema.inputLabel]]</label><template is="dom-repeat" items="[[arrayValue]]" class="array-repeater"><div class="array-item"><paper-input label="Parameter value" value="{{item.value}}" required="[[model.required]]" pattern="[[model.schema.pattern]]" name="[[name]]" auto-validate="" type="[[model.schema.inputType]]" min="[[model.schema.minimum]]" max="[[model.schema.maximum]]" maxlength="[[model.schema.maxLength]]" minlength="[[model.schema.minLength]]" no-label-float="" on-input="_arrayValueChanged" readonly="[[readonly]]" data-type="array"></paper-input><template is="dom-if" if="[[index]]"><paper-icon-button class="action-icon" suffix="" icon="arc:remove-circle-outline" on-tap="_removeArrayValue" title="Remove array value" disabled="[[readonly]]"></paper-icon-button></template></div></template><div class="add-action"><paper-button on-tap="addEmptyArrayValue" title="Add array velue button" disabled="[[readonly]]"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add array value icon"></iron-icon>Add array value</paper-button></div></template><template is="dom-if" if="[[_renderNillable]]"><paper-checkbox class="nil-option" on-checked-changed="_nillableChanged">Nil</paper-checkbox></template></div></template><script>class ApiPropertyFormItem extends Polymer.mixinBehaviors(Polymer.IronValidatableBehavior,Polymer.Element){static get is(){return"api-property-form-item"}static get properties(){return{model:{type:Array,observer:"_modelChanged"},name:{type:String,reflectToAttribute:!0},value:{type:String,notify:!0},isEnum:{type:Boolean,readOnly:!0},isInput:{type:Boolean,value:!0,readOnly:!0},isArray:{type:Boolean,reflectToAttribute:!0,readOnly:!0},isNillable:{type:Boolean,reflectToAttribute:!0,readOnly:!0},isBoolean:{type:Boolean,readOnly:!0},arrayValue:{type:Array,readOnly:!0},noLabelFloat:Boolean,required:{type:Boolean,reflectToAttribute:!0},readonly:Boolean,_renderNillable:{type:Boolean,computed:"_computeRenderNillable(isNillable, isArray)"}}}static get observers(){return["_isArrayChanged(isArray, value)"]}_resetStates(){this._setIsEnum(!1);this._setIsInput(!1);this._setIsArray(!1);this._setIsBoolean(!1);this._setIsNillable(!1)}_modelChanged(model){this._resetStates();if(!model){return}const schema=model.schema;switch(!0){case schema.isEnum:this._setIsEnum(!0);break;case schema.isArray:this._prepareArraySchema(model);break;case schema.isBool:this._setIsBoolean(!0);break;default:this._setIsInput(!0);}this._setIsNillable(!!schema.isNillable)}_prepareArraySchema(model){this._setIsArray(!0);let value;if(model.value&&model.value instanceof Array){value=model.value.map(item=>{return{value:item}})}else{value=[]}this._setArrayValue(value)}_isArrayChanged(isArray){if(this.__internalChange){return}const v=this.value;if(!v||!isArray){this._setArrayValue(void 0);return}this._setArrayValue(this._itemsForArray(v))}_itemsForArray(value){let result=[];if(value instanceof Array){result=value.map(function(item){return{value:item}})}else{result.push({value:value})}return result}_arrayValueChanged(){let arr=this.arrayValue;if(arr){arr=arr.map(function(item){return item.value})}this.__internalChange=!0;this.set("value",arr);this.__internalChange=!1}addEmptyArrayValue(){if(this.arrayValue){this.push("arrayValue",{value:""})}else{this.set("arrayValue",[{value:""}])}return this.arrayValue.length-1}removeArrayValue(index){this.splice("arrayValue",index,1);this._arrayValueChanged()}_removeArrayValue(e){const repeater=this.shadowRoot.querySelector(".array-repeater"),index=repeater.indexForElement(e.target);this.removeArrayValue(index)}_defaultValidator(){const m=this.model;if(!m){return!0}return!!m.required&&!!m.value}_getValidity(){if(this._nilEnabled){return!0}switch(!0){case this.isInput:const input=this.shadowRoot.querySelector("paper-input[data-type=\"input\"]");return input?input.validate():this._defaultValidator();case this.isBoolean:const bool=this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"boolean\"]");return bool?bool.validate():this._defaultValidator();case this.isEnum:const en=this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"enum\"]");return en?en.validate():this._defaultValidator();case this.isArray:let inputs=this.shadowRoot.querySelectorAll("paper-input[data-type=\"array\"]");for(let i=0;i<inputs.length;i++){if(!inputs[i].validate()){return!1}}return!0;default:return this._defaultValidator();}}_computeRenderNillable(isNillable,isArray){return!!isNillable&&!isArray}_nillableChanged(e){const{value}=e.detail;this._nilEnabled=value;const input=this._getInput();if(input){input.disabled=value}if(value){this._oldNilValue=this.value;this.value="nil"}else{if(this._oldNilValue){this.value=this._oldNilValue;this._oldNilValue=void 0}else if("nil"===this.value){this.value=""}}}_getInput(){if(this.isEnum){return this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"enum\"]")}if(this.isBoolean){return this.shadowRoot.querySelector("paper-dropdown-menu[data-type=\"boolean\"]")}if(this.isInput){return this.shadowRoot.querySelector("paper-input[data-type=\"input\"]")}}_computeAlwaysFloatLabel(inputFloatLabel,inputType){if(inputFloatLabel){return inputFloatLabel}return-1!==["date","datetime","datetime-local","month","time","week","file"].indexOf(inputType)}}window.customElements.define(ApiPropertyFormItem.is,ApiPropertyFormItem);</script></dom-module><script>(function(global){"use strict";if(!global.ArcBehaviors){global.ArcBehaviors={}}ArcBehaviors.ApiFormMixin=Polymer.dedupingMixin(base=>{class AFmixin extends base{static get properties(){return{model:{type:Array,notify:!0},optionalOpened:{type:Boolean,reflectToAttribute:!0},hasOptional:{type:Boolean,computed:"_computeHasOptionalParameters(allowHideOptional, model.*)",notify:!0},allowHideOptional:Boolean,renderOptionalCheckbox:{type:Boolean,computed:"_computeRenderCheckbox(allowHideOptional, hasOptional)"},allowDisableParams:Boolean,allowCustom:Boolean,narrow:Boolean,renderEmptyMessage:{type:Boolean,value:!0,computed:"_computeRenderEmptyMessage(allowCustom, model)"}}}computeFormRowClass(item,allowHideOptional,optionalOpened,allowDisableParams){let clazz="param-value";if(item&&item.required){clazz+=" required"}else if(allowHideOptional){clazz+=" optional"}if(optionalOpened){clazz+=" with-optional"}if(allowDisableParams){clazz+=" has-enable-button"}return clazz}toggleOptionalParams(){if(!this.allowHideOptional){return}this.optionalOpened=!this.optionalOpened}_getForm(){if(!this.$.form&&this.shadowRoot){this.$.form=this.shadowRoot.querySelector("iron-form")}return this.$.form}_getValidity(){const form=this._getForm();if(!form){return!0}return form.validate()}serializeForm(){const form=this._getForm();if(!form){return}return form.serializeForm()}_computeHasOptionalParameters(allowHideOptional,record){if(!allowHideOptional||!record.base||!record.path){return!1}if("model"!==record.path&&"model.splices"!==record.path){return this.hasOptional}return record.base.some(item=>!1===item.required)}_computeRenderCheckbox(render,has){return render&&has}_computeIsCustom(model){if(!model||!model.schema||!model.schema.isCustom){return!1}return!0}addCustom(binding,opts){if(!opts){opts={}}const e=new CustomEvent("api-property-model-build",{bubbles:!0,composed:!0,cancelable:!0,detail:{name:opts.name||"",value:opts.value||"",binding:binding,schema:{enabled:!0,isCustom:!0,inputLabel:opts.inputLabel||void 0}}});this.dispatchEvent(e);if(this.model){this.push("model",e.detail)}else{this.set("model",[e.detail])}this.optionalOpened=!0}_removeCustom(e){this.splice("model",e.model.get("index"),1)}computeIsOptional(hasOptional,model){if(!hasOptional){return!1}if(!model||!model.required){return!0}return!1}_computeRenderEmptyMessage(allowCustom,model){return!allowCustom&&!model}}return AFmixin})})(window);</script><dom-module id="api-form-styles" assetpath="bower_components/api-form-mixin/"><template><style>.form-item{@apply --layout-horizontal;@apply --layout-start;@apply --api-form-row;}:host([narrow]) .form-item,
    .narrow .form-item{display:block;@apply --api-form-row-narrow;}.form-item[data-optional]{display:none;@apply --api-form-row-optional;}:host([optional-opened]) [data-optional]{@apply --layout-horizontal;@apply --api-form-row-optional-visible;}.action-button{transition:color 0.25s ease-in-out, background-color 0.25s ease-in-out;margin:var(--api-form-action-button-margin-top, 0);color:var(--api-form-action-button-color, var(--secondary-button-color, var(--accent-color)));background-color:var(--api-form-action-button-background-color, var(--secondary-button-background));@apply --secondary-button;@apply --api-form-action-button;}.action-button:hover{color:var(--api-form-action-button-hover-color, var(--secondary-button-color, var(--accent-color)));background-color:var(--api-form-action-button-hover-background-color, var(--secondary-button-background));@apply --secondary-button-hover;@apply --api-form-action-button-hover;}.action-button .action-icon{margin-right:12px;color:var(--api-form-action-button-color, var(--secondary-button-color, var(--accent-color)));}.action-button:hover .action-icon{color:var(--api-form-action-button-hover-color, var(--secondary-button-color, var(--accent-color)));}.hint-icon{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s ease-in-out;@apply --icon-button;}.hint-icon:hover{color:var(--hint-trigger-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));@apply --icon-button-hover;}.action-icon{color:var(--api-form-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:color 0.2s ease-in-out;}.action-icon:hover{color:var(--api-form-action-icon-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));}marked-element{background-color:var(--inline-documentation-background-color, #FFF3E0);padding:4px;}.docs{@apply --arc-font-body1;color:var(--inline-documentation-color, rgba(0, 0, 0, 0.87));margin-right:40px;}.markdown-body *{font-size:var(--inline-documentation-font-size, 13px) !important;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style></template></dom-module><dom-module id="api-url-params-custom-input" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style include="markdown-styles">:host{display:block;@apply --api-url-params-custom-input;}.form-row{@apply --layout-horizontal;@apply --layout-center;@apply --api-request-parameters-editor-row;}.name-field,
    .value-field{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-start;}.param-name,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.narrow.form-row{display:block;@apply --api-request-parameters-editor-row-narrow;}.name-field{margin-right:12px;}.narrow .name-field{margin-right:0;}</style><div class$="form-row [[_computeNarrowClass(narrow)]]"><div class="name-field"><paper-input value="{{name}}" label="Parameter name" class="param-name" type="text" required="" auto-validate=""></paper-input></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" required$="[[required]]"></api-property-form-item></div></div></template><script>class ApiUrlParamsCustomInput extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"api-url-params-custom-input"}static get properties(){return{model:Array,name:{type:String,notify:!0},value:{type:String,notify:!0},required:Boolean,narrow:Boolean}}_getValidity(){if(!this.required){return!0}if(!this.name){return!1}return!!this.value}_computeNarrowClass(narrow){return narrow?"narrow":""}}window.customElements.define(ApiUrlParamsCustomInput.is,ApiUrlParamsCustomInput);</script></dom-module><dom-module id="api-url-params-form" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles">:host{display:block;@apply --raml-request-parameters-form;@apply --api-url-params-form;}.param-value{@apply --raml-request-parameters-editor-row;@apply --api-url-params-form-row;}.param-value.optional{display:none;}.param-value.required{@apply --api-url-params-form-required;}.param-value.optional.with-optional{display:block;}.param-value .input{@apply --layout-horizontal;@apply --layout-flex;}.has-enable-button .docs{margin-left:32px;}.value-input{@apply --layout-horizontal;@apply --layout-start;@apply --layout-flex;}.value-input.is-array{@apply --layout-end;@apply --raml-request-parameters-form-array-parameter;@apply --api-url-params-form-array-parameter;}api-property-form-item,
    api-url-params-custom-input{@apply --layout-flex;margin-bottom:8px;}api-property-form-item[is-array]{margin-top:8px;}[hidden]{display:none !important;}.enable-checkbox{margin-top:var(--api-url-params-form-enable-checkbox-margin-top, 32px);margin-right:8px;}.enable-checkbox[data-array]{margin-top:var(--api-url-params-form-enable-checkbox-array-margin-top, 40px);}.params-title{@apply --layout-horizontal;@apply --layout-center;}.toggle-checkbox{--paper-checkbox-label-color:var(--api-url-params-editor-optional-checkbox-label-color, rgba(0, 0, 0, 0.74));}.param-value paper-icon-button{margin-top:var(--api-url-params-form-hint-icon-margin-top, 16px);}.param-value paper-icon-button[data-array]{margin-top:var(--api-url-params-form-hint-icon-array-margin-top, 24px);}.params-title ::slotted(h3){display:inline-block;margin-right:12px;@apply --api-url-params-editor-editor-subheader;}</style><div class="params-title"><slot name="title"></slot><template is="dom-if" if="[[renderOptionalCheckbox]]"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional parameters">Show optional parameters</paper-checkbox></template></div><iron-form><form enctype="application/json"><dom-repeat items="{{model}}" items-repeater=""><template><div class$="[[computeFormRowClass(item, allowHideOptional, optionalOpened, allowDisableParams)]]"><div class$="value-input [[_computeTypeClass(item.isArray)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" data-array$="[[item.schema.isArray]]" checked="{{item.schema.enabled}}" title="Enable/disable this header"></paper-checkbox></template><template is="dom-if" if="[[!_computeIsCustom(item.schema)]]"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" required$="[[item.required]]"></api-property-form-item></template><template is="dom-if" if="[[_computeIsCustom(item.schema)]]"><api-url-params-custom-input model="[[item]]" name="{{item.name}}" value="{{item.value}}" required$="[[item.required]]" narrow="[[narrow]]"></api-url-params-custom-input></template><template is="dom-if" if="[[_computeHasDocumentation(noDocs, item)]]"><paper-icon-button class="hint-icon" data-array$="[[item.schema.isArray]]" icon="arc:help" on-tap="_openDocs" title="Display documentation"></paper-icon-button></template><template is="dom-if" if="[[_computeIsCustom(item.schema)]]"><paper-icon-button title="Remove parameter" data-array$="[[item.schema.isArray]]" class="delete-icon action-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom"></paper-icon-button></template></div><template is="dom-if" if="[[_computeHasDocumentation(noDocs, item)]]"><div class="docs"><iron-collapse><marked-element markdown="[[_computeDocumentation(item)]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div></template></dom-repeat></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds new query parameter to the form"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add query parameter icon"></iron-icon>Add query parameter</paper-button></div></template></template><script>class ApiUrlParamsForm extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"api-url-params-form"}static get properties(){return{formType:String,noDocs:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback();this._ensureAttribute("role","form")}_computeTypeClass(isArray){return isArray?"is-array":""}_openDocs(e){const form=this._getForm(),template=form.querySelector("[items-repeater]"),model=template.modelForElement(e.target),collapse=form.querySelector(".param-value:nth-child("+(model.index+1)+") iron-collapse");if(!collapse){return}collapse.opened=!collapse.opened}_computeDocumentation(item){let docs="";if(item.description){docs+=item.description}if(!item.schema){return docs}const schema=item.schema;docs+="\n\n\n";if(schema.pattern){docs+="- Pattern: `"+schema.pattern+"`\n"}if(schema.examples&&schema.examples.length){schema.examples.forEach(item=>{docs+="- Example";if(item.hasName){docs+=" "+item.name}docs+=": `"+item.value+"`\n"})}return docs}_computeHasDocumentation(noDocs,item){if(noDocs){return!1}if(item.hasDescription){return!0}if(!item.schema){return!1}const schema=item.schema;if(schema.pattern){return!0}if(schema.examples&&schema.examples.length){return!0}return!1}_computeIsCustom(schema){if(!schema||!schema.isCustom){return!1}return!0}add(){this.addCustom("query")}_getValidity(){return this.shadowRoot.querySelector("iron-form").validate()}}window.customElements.define(ApiUrlParamsForm.is,ApiUrlParamsForm);</script></dom-module><dom-module id="api-url-params-editor" assetpath="bower_components/api-url-params-editor/"><template strip-whitespace=""><style>:host{display:block;@apply --raml-request-parameters-editor;@apply --api-url-params-editor;}.empty-message{@apply --raml-request-parameters-editor-no-params;@apply --api-url-params-editor-no-params;}.empty-message p{@apply --raml-request-parameters-editor-no-params-message;@apply --api-url-params-editor-no-params-message;}[hidden]{display:none !important;}</style><section hidden$="[[hasParameters]]" role="region" class="empty-message"><p>This endpoint doesn't require to declare query or URI parameters.</p></section><template is="dom-if" if="[[hasUriParameters]]"><api-url-params-form id="uriParametersForm" role="region" form-type="uri" model="{{uriModel}}" optional-opened="" no-docs="[[noDocs]]"><h3 slot="title">URI parameters</h3></api-url-params-form></template><template is="dom-if" if="[[hasQueryParameters]]"><api-url-params-form id="queryParametersForm" role="region" allow-hide-optional="" allow-disable-params="" allow-custom="[[allowCustom]]" form-type="query" model="{{queryModel}}" narrow="[[narrow]]" no-docs="[[noDocs]]"><h3 slot="title">Query parameters</h3></api-url-params-form></template></template><script>class ApiUrlParamsEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-url-params-editor"}static get properties(){return{queryModel:Array,hasQueryParameters:{type:Boolean,computed:"_computeHasData(queryModel, allowCustom)"},uriModel:Array,hasUriParameters:{type:Boolean,computed:"_computeHasData(uriModel)"},hasParameters:{type:Boolean,computed:"_computeHasParameters(hasQueryParameters,hasUriParameters,allowCustom)"},_queryModelMatcher:{type:Object,value:function(){return /queryModel.(\d+).(name|value|schema\.enabled)/}},_uriModelMatcher:{type:Object,value:function(){return /uriModel.(\d+).(name|value|schema\.enabled)/}},uriValue:{type:Object,notify:!0},queryValue:{type:Object,notify:!0},allowCustom:Boolean,narrow:Boolean,noDocs:Boolean}}static get observers(){return["_queryModelChanged(queryModel.*)","_uriModelChanged(uriModel.*)"]}constructor(){super();this._queryParamChangeHandler=this._queryParamChangeHandler.bind(this);this._uriParamChangeHandler=this._uriParamChangeHandler.bind(this)}_attachListeners(node){node.addEventListener("uri-parameter-changed",this._uriParamChangeHandler);node.addEventListener("query-parameter-changed",this._queryParamChangeHandler)}_detachListeners(node){node.removeEventListener("uri-parameter-changed",this._uriParamChangeHandler);node.removeEventListener("query-parameter-changed",this._queryParamChangeHandler)}_queryParamChangeHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const model=this.queryModel;this._appyEventValues(e.detail,model,"query")}_uriParamChangeHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const model=this.uriModel;this._appyEventValues(e.detail,model,"uri")}_appyEventValues(detail,model,source){if(!model||!model.length){return}const index=model.findIndex(item=>item.name===detail.name);if(-1===index){return}this.__cancelChangeEvent=!0;this.set([source+"Model",index,"value"],detail.value);this.__cancelChangeEvent=!1;const schema=model[index].schema;if(schema&&!1===schema.enabled){this.set([source+"Model",index,"schema","enabled"],!0)}}_computeHasData(model,allowCustom){return!!(model instanceof Array&&model.length)||!!allowCustom}_computeHasParameters(qp,up,allowCustom){return!!(qp||up)||!!allowCustom}_getValidity(){if(!this.shadowRoot){return!0}let validUri=!0,validUrl=!0;if(this.hasUriParameters){const uriForm=this.shadowRoot.querySelector("#uriParametersForm");validUri=uriForm?uriForm.validate():!0}if(this.hasQueryParameters){const urlForm=this.shadowRoot.querySelector("#queryParametersForm");validUrl=urlForm?urlForm.validate():!0}return validUri&&validUrl}_queryModelChanged(record){this._modelChanged("query",record)}_uriModelChanged(record){this._modelChanged("uri",record)}_modelChanged(type,record){if(!record||!record.path){return}if("uriModel"===record.path||"queryModel"===record.path){this._renotifyModelChange(type);this._updateModelValue(type)}else if("queryModel.splices"===record.path){const splices=record.value.indexSplices;if(!splices||!splices[0]){return}if(splices[0].removed&&splices[0].removed.length){this._syncValues(!0);this._notifyChange("query",splices[0].removed[0],!0)}}else{const re="uri"===type?this._uriModelMatcher:this._queryModelMatcher,matches=record.path.match(re);if(!matches){return}const item=this.get([type+"Model",+matches[1]]);this._notifyChange(type,item);if(-1!==record.path.indexOf("name")){this._syncValues()}this._updateValue(type,item)}Polymer.RenderStatus.afterNextRender(this,()=>{this.validate()})}_renotifyModelChange(type){const model="uri"===type?this.uriModel:this.queryModel;if(!model||!model.length){return}model.forEach(item=>this._notifyChange(type,item))}_notifyChange(type,model,removed){if(this.__cancelChangeEvent){return}let enabled=model.schema&&model.schema.enabled;if("boolean"!==typeof enabled){enabled=!0}const detail={name:model.name};if(removed){detail.removed=!0}else{detail.value=model.value;detail.enabled=enabled}const ev=new CustomEvent(type+"-parameter-changed",{detail:detail,cancelable:!0,bubbles:!0,composed:!0});this.dispatchEvent(ev)}_syncValues(forceReset){const model=this.queryModel,values=this.queryValue;if(!model||!values){return}Object.keys(values).forEach(key=>{const index=model.findIndex(item=>item.name===key);if(-1===index){delete this.queryValue[key]}});if(forceReset){this.queryValue=void 0;this.set("queryValue",values)}}_updateValue(type,item){const path=type+"Value",enabled=item.schema&&item.schema.enabled,result=this[path]||{};this[path]=void 0;if(!1===enabled){delete result[item.name]}else{result[item.name]=item.value}this.set(path,result)}_updateModelValue(type){const path=type+"Value",model="uri"===type?this.uriModel:this.queryModel;if(!model||!model.length){this.set(path,void 0);return}const result={};model.forEach(item=>{let enabled=item.schema&&item.schema.enabled;if(!1===enabled){return}result[item.name]=item.value});this.set(path,result)}}window.customElements.define(ApiUrlParamsEditor.is,ApiUrlParamsEditor);</script></dom-module><dom-module id="paper-masked-input" assetpath="bower_components/paper-masked-input/"><template><style>:host{display:block;}:host([disabled]){pointer-events:none;outline:none;@apply --paper-masked-input-disabled;}.action-icon{color:var(--content-action-button-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;}.action-icon:hover{color:var(--content-action-button-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}</style><paper-input label="[[label]]" type="[[_computeInputType(visible)]]" value="{{value}}" error-message="[[errorMessage]]" invalid="{{invalid}}" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" pattern$="[[pattern]]" autocomplete$="[[autocomplete]]" required$="[[required]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" tabindex="0" disabled$="[[disabled]]" no-label-float="[[noLabelFloat]]" always-float-label="[[alwaysFloatLabel]]" auto-validate$="[[autoValidate]]" id="input"><slot name="prefix" slot="prefix"></slot><paper-icon-button id="toggleButton" slot="suffix" on-tap="toggle" class="action-icon" icon="[[_computeToggleIcon(visible)]]" alt="Toggle icon" disabled$="[[disabled]]" title$="[[_computeToggleLabel(visible)]]"></paper-icon-button><slot name="suffix" slot="suffix"></slot></paper-input></template><script>class PaperMaskedInput extends Polymer.Element{static get is(){return"paper-masked-input"}static get properties(){return{label:String,value:{type:String,notify:!0},visible:{type:Boolean,value:!1,notify:!0},type:{type:String,value:"text"},errorMessage:String,invalid:{type:Boolean,notify:!0},allowedPattern:String,validator:String,pattern:String,autocomplete:{type:String,value:"off"},required:{type:Boolean,value:!1},autofocus:Boolean,inputmode:String,minlength:Number,maxlength:Number,name:String,placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:Number,autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1}}}connectedCallback(){super.connectedCallback();this._ensureAttribute("tabindex",-1)}toggle(){this.visible=!this.visible}_computeToggleLabel(visible){return visible?"Hide password":"Show password"}_computeToggleIcon(visible){return visible?"arc:visibility-off":"arc:visibility"}_computeInputType(visible){return visible?this.type:"password"}clear(){this.set("value","")}validate(){return this.inputElement.validate()}get inputElement(){return this.shadowRoot.querySelector("paper-input")}_disabledChanged(state){if(state){this.setAttribute("aria-disabled","true")}else{this.setAttribute("aria-disabled","false")}}}window.customElements.define(PaperMaskedInput.is,PaperMaskedInput);</script></dom-module><script>"use strict";if(!window.ArcBehaviors){window.ArcBehaviors={}}ArcBehaviors.AuthMethodsMixin=Polymer.dedupingMixin(base=>{class AMmixin extends base{static get properties(){return{stepStartIndex:{type:Number,value:1},noSteps:{type:Boolean,reflectToAttribute:!0},noink:Boolean,noDocs:{type:Boolean,value:!1}}}_getAuthType(){const name=this.nodeName.toLowerCase();switch(name){case"auth-method-basic":return"basic";case"auth-method-ntlm":return"ntlm";case"auth-method-oauth1":return"oauth1";case"auth-method-oauth2":return"oauth2";case"auth-method-digest":return"digest";}}_notifySettingsChange(type){const detail={settings:this.getSettings(),type:type,valid:this.validate()},e=new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0});this.dispatchEvent(e);return e}_computeHasDoc(noDocs,value){if(noDocs){return!1}return!!value}}return AMmixin});</script><dom-module id="auth-methods-styles" assetpath="bower_components/auth-methods/"><template><style>paper-input,
    paper-masked-input{max-width:560px;}.edit-icon{visibility:hidden;}[hidden]{display:none !important;}.hint-icon{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s ease-in-out;@apply --icon-button;}.hint-icon:hover{color:var(--hint-trigger-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));@apply --icon-button-hover;}.action-icon{color:var(--api-form-action-icon-color, var(--icon-button-color, rgba(0, 0, 0, 0.74)));transition:color 0.2s ease-in-out;}.action-icon:hover{color:var(--api-form-action-icon-hover-color, var(--accent-color, rgba(0, 0, 0, 0.88)));}.adv-toggle{margin-top:8px;}.markdown-body,
    .docs-container{@apply --arc-font-body1;color:var(--inline-documentation-color, rgba(0, 0, 0, 0.87));font-size:13px !important;}marked-element{background-color:var(--inline-documentation-background-color, #FFF3E0);padding:4px;}.markdown-body p:first-child{margin-top:0;padding-top:0;}.markdown-body p:last-child{margin-bottom:0;padding-bottom:0;}</style></template></dom-module><dom-module id="auth-method-step" assetpath="bower_components/auth-methods/"><template><style>.row{padding:12px 0;}.stepper{@apply --layout-horizontal;@apply --layout-center;position:relative;pointer-events:none;}:host([inactive]) .stepper{pointer-events:all;cursor:pointer;}.stepper .step{display:inline-block;background-color:var(--stepper-step-number-background-color, #3D8099);color:var(--stepper-step-number-color, #fff);font-size:14px;@apply --layout-center-center;@apply --layout-horizontal;width:24px;height:24px;border-radius:50%;margin-right:12px;}.stepper .step-header{position:relative;@apply --layout-flex;}.stepper .step-title{@apply --arc-font-body1;display:block;color:var(--stepper-step-title-color, #3D8099);font-size:16px;font-weight:500;}.edit-icon{margin-left:8px;color:var(--api-form-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;width:20px;height:20px;@apply --icon-button;}.edit-icon:hover{color:var(--api-form-action-icon-hover-color, rgba(0, 0, 0, 0.84));@apply --icon-button-hover;}.stepper .step-selection{@apply --arc-font-body1;color:var(--stepper-step-selection-label-color, rgba(0, 0, 0, 0.54));position:absolute;bottom:-16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;max-width:100%;}.step-content{@apply --layout-horizontal;min-height:32px;}.line{min-width:11px;max-width:11px;border-right:1px var(--stepper-line-color, rgba(0, 0, 0, 0.12)) solid;margin-right:24px;margin-top:8px;}.step-content .content{@apply --layout-flex;max-width:calc(100% - 16px);@apply --auth-methods-step-content;}.container{width:100%;}[hidden]{display:none !important;}paper-ripple{color:var(--stepper-step-title-color, #3D8099);}.step-title-render{@apply --layout-vertical;@apply --layout-center;@apply --layout-self-stretch;}.step-title-render .line{@apply --layout-flex;display:none;}:host([inactive]) .step-title-render .line{display:block;}:host([no-steps]) .line{display:none;}.step-inactive-title{@apply --arc-font-body1;font-size:16px;font-weight:400;margin-top:12px;display:block;@apply --layout-horizontal;@apply --layout-center;}:host([no-steps]) .stepper{display:none !important;}</style><div class="row"><div class="stepper"><div class="step-title-render"><span class="step">[[_computeStep(stepStartIndex, step)]]</span><div class="line"></div></div><span class="step-header" on-tap="_inactiveTap"><span class="step-title"><slot name="title"></slot><iron-icon icon="arc:edit" class="edit-icon" title="Click to make changes" hidden$="[[!inactive]]"></iron-icon></span><span class="step-inactive-title" hidden$="[[!inactive]]"><slot name="inactive-title"></slot></span></span><paper-ripple></paper-ripple></div><iron-collapse opened="[[_computeContentOpened(inactive, noSteps)]]"><div class="step-content"><div class="line"></div><div class="container"><slot></slot></div></div></iron-collapse></div></template><script>class AuthMethodStep extends Polymer.Element{static get is(){return"auth-method-step"}static get properties(){return{stepStartIndex:{type:Number,value:1},step:Number,noSteps:{type:Boolean,value:!1,reflectToAttribute:!0},title:String,inactive:{type:Boolean,reflectToAttribute:!0,value:!1}}}_computeStep(stepStartIndex,currentStep){return stepStartIndex+currentStep}_inactiveTap(){if(!this.inactive){return}this.dispatchEvent(new CustomEvent("inactive-tap",{bubbles:!1}))}_computeContentOpened(inactive,noSteps){if(noSteps){return!0}return!inactive}}window.customElements.define(AuthMethodStep.is,AuthMethodStep);</script></dom-module><dom-module id="auth-method-basic" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-basic;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input label="User name" value="{{username}}" name="username" type="text" required="" auto-validate="" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="clearUsername" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-masked-input label="Password" name="password" value="{{password}}" autocomplete="on"></paper-masked-input></form></iron-form></auth-method-step></template><script>class AuthMethodBasic extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-basic"}static get properties(){return{hash:{type:String,notify:!0},password:{type:String,notify:!0},username:{type:String,notify:!0}}}static get observers(){return["_hashChanged(hash)","_userInputChanged(username, password)","_settingsChanged(hash)"]}constructor(){super();this._onAuthSettings=this._onAuthSettings.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this)}_attachListeners(node){node.addEventListener("auth-settings-changed",this._onAuthSettings);node.addEventListener("request-header-changed",this._headerChangedHandler)}_detachListeners(node){node.removeEventListener("auth-settings-changed",this._onAuthSettings);node.removeEventListener("request-header-changed",this._headerChangedHandler)}reset(){this.set("hash","");this.set("username","");this.set("password","")}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent){return}const e=this._notifySettingsChange("basic");this._notifyHeaderChange(e.detail.settings)}getSettings(){return{hash:this.hash||"",password:this.password||"",username:this.username||""}}restore(settings){if(settings.hash){this.hash=settings.hash}else{this.password=settings.password;this.username=settings.username}}_hashChanged(hash){if(this._internalHashChange||!hash){return}try{const encoded=atob(hash),parts=encoded.split(":");if(parts.length){this._internalHashChange=!0;this.username=parts[0];if(parts[1]){this.password=parts[1]}this._internalHashChange=!1}}catch(e){console.warn(e);this.dispatchEvent(new CustomEvent("error",{detail:{error:e},bubbles:!1}))}}hashData(uid,passwd){if(!uid){uid=""}if(!passwd){passwd=""}let hash;if(uid||passwd){const enc=uid+":"+passwd;hash=btoa(enc)}else{hash=""}return hash}_userInputChanged(uid,passwd){this._internalHashChange=!0;this.set("hash",this.hashData(uid,passwd));this._internalHashChange=!1}clearUsername(){this.username=""}_onAuthSettings(e){if(e.target===this||"basic"!==e.detail.type){return}this.__cancelChangeEvent=!0;this.restore(e.detail.settings);this.__cancelChangeEvent=!1}_headerChangedHandler(e){if(e.defaultPrevented||e.target===this){return}let name=e.detail.name;if(!name){return}name=name.toLowerCase();if("authorization"!==name){return}let value=e.detail.value;if(!value){if(this.hash){this.reset()}return}let lowerValue=value.toLowerCase();if(0!==lowerValue.indexOf("basic")){if(this.hash){this.reset()}return}value=value.substr(6);this.__cancelHeaderEvent=!0;this.set("hash",value);this.__cancelHeaderEvent=!1}_notifyHeaderChange(settings){if(this.__cancelHeaderEvent){return}const value=settings&&settings.hash?"Basic "+settings.hash:"Basic ";this.dispatchEvent(new CustomEvent("request-header-changed",{detail:{name:"Authorization",value:value},bubbles:!0,composed:!0}))}}window.customElements.define(AuthMethodBasic.is,AuthMethodBasic);</script></dom-module><dom-module id="auth-method-digest" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-digest;}paper-item:hover{@apply --paper-item-hover;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input label="User name" value="{{username}}" type="text" required="" auto-validate="" autocomplete="on"><paper-icon-button class="action-icon" slot="suffix" on-tap="clearUsername" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-masked-input label="Password" value="{{password}}" required="" auto-validate="" autocomplete="on"></paper-masked-input><div class="adv-toggle"><paper-checkbox class="adv-settings-input" checked="{{fullForm}}">Advanced settings</paper-checkbox></div><iron-collapse opened="[[fullForm]]"><div class="extended-form"><paper-input label="Server issued realm" value="{{realm}}" type="text" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-input label="Server issued nonce" value="{{nonce}}" type="text" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-dropdown-menu label="Quality of protection"><paper-listbox slot="dropdown-content" selected="{{qop}}" attr-for-selected="data-qop"><paper-item data-qop="auth">auth</paper-item><paper-item data-qop="auth-int">auth-int</paper-item></paper-listbox></paper-dropdown-menu><paper-input label="Nounce count" value="{{nc}}" type="number" required="[[fullForm]]" auto-validate="" autocomplete="on"></paper-input><paper-dropdown-menu label="Hash algorithm"><paper-listbox slot="dropdown-content" selected="{{algorithm}}" attr-for-selected="data-algorithm"><paper-item data-algorithm="MD5">MD5</paper-item><paper-item data-algorithm="MD5-sess">MD5-sess</paper-item></paper-listbox></paper-dropdown-menu><paper-input label="Server issued opaque string" value="{{opaque}}" type="string" autocomplete="on"></paper-input><paper-input label="Client nounce" value="{{cnonce}}" type="string" autocomplete="on"></paper-input></div></iron-collapse></form></iron-form></auth-method-step></template><script>class AuthMethodDigest extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-digest"}static get properties(){return{password:{type:String,notify:!0,observer:"_processInput"},username:{type:String,notify:!0,observer:"_processInput"},fullForm:{type:Boolean,value:!1,observer:"_processInput"},realm:{type:String,observer:"_processInput"},nonce:{type:String,observer:"_processInput"},algorithm:{type:String,observer:"_processInput"},qop:{type:String,observer:"_processInput"},nc:{type:Number,value:1,observer:"_processInput"},cnonce:{type:String,observer:"_processInput"},opaque:{type:String,observer:"_processInput"},response:{type:String},httpMethod:{type:String,observer:"_processInput"},requestUrl:{type:String,observer:"_processInput"},requestBody:{type:String,observer:"_processInput"}}}constructor(){super();this._onUrlChanged=this._onUrlChanged.bind(this);this._onHttpMethodChanged=this._onHttpMethodChanged.bind(this);this._onBodyChanged=this._onBodyChanged.bind(this);this._onAuthSettings=this._onAuthSettings.bind(this)}_attachListeners(node){node.addEventListener("url-value-changed",this._onUrlChanged);node.addEventListener("http-method-changed",this._onHttpMethodChanged);node.addEventListener("body-value-changed",this._onBodyChanged);node.addEventListener("auth-settings-changed",this._onAuthSettings)}_detachListeners(node){node.removeEventListener("url-value-changed",this._onUrlChanged);node.removeEventListener("http-method-changed",this._onHttpMethodChanged);node.removeEventListener("body-value-changed",this._onBodyChanged);node.removeEventListener("auth-settings-changed",this._onAuthSettings)}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}getSettings(){if(!this.fullForm){return{password:this.password||"",username:this.username||""}}this.response=this.generateResponse();var settings={username:this.username||"",realm:this.realm,nonce:this.nonce,uri:this.requestUrl,response:this.response,opaque:this.opaque,qop:this.qop,nc:("00000000"+this.nc).slice(-8),cnonce:this.cnonce};return settings}restore(settings){this.username=settings.username;this.password=settings.password;this.realm=settings.realm;this.nonce=settings.nonce;this.opaque=settings.opaque;this.qop=settings.qop;this.nc=settings.nc;this.cnonce=settings.cnonce;if(settings.uri){this.requestUrl=settings.uri}if(settings.nc){this.nc=+settings.nc.replace(/0+/,"")}}_processInput(){if(!this.shadowRoot||this.__cancelChangeEvent){return}if(this.fullForm){if(!this.nc){this.set("nc",1);return}if(!this.cnonce){this.set("cnonce",this.generateCnonce());return}}this._notifySettingsChange("digest")}clearUsername(){this.username=""}generateCnonce(){for(var characters="abcdef0123456789",token="",i=0,randNum;16>i;i++){randNum=Math.round(Math.random()*characters.length);token+=characters.substr(randNum,1)}return token}generateResponse(){var HA1=this._getHA1(),HA2=this._getHA2(),ncString=("00000000"+this.nc).slice(-8),responseStr=HA1+":"+this.nonce;if(!this.qop){responseStr+=":"+HA2}else{responseStr+=":"+ncString+":"+this.cnonce+":"+this.qop+":"+HA2}return CryptoJS.MD5(responseStr).toString()}_getHA1(){var HA1param=this.username+":"+this.realm+":"+this.password,HA1=CryptoJS.MD5(HA1param).toString();if("MD5-sess"===this.algorithm){HA1param=HA1+":"+this.nonce+":"+this.cnonce;HA1=CryptoJS.MD5(HA1param).toString()}return HA1}_getHA2(){var HA2param=this.httpMethod+":"+this.requestUrl;if("auth-int"===this.qop){HA2param+=":"+CryptoJS.MD5(this.requestBody).toString()}return CryptoJS.MD5(HA2param).toString()}_onUrlChanged(e){this.requestUrl=e.detail.value}_onHttpMethodChanged(e){this.httpMethod=e.detail.value}_onBodyChanged(e){this.requestBody=e.detail.value}_onAuthSettings(e){if(e.target===this||"digest"!==e.detail.type){return}this.restore(e.detail.settings)}}window.customElements.define(AuthMethodDigest.is,AuthMethodDigest);</script></dom-module><dom-module id="auth-method-ntlm" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-ntlm;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><iron-form><form autocomplete="on"><paper-input required="" auto-validate="" label="User name" value="{{username}}" type="text" autocomplete="on"><paper-icon-button class="action-icon" slot="suffix" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear username"></paper-icon-button></paper-input><paper-masked-input required="" auto-validate="" label="Password" value="{{password}}" autocomplete="on"></paper-masked-input><paper-input label="NT domain" value="{{domain}}" type="text"><paper-icon-button class="action-icon" slot="suffix" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear domain"></paper-icon-button></paper-input></form></iron-form></auth-method-step></template><script>class AuthMethodNtlm extends ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"auth-method-ntlm"}static get properties(){return{domain:{type:String,notify:!0},password:{type:String,notify:!0},username:{type:String,notify:!0}}}static get observers(){return["_settingsChanged(username, password, domain)"]}constructor(){super();this._onAuthSettings=this._onAuthSettings.bind(this)}_attachListeners(node){node.addEventListener("auth-settings-changed",this._onAuthSettings)}_detachListeners(node){node.removeEventListener("auth-settings-changed",this._onAuthSettings)}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent){return}this._notifySettingsChange("ntlm")}getSettings(){return{domain:this.domain||"",password:this.password||"",username:this.username||""}}restore(settings){this.domain=settings.domain;this.password=settings.password;this.username=settings.username}_clearField(e){const path=e.composedPath();let inputTarget;while(inputTarget=path.shift()){if("INPUT"===inputTarget.nodeName||"PAPER-INPUT"===inputTarget.nodeName){break}}if(!inputTarget){return}inputTarget.value=""}_onAuthSettings(e){if(e.target===this||"ntlm"!==e.detail.type){return}this.__cancelChangeEvent=!0;this.restore(e.detail.settings);this.__cancelChangeEvent=!1}}window.customElements.define(AuthMethodNtlm.is,AuthMethodNtlm);</script></dom-module><dom-module id="paper-toast" assetpath="bower_components/paper-toast/"><template><style>:host{display:block;position:fixed;background-color:var(--paper-toast-background-color, #323232);color:var(--paper-toast-color, #f1f1f1);min-height:48px;min-width:288px;padding:16px 24px;box-sizing:border-box;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26);border-radius:2px;margin:12px;font-size:14px;cursor:default;-webkit-transition:-webkit-transform 0.3s, opacity 0.3s;transition:transform 0.3s, opacity 0.3s;opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px);@apply --paper-font-common-base;}:host(.capsule){border-radius:24px;}:host(.fit-bottom){width:100%;min-width:0;border-radius:0;margin:0;}:host(.paper-toast-open){opacity:1;-webkit-transform:translateY(0px);transform:translateY(0px);}</style><span id="label">{{text}}</span><slot></slot></template><script>(function(){"use strict";var currentToast=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3e3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");return this.opened},get _canAutoClose(){return 0<this.duration&&this.duration!==1/0},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},show:function(properties){if("string"==typeof properties){properties={text:properties}}for(var property in properties){if(0===property.indexOf("_")){Polymer.Base._warn("The property \""+property+"\" is private and was not set.")}else if(property in this){this[property]=properties[property]}else{Polymer.Base._warn("The property \""+property+"\" is not valid.")}}this.open()},hide:function(){this.close()},__onTransitionEnd:function(e){if(e&&e.target===this&&"opacity"===e.propertyName){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}},_openedChanged:function(){if(null!==this._autoClose){this.cancelAsync(this._autoClose);this._autoClose=null}if(this.opened){if(currentToast&&currentToast!==this){currentToast.close()}currentToast=this;this.fire("iron-announce",{text:this.text});if(this._canAutoClose){this._autoClose=this.async(this.close,this.duration)}}else if(currentToast===this){currentToast=null}Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(fitInto){this.positionTarget=fitInto}})})();</script></dom-module><script>Polymer({is:"iron-selector",behaviors:[Polymer.IronMultiSelectableBehavior]});</script><script>Polymer({is:"iron-a11y-keys",behaviors:[Polymer.IronA11yKeysBehavior],properties:{target:{type:Object,observer:"_targetChanged"},keys:{type:String,reflectToAttribute:!0,observer:"_keysChanged"}},attached:function(){if(!this.target){this.target=this.parentNode}},_targetChanged:function(target){this.keyEventTarget=target},_keysChanged:function(){this.removeOwnKeyBindings();this.addOwnKeyBinding(this.keys,"_fireKeysPressed")},_fireKeysPressed:function(event){this.fire("keys-pressed",event.detail,{})}});</script><script>Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(value){return(this._clampValue(value)-this.min)/(this.max-this.min)},_clampValue:function(value){return Math.min(this.max,Math.max(this.min,this._calcStep(value)))},_calcStep:function(value){value=parseFloat(value);if(!this.step){return value}var numSteps=Math.round((value-this.min)/this.step);if(1>this.step){return numSteps/(1/this.step)+this.min}else{return numSteps*this.step+this.min}},_validateValue:function(){var v=this._clampValue(this.value);this.value=this.oldValue=isNaN(v)?this.oldValue:v;return this.value!==v},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};</script><dom-module id="paper-progress" assetpath="bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(indeterminate){this.toggleClass("indeterminate",indeterminate,this.$.primaryProgress)},_transformProgress:function(progress,ratio){progress.style.transform=progress.style.webkitTransform="scaleX("+ratio/100+")"},_mainRatioChanged:function(ratio){this._transformProgress(this.$.primaryProgress,ratio)},_progressChanged:function(secondaryProgress,value,min,max,indeterminate){secondaryProgress=this._clampValue(secondaryProgress);value=this._clampValue(value);var secondaryRatio=100*this._calcRatio(secondaryProgress),mainRatio=100*this._calcRatio(value);this._setSecondaryRatio(secondaryRatio);this._transformProgress(this.$.secondaryProgress,secondaryRatio);this._transformProgress(this.$.primaryProgress,mainRatio);this.secondaryProgress=secondaryProgress;if(indeterminate){this.removeAttribute("aria-valuenow")}else{this.setAttribute("aria-valuenow",value)}this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max)},_disabledChanged:function(disabled){this.setAttribute("aria-disabled",disabled?"true":"false")},_hideSecondaryProgress:function(secondaryRatio){return 0===secondaryRatio}});</script><dom-module id="paper-autocomplete" assetpath="bower_components/paper-autocomplete/"><template><style>:host{position:absolute !important;left:0px;top:52px;@apply --paper-autocomplete;}.dropdown-container{overflow:auto;@apply --shadow-elevation-4dp;background-color:var(--paper-autocomplete-background-color, #fff);}</style><div id="container" class="dropdown-container"><paper-progress hidden$="[[!_showLoader]]" indeterminate=""></paper-progress><iron-selector selected="{{selectedItem}}" id="selector"><template is="dom-repeat" items="{{suggestions}}" id="repeater"><paper-item><div>{{_suggestionDisplay(item)}}</div><paper-ripple></paper-ripple></paper-item></template></iron-selector></div><iron-a11y-keys id="a11y" target="[[target]]" keys="up" on-keys-pressed="selectPrevious"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[target]]" keys="down" on-keys-pressed="selectNext"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[target]]" keys="enter" on-keys-pressed="acceptSelection"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="up" on-keys-pressed="selectPrevious"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="down" on-keys-pressed="selectNext"></iron-a11y-keys><iron-a11y-keys id="a11y" target="[[_keyTarget]]" keys="enter" on-keys-pressed="acceptSelection"></iron-a11y-keys></template><script>class PaperAutocomplete extends Polymer.mixinBehaviors([Polymer.IronOverlayBehavior,Polymer.IronScrollTargetBehavior],Polymer.Element){static get is(){return"paper-autocomplete"}static get properties(){return{source:{type:Array},value:{type:Object,notify:!0},suggestions:{type:Array,value:[],readOnly:!0},target:HTMLElement,selectedItem:{type:Number,value:0},scrollTarget:{type:HTMLElement},sizingTarget:{type:HTMLElement},loading:{type:Boolean,value:!1,readOnly:!0,notify:!0},loader:{type:Boolean,value:!1},_showLoader:{type:Boolean,computed:"_computeShowLoader(loader, loading)"},isAttached:Boolean,openOnFocus:{type:Boolean,value:!1},_oldTarget:HTMLElement,_keyTarget:{type:HTMLElement,value:function(){return this}}}}static get observers(){return["_targetChanged(target, isAttached)","_filterSuggestions(source, _oldTarget, isAttached)"]}constructor(){super();this.acceptSelection=this.acceptSelection.bind(this);this._valueChanged=this._valueChanged.bind(this);this._targetFocus=this._targetFocus.bind(this);this._targetClick=this._targetClick.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("tap",this.acceptSelection)}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("tap",this.acceptSelection)}ready(){super.ready();const target=this.shadowRoot.querySelector("#container");if(!this.scrollTarget){this.scrollTarget=target}if(!this.sizingTarget){this.sizingTarget=target}this.resetFit()}_targetChanged(target,isAttached){if(this._oldTarget){this._oldTarget.removeEventListener("input",this._valueChanged);this._oldTarget.removeEventListener("focus",this._targetFocus);this._oldTarget.removeEventListener("click",this._targetClick);this._oldTarget=null}if(!isAttached||!target){return}this.resetFit();if("string"===typeof target){throw new Error("Target must be an element")}else if(target){target.addEventListener("input",this._valueChanged);target.addEventListener("focus",this._targetFocus);target.addEventListener("click",this._targetClick);this._oldTarget=target;if(target===document.activeElement){this._targetFocus()}}}_valueChanged(){if(!this.isAttached||!this._oldTarget){return}const value=this._oldTarget.value;if(this._previousQuery){if(0===value.indexOf(this._previousQuery)){this._previousQuery=value;this._filterSuggestions();return}else{this._previousQuery=null;this._setSuggestions([])}}this._disaptchQuery(value);this._previousQuery=value;if(!this.opened){this.selectedItem=0}this._filterSuggestions();this._setLoading(!0)}_disaptchQuery(value){const e=new CustomEvent("query",{detail:{value}});this.dispatchEvent(e);return e}_filterSuggestions(){if(!this.isAttached||!this._oldTarget||this._previousQuery===void 0){return}this._setLoading(!1);const source=this.source;if(!source){this._setSuggestions([]);return}const query=this._previousQuery?this._previousQuery.toLowerCase():"",filtered=query?source.filter(function(item){const value="string"===typeof item?item:item.value;return-1!==value.toLowerCase().indexOf(query)}):source;if(0===filtered.length){this.opened=!1;return}filtered.sort(function(a,b){const valueA="string"===typeof a?a:a.value,valueB="string"===typeof b?b:b.value,lowerA=valueA.toLowerCase(),lowerB=valueB.toLowerCase(),aIndex=lowerA.indexOf(query),bIndex=lowerB.indexOf(query);if(aIndex===bIndex){return valueA.localeCompare(valueB)}if(0===aIndex&&0!==bIndex){return-1}if(0===bIndex&&0!==aIndex){return 1}if(valueA>valueB){return 1}if(valueA<valueB){return-1}return valueA.localeCompare(valueB)});this._setSuggestions(filtered);this.notifyResize();this._ensureSelection();this.opened=!0}_suggestionDisplay(item){return item.value||item}selectPrevious(){if(!this.suggestions||!this.suggestions.length){return}if(!this.opened){this.opened=!0}this.$.selector.selectPrevious();this.ensureItemVisible(!1)}selectNext(){if(!this.suggestions||!this.suggestions.length){return}if(!this.opened){this.opened=!0}this.$.selector.selectNext();this.ensureItemVisible(!0)}acceptSelection(){if(!this.opened||!this.suggestions||!this.suggestions.length||!this.$.selector.selectedItem){return}let value=this.$.repeater.itemForElement(this.$.selector.selectedItem);if("string"!==typeof value&&"undefined"!==typeof value.value){value=value.value}value=value+"";setTimeout(()=>this._inform(value),1)}_inform(value){const ev=new CustomEvent("selected",{detail:{value},cancelable:!0});this.dispatchEvent(ev);if(!ev.defaultPrevented){this.target.value=value}this.close()}ensureItemVisible(bottom){if(!this.opened||!this.suggestions||!this.suggestions.length){return}const container=this.scrollTarget,index=this.$.selector.selected;if(bottom&&0===index){this.scroll(0);return}let toMove;if(!bottom&&index===this.suggestions.length-1){toMove=container.scrollHeight-container.offsetHeight;this.scroll(0,toMove);return}const item=this.$.selector.selectedItem,containerOffsetHeight=bottom?container.offsetHeight:0,itemOffsetHeight=bottom?item.offsetHeight:0,visible=containerOffsetHeight+container.scrollTop,treshold=item.offsetTop+itemOffsetHeight;if(bottom&&treshold>visible){toMove=item.offsetHeight+item.offsetTop-container.offsetHeight;this.scroll(0,toMove)}else if(!bottom&&visible>treshold){this.scroll(0,treshold)}}_computeShowLoader(loader,loading){return!!loader&&!!loading}_targetFocus(){if(!this.openOnFocus||this.opened||this.__autocompleteFocus){return}this.__autocompleteFocus=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__autocompleteFocus=!1;this._valueChanged()})}_targetClick(e){if(!this.opened){return}e.stopPropagation();e.stopImmediatePropagation()}_ensureSelection(){if(this.$.selector.selectedItem){return}this.$.selector.selected=0}}window.customElements.define(PaperAutocomplete.is,PaperAutocomplete);</script></dom-module><dom-module id="oauth2-scope-selector" assetpath="bower_components/oauth2-scope-selector/"><template><style>:host{display:block;outline:none;@apply --oauth2-scope-selector;}.form-label{@apply --form-label;@apply --oauth2-scope-selector-label;}.item{width:calc(100% - 32px);@apply --oauth2-scope-selector-list-item;}paper-autocomplete{top:52px;}.input-container{position:relative;}.add-button,
    .delete-icon{color:var(--api-form-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;margin-left:8px;@apply --icon-button;}.add-button:hover,
    .delete-icon:hover{color:var(--api-form-action-icon-hover-color, rgba(0, 0, 0, 0.84));@apply --icon-button-hover;}.scope-item{@apply --layout-horizontal;@apply --layout-center;}.scope-display{overflow:hidden;@apply --arc-font-body1;font-size:16px;}.scope-item[two-line]{margin-bottom:12px;}.scope-item[two-line] .scope-display{font-weight:400;}.scope-item-label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.scope-display div[secondary]{font-size:14px;font-weight:400;line-height:20px;color:var(--oauth2-scope-selector-item-description-color, #737373);}</style><div class="container"><label class="form-label">Scopes</label><div class="input-container"><paper-input name="[[name]]" no-label-float="" invalid="[[invalid]]" label="Scope value" class="scope-input" value="{{currentValue}}" on-keydown="_keyDown" autocomplete="off" title="Enter authorization scopes for this API endpoint. Check your provider's documentation for more information about scopes."><paper-icon-button class="add-button" data-action="add-scope" slot="suffix" icon="arc:add-circle-outline" on-tap="_appendScope" title="Add scope"></paper-icon-button></paper-input><template is="dom-if" if="[[hasAutocomplete]]"><paper-autocomplete target="[[inputTarget]]" source="[[_autocompleteScopes]]" on-selected="_suggestionSelected" open-on-focus=""></paper-autocomplete></template></div><section class="scopes-list" role="list"><template is="dom-repeat" items="[[value]]"><div class="scope-item" two-line$="[[_allowedIsObject]]"><div class="scope-display"><div class="scope-item-label">[[item]]</div><div secondary="">[[_computeItemDescription(item, _allowedIsObject)]]</div></div><paper-icon-button class="delete-icon" data-action="remove-scope" icon="arc:remove-circle-outline" on-tap="_removeScope" title="Remove scope"></paper-icon-button></div></template></section></div><paper-toast missing-scope="" text="Enter scope value to add a scope."></paper-toast><paper-toast dissalowed="" text="You can't enter this scope. Use one of the provided scopes."></paper-toast></template><script>class OAuth2ScopeSelector extends Polymer.mixinBehaviors([Polymer.IronControlState,Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"oauth2-scope-selector"}static get properties(){return{value:{type:Array,value:function(){return[]},notify:!0},name:String,currentValue:String,inputTarget:{type:HTMLElement,readOnly:!0},allowedScopes:Array,preventCustomScopes:Boolean,_allowedIsObject:{type:Boolean,value:!1,computed:"_computeAllowedIsObject(allowedScopes)"},autoValidate:Boolean,_autocompleteScopes:{type:Array,computed:"_normalizeScopes(allowedScopes)"},hasAutocomplete:{type:Boolean,computed:"_computeHasAutocomplete(_autocompleteScopes)"},invalid:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_invalidChanged"},required:{type:Boolean,value:!1}}}static get observers(){return["_handleAutoValidate(autoValidate, value.*)"]}ready(){super.ready();this._ensureAttribute("tabindex",-1);this._setInputTarget(this.shadowRoot.querySelector(".scope-input"))}_invalidChanged(invalid){this.setAttribute("aria-invalid",invalid)}_appendScope(){const value=this.currentValue;if(!value){this.shadowRoot.querySelector("paper-toast[missing-scope]").opened=!0;return}this.currentValue="";this.append(value)}_removeScope(e){const repeater=this.shadowRoot.querySelector(".scopes-list > dom-repeat, template[is=\"dom-repeat\"]"),item=repeater.itemForElement(e.target);if(!item){return}const all=this.value,index=all.indexOf(item);if(-1===index){return}this.splice("value",index,1)}_suggestionSelected(e){e.preventDefault();const scope=e.detail.value;this.append(scope);this.async(function(){this.currentValue=""},1)}append(scope){const scopeValue="string"===typeof scope?scope:scope.value,all=this.value;let index=all.indexOf(scopeValue);if(-1!==index){return}if(this.preventCustomScopes&&this.allowedScopes&&this.allowedScopes.length){index=this._findAllowedScopeIndex(scopeValue);if(-1===index){this.shadowRoot.querySelector("paper-toast[dissalowed]").opened=!0;return}}this.push("value",scopeValue)}_findAllowedScopeIndex(scope){let index=-1;const scopes=this.allowedScopes;if(!scopes||!scopes.length||!scope){return index}if(this._allowedIsObject){index=scopes.findIndex(item=>item.label===scope)}else{index=this.allowedScopes.indexOf(scope)}return index}_keyDown(e){if(13!==e.keyCode){return}const ac=this.shadowRoot.querySelector("paper-autocomplete");if(ac&&ac.opened){return}this._appendScope();this.currentValue=""}_normalizeScopes(scopes){if(!scopes||!scopes.length){return}return scopes.map(item=>{if("string"===typeof item){return item}return{display:item.label,value:item.label}})}_computeHasAutocomplete(scopes){return!!(scopes&&scopes.length)}_computeAllowedIsObject(allowedScopes){if(!allowedScopes||!allowedScopes.length){return!1}const first=allowedScopes[0];return"string"!==typeof first}_computeItemDescription(scope,allowedIsObject){if(!allowedIsObject){return}const index=this._findAllowedScopeIndex(scope);if(-1===index){return""}return this.allowedScopes[index].description}_getValidity(){return this.disabled||!this.required||this.required&&!!(this.value&&this.value.length)}_handleAutoValidate(autoValidate){if(autoValidate){this.invalid=!this._getValidity()}}}window.customElements.define(OAuth2ScopeSelector.is,OAuth2ScopeSelector);</script></dom-module><script>Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(active,coolingDown){return[active||coolingDown?"active":"",coolingDown?"cooldown":""].join(" ")},__activeChanged:function(active,old){this.__setAriaHidden(!active);this.__coolingDown=!active&&old},__altChanged:function(alt){if("loading"===alt){this.alt=this.getAttribute("aria-label")||alt}else{this.__setAriaHidden(""===alt);this.setAttribute("aria-label",alt)}},__setAriaHidden:function(hidden){var attr="aria-hidden";if(hidden){this.setAttribute(attr,"true")}else{this.removeAttribute(attr)}},__reset:function(){this.active=!1;this.__coolingDown=!1}};</script><dom-module id="paper-spinner-styles" assetpath="bower_components/paper-spinner/"><template><style>:host{display:inline-block;position:relative;width:28px;height:28px;--paper-spinner-container-rotation-duration:1568ms;--paper-spinner-expand-contract-duration:1333ms;--paper-spinner-full-cycle-duration:5332ms;--paper-spinner-cooldown-duration:400ms;}#spinnerContainer{width:100%;height:100%;direction:ltr;}#spinnerContainer.active{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg);}}@keyframes container-rotate{to{transform:rotate(360deg);}}.spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;color:var(--paper-spinner-color, var(--google-blue-500));}.layer-1{color:var(--paper-spinner-layer-1-color, var(--google-blue-500));}.layer-2{color:var(--paper-spinner-layer-2-color, var(--google-red-500));}.layer-3{color:var(--paper-spinner-layer-3-color, var(--google-yellow-500));}.layer-4{color:var(--paper-spinner-layer-4-color, var(--google-green-500));}.active .spinner-layer{-webkit-animation-name:fill-unfill-rotate;-webkit-animation-duration:var(--paper-spinner-full-cycle-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-name:fill-unfill-rotate;animation-duration:var(--paper-spinner-full-cycle-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;opacity:1;}.active .spinner-layer.layer-1{-webkit-animation-name:fill-unfill-rotate, layer-1-fade-in-out;animation-name:fill-unfill-rotate, layer-1-fade-in-out;}.active .spinner-layer.layer-2{-webkit-animation-name:fill-unfill-rotate, layer-2-fade-in-out;animation-name:fill-unfill-rotate, layer-2-fade-in-out;}.active .spinner-layer.layer-3{-webkit-animation-name:fill-unfill-rotate, layer-3-fade-in-out;animation-name:fill-unfill-rotate, layer-3-fade-in-out;}.active .spinner-layer.layer-4{-webkit-animation-name:fill-unfill-rotate, layer-4-fade-in-out;animation-name:fill-unfill-rotate, layer-4-fade-in-out;}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);}25%{-webkit-transform:rotate(270deg);}37.5%{-webkit-transform:rotate(405deg);}50%{-webkit-transform:rotate(540deg);}62.5%{-webkit-transform:rotate(675deg);}75%{-webkit-transform:rotate(810deg);}87.5%{-webkit-transform:rotate(945deg);}to{-webkit-transform:rotate(1080deg);}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg);}25%{transform:rotate(270deg);}37.5%{transform:rotate(405deg);}50%{transform:rotate(540deg);}62.5%{transform:rotate(675deg);}75%{transform:rotate(810deg);}87.5%{transform:rotate(945deg);}to{transform:rotate(1080deg);}}@-webkit-keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@-webkit-keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}@keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}.circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;}.spinner-layer::after{left:45%;width:10%;border-top-style:solid;}.spinner-layer::after,
      .circle-clipper::after{content:'';box-sizing:border-box;position:absolute;top:0;border-width:var(--paper-spinner-stroke-width, 3px);border-radius:50%;}.circle-clipper::after{bottom:0;width:200%;border-style:solid;border-bottom-color:transparent !important;}.circle-clipper.left::after{left:0;border-right-color:transparent !important;-webkit-transform:rotate(129deg);transform:rotate(129deg);}.circle-clipper.right::after{left:-100%;border-left-color:transparent !important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg);}.active .gap-patch::after,
      .active .circle-clipper::after{-webkit-animation-duration:var(--paper-spinner-expand-contract-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-duration:var(--paper-spinner-expand-contract-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;}.active .circle-clipper.left::after{-webkit-animation-name:left-spin;animation-name:left-spin;}.active .circle-clipper.right::after{-webkit-animation-name:right-spin;animation-name:right-spin;}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg);}50%{-webkit-transform:rotate(-5deg);}to{-webkit-transform:rotate(130deg);}}@keyframes left-spin{0%{transform:rotate(130deg);}50%{transform:rotate(-5deg);}to{transform:rotate(130deg);}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg);}50%{-webkit-transform:rotate(5deg);}to{-webkit-transform:rotate(-130deg);}}@keyframes right-spin{0%{transform:rotate(-130deg);}50%{transform:rotate(5deg);}to{transform:rotate(-130deg);}}#spinnerContainer.cooldown{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);}@-webkit-keyframes fade-out{0%{opacity:1;}to{opacity:0;}}@keyframes fade-out{0%{opacity:1;}to{opacity:0;}}</style></template></dom-module><dom-module id="paper-spinner" assetpath="bower_components/paper-spinner/"><template strip-whitespace=""><style include="paper-spinner-styles"></style><div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset"><div class="spinner-layer layer-1"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-2"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-3"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-4"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div></div></template><script>Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]});</script></dom-module><dom-module id="auth-method-oauth2" assetpath="bower_components/auth-methods/"><template strip-whitespace=""><style include="markdown-styles"></style><style include="auth-methods-styles">:host{display:block;@apply --arc-font-body1;@apply --auth-method-panel;@apply --auth-method-oauth2;--paper-icon-button:{color:var(--hint-trigger-color, rgba(0, 0, 0, 0.74));transition:color 0.25s linear;@apply --icon-button;};--paper-icon-button-hover:{color:var(--hint-trigger-hover-color, rgba(0, 0, 0, 0.88));@apply --icon-button-hover;};}.form{@apply --layout-flex;max-width:700px;}oauth2-scope-selector{margin:24px 0;outline:none;}.grant-dropdown{width:320px;@apply --auth-grant-dropdown;}.auth-button{color:var(--secondary-color);background-color:#fff;@apply --auth-button;}.auth-button:hover{@apply --auth-button-hover;}.auth-button[disabled]{background-color:rgba(0, 0, 0, 0.24);color:rgba(0, 0, 0, 0.54);@apply --auth-button-disabled;}:host([narrow]) .auth-button{@apply --auth-button-narrow;}:host([narrow]) .auth-button:hover{@apply --auth-button-narrow-hover;}:host([narrow]) .auth-button[disabled]{@apply --auth-button-narrow-disabled;}.authorize-actions{@apply --layout-horizontal;@apply --layout-center;}.authorize-actions > paper-button{margin:0;}.authorize-actions > paper-spinner{margin-left:12px;}.read-only-param-field{background-color:rgba(0, 0, 0, 0.12);@apply --arc-font-body1;display:block;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;@apply --layout-horizontal;}.read-only-param-field.padding{padding:12px;}label{@apply --form-label;}.token-info,
    .redirect-info{@apply --arc-font-body1;font-weight:200;color:var(--auth-method-oauth2-redirect-info-color, rgba(0, 0, 0, 0.74));}.code{@apply --arc-font-code1;@apply --layout-flex;outline:none;cursor:text;}.token-label{font-weight:500;font-size:16px;}.current-token{margin-top:12px;}.redirect-section,
    oauth2-scope-selector{max-width:560px;box-sizing:border-box;}.redirect-section{@apply --auth-redirect-section;}*[hiddable]{display:none;}*[data-grant="authorization_code"] *[data-visible~="authorization_code"],
    *[data-grant="client_credentials"] *[data-visible~="client_credentials"],
    *[data-grant="implicit"] *[data-visible~="implicit"],
    *[data-grant="password"] *[data-visible~="password"]{display:block;}form[is-custom-grant] *[data-visible]{display:block !important;}.custom-data-field-value{@apply --layout-horizontal;@apply --layout-flex;}api-property-form-item{@apply --layout-flex;}h4{@apply --arc-font-subhead;}.help-icon{margin-top:16px;}.error-toast{background-color:var(--warning-primary-color, #FF7043);color:var(--warning-contrast-color, #fff);@apply --error-toast;}api-property-form-item[is-array]{margin-top:8px;}paper-item:hover{@apply --paper-item-hover;}#redirectCopyButton{@apply --secondary-button;}#redirectCopyButton:hover{@apply --secondary-button-hover;}</style><iron-form data-grant$="[[grantType]]"><form autocomplete="on" is-custom-grant$="[[isCustomGrant]]"><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]" inactive="[[isSelectedType]]" hidden$="[[noGrantType]]" on-inactive-tap="_clearTypeSelection"><span slot="title">Grant type</span> <span slot="inactive-title">[[_computeSelectedTypeLabel(grantType)]]</span><paper-dropdown-menu label="Grant type" class="grant-dropdown" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{grantType}}" attr-for-selected="data-type"><template is="dom-repeat" items="[[grantTypes]]"><paper-item data-type$="[[item.type]]">[[item.label]]</paper-item></template></paper-listbox></paper-dropdown-menu></auth-method-step><auth-method-step step-start-index="[[stepStartIndex]]" step="2" no-steps="[[noSteps]]"><span slot="title">Authorization data</span><section><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="clientid" label="Client id" value="{{clientId}}" autocomplete="on" title="Your client ID registered in your OAuth provider."></paper-masked-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="clientsecret" label="Client secret" value="{{clientSecret}}" hiddable="" data-visible="client_credentials authorization_code" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'client_credentials', 'authorization_code')]]" autocomplete="on" title="The client secret is generated by your provider unique string for your app. Check provider's console to get the code."></paper-masked-input><template is="dom-if" if="[[authQueryParameters]]" restamp=""><h4>Authorization request query parameters</h4><template is="dom-repeat" items="{{authQueryParameters}}" data-repeater="auth-query"><div class="custom-data-field auth-query-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="auth-query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="auth-query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="auth-query" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenQueryParameters]]" restamp=""><h4>Token request query parameters</h4><template is="dom-repeat" items="{{tokenQueryParameters}}" data-repeater="token-query"><div class="custom-data-field token-query-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="token-query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-query" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenHeaders]]" restamp=""><h4>Token request headers</h4><template is="dom-repeat" items="{{tokenHeaders}}" data-repeater="token-headers"><div class="custom-data-field token-header"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" data-type="token-headers"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-headers" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-headers" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[tokenBody]]" restamp=""><h4>Token request body</h4><template is="dom-repeat" items="{{tokenBody}}" data-repeater="token-body"><div class="custom-data-field body-parameter"><div class="custom-data-field-value"><api-property-form-item model="[[item]]" name$="[[item.name]]" auto-validate="" required$="[[item.required]]" value="{{item.value}}" data-type="token-body"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-click="_toggleDocumentation" data-source="token-body" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="custom-data-field-docs docs-container" data-source="token-body" data-key$="[[item.name]]"></div></div></template></template><template is="dom-if" if="[[isAdvanced]]"><div class="adv-toggle"><paper-checkbox class="adv-settings-input" checked="{{advancedOpened}}">Advanced settings</paper-checkbox></div></template><iron-collapse opened="[[advancedOpened]]"><paper-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="authuri" label="Authorization URI" value="{{authorizationUri}}" hiddable="" data-visible="implicit authorization_code" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'implicit', 'authorization_code')]]" type="text" autocomplete="on" title="The authorization URL initializes the OAuth flow. If you don't know the authorization URL check your provider's documentation."></paper-input><paper-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="tokenuri" label="Access token URI" value="{{accessTokenUri}}" hiddable="" data-visible="client_credentials authorization_code password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'client_credentials', 'authorization_code', 'password')]]" type="text" autocomplete="on" title="The access token URL is used by server implementations to exchange access code for access token."></paper-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="username" label="Username" value="{{username}}" hiddable="" data-visible="password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'password')]]" autocomplete="on" title="The username required for this OAuth authentication."></paper-masked-input><paper-masked-input auto-validate="" required$="[[_isFieldRequired(isCustomGrant)]]" data-input="password" label="Password" value="{{password}}" hiddable="" data-visible="password" disabled$="[[_isFieldDisabled(isCustomGrant, grantType, 'password')]]" autocomplete="on" title="The password required for this OAuth authentication."></paper-masked-input><div><oauth2-scope-selector allowed-scopes="[[allowedScopes]]" prevent-custom-scopes="[[preventCustomScopes]]" value="{{scopes}}"></oauth2-scope-selector></div></iron-collapse></section></auth-method-step><auth-method-step step-start-index="[[stepStartIndex]]" step="3" no-steps="[[noSteps]]"><span slot="title">Redirect URI</span><section><div class="redirect-section"><p class="redirect-info">Set this redirect URI in OAuth 2.0 provider settings.</p><p class="read-only-param-field padding"><span class="code" on-click="_clickCopyAction">[[redirectUri]]</span></p></div></section></auth-method-step></form></iron-form><div class="authorize-actions" hidden$="[[hasAccessToken]]"><paper-button disabled$="[[_authorizing]]" class="auth-button" data-type="get-token" on-click="authorize" raised="" noink="[[noink]]">Request access token</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div><div class="current-token" hidden$="[[!hasAccessToken]]"><label class="token-label">Current token</label><p class="read-only-param-field padding"><span class="code" on-click="_clickCopyAction">[[accessToken]]</span></p><div class="authorize-actions"><paper-button disabled$="[[_authorizing]]" class="auth-button" data-type="refresh-token" on-click="authorize" raised="" noink="[[noink]]">Refresh access token</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div></div><paper-toast text="" duration="5000"></paper-toast><paper-toast class="error-toast" text="" duration="5000"></paper-toast><paper-toast text="Value copied to clipboard" id="clipboardToast" duration="2000"></paper-toast><clipboard-copy></clipboard-copy></template><script>class AuthMethodOauth2 extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-oauth2"}static get properties(){return{grantType:{type:String,value:"",notify:!0,observer:"_settingsChanged"},isCustomGrant:{type:Boolean,computed:"_computeIsCustomGrant(grantType)",value:!1},isSelectedType:{type:Boolean,value:!1,computed:"_computeIsSelectedType(grantType)"},forceHideTypeSelector:{type:Boolean,value:!1},clientId:{type:String,notify:!0,observer:"_clientIdChanged"},clientSecret:{type:String,notify:!0,observer:"_clientSecretChanged"},authorizationUri:{type:String,notify:!0,observer:"_authorizationUriChanged"},accessTokenUri:{type:String,notify:!0,observer:"_accessTokenUriChanged"},password:{type:String,notify:!0,observer:"_passwordChanged"},username:{type:String,notify:!0,observer:"_usernameChanged"},redirectUri:{type:String,observer:"_settingsChanged"},scopes:{type:Array},allowedScopes:Array,preventCustomScopes:Boolean,_authorizing:Boolean,accessToken:{type:String,observer:"_accessTokenChanged"},tokenType:{type:String,value:"Bearer",observer:"_tokenTypeChanged"},hasAccessToken:{type:Boolean,value:!1,computed:"_computeHasToken(accessToken)"},amfSettings:{type:Object,observer:"_amfChanged"},grantTypes:{type:Array,observer:"_settingsChanged"},_initialized:{type:Boolean,observer:"_settingsChanged"},_typeSelectorForceOpened:{type:Boolean,value:!1},noAuto:Boolean,isAdvanced:Boolean,advancedOpened:Boolean,noGrantType:{type:Boolean,observer:"_noGrantTypeChanged"},authQueryParameters:{type:Array,readOnly:!0},tokenQueryParameters:{type:Array,readOnly:!0},tokenHeaders:{type:Array,readOnly:!0},tokenBody:{type:Array,readOnly:!0},oauthDeliveryMethod:{type:String,value:"header"},oauthDeliveryName:{type:String,value:"authorization"},narrow:{type:Boolean,reflectToAttribute:!0}}}static get observers(){return["_updateStepperState(noSteps)","_settingsChanged(scopes.*)","_settingsChanged(tokenBody.*)","_settingsChanged(tokenHeaders.*)","_settingsChanged(tokenQueryParameters.*)","_settingsChanged(authQueryParameters.*)"]}get _queryModelOpts(){return{valueDelimiter:"=",decodeValues:!0}}get _headersModelOpts(){return{valueDelimiter:":"}}get _oauth2GrantTypes(){return[{type:"implicit",label:"Access token (browser flow)"},{type:"authorization_code",label:"Authorization code (server flow)"},{type:"client_credentials",label:"Client credentials"},{type:"password",label:"Password"}]}constructor(){super();this._oauth2ErrorHandler=this._oauth2ErrorHandler.bind(this);this._tokenSuccessHandler=this._tokenSuccessHandler.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this)}ready(){super.ready();this._initialized=!0;Polymer.RenderStatus.afterNextRender(this,()=>{if(!this.grantTypes){this._updateGrantTypes()}this._autoHide();this._autoRestore()})}_attachListeners(node){window.addEventListener("oauth2-error",this._oauth2ErrorHandler);window.addEventListener("oauth2-token-response",this._tokenSuccessHandler);node.addEventListener("request-header-changed",this._headerChangedHandler)}_detachListeners(node){window.removeEventListener("oauth2-error",this._oauth2ErrorHandler);window.removeEventListener("oauth2-token-response",this._tokenSuccessHandler);node.removeEventListener("request-header-changed",this._headerChangedHandler)}_autoHide(){if(this.noAuto){this.advancedOpened=!0;return}if(!!this.authorizationUri&&!!this.accessTokenUri&&!!(this.scopes&&this.scopes.length)){this.isAdvanced=!0;this.advancedOpened=!1}else{this.advancedOpened=!0}}get storeKeys(){return{clientId:"auth.methods.latest.client_id",secret:"auth.methods.latest.client_secret",token:"auth.methods.latest.auth_token",authUri:"auth.methods.latest.auth_uri",tokenUri:"auth.methods.latest.auth_uri",username:"auth.methods.latest.username",password:"auth.methods.latest.password",tokenType:"auth.methods.latest.tokenType"}}_autoRestore(){const keys=this.storeKeys;this._restoreSessionProperty(keys.clientId,"clientId");this._restoreSessionProperty(keys.token,"accessToken");this._restoreSessionProperty(keys.tokenType,"tokenType");this._restoreSessionProperty(keys.authUri,"authorizationUri");this._restoreSessionProperty(keys.tokenUri,"accessTokenUri");this._restoreSessionProperty(keys.secret,"clientSecret");this._restoreSessionProperty(keys.username,"username");this._restoreSessionProperty(keys.password,"password");if(!this.clientId){this._restoreMetaClientId()}if(!this.clientSecret){this._restoreMetaClientSecret()}}_restoreSessionProperty(sessionKey,localKey){if(!this[localKey]){const value=sessionStorage.getItem(sessionKey);if(value){this.set(localKey,value)}}}_storeSessionProperty(sessionKey,value){if(!value){return}if("object"===typeof value){value=JSON.stringify(value)}sessionStorage.setItem(sessionKey,value)}_restoreMetaClientId(){const meta=document.createElement("iron-meta").byKey("oauth2-client-id");if(!meta){return}this.clientId=meta}_restoreMetaClientSecret(){const meta=document.createElement("iron-meta").byKey("oauth2-client-secret");if(!meta){return}this.clientSecret=meta}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_clientIdChanged(value){this._storeSessionProperty(this.storeKeys.clientId,value);this._settingsChanged()}_clientSecretChanged(value){this._storeSessionProperty(this.storeKeys.secret,value);this._settingsChanged()}_authorizationUriChanged(value){this._storeSessionProperty(this.storeKeys.authUri,value);this._settingsChanged()}_accessTokenUriChanged(value){this._storeSessionProperty(this.storeKeys.tokenUri,value);this._settingsChanged()}_passwordChanged(value){this._storeSessionProperty(this.storeKeys.username,value);this._settingsChanged()}_usernameChanged(value){this._storeSessionProperty(this.storeKeys.username,value);this._settingsChanged()}_accessTokenChanged(value){this._storeSessionProperty(this.storeKeys.token,value);this._settingsChanged()}_tokenTypeChanged(value){this._storeSessionProperty(this.storeKeys.tokenType,value)}_settingsChanged(){if(!this.shadowRoot||this.__cancelChangeEvent||!this._initialized){return}this._notifySettingsChange("oauth2")}_isFieldDisabled(){const args=Array.from(arguments),isCustom=args.splice(0,1)[0];if(isCustom){return!1}const grantType=args.splice(0,1)[0];return-1===args.indexOf(grantType)}_isFieldRequired(isCustomGrant){return!isCustomGrant}authorize(){const validationResult=this.validate();if(!validationResult){this._errorToast("Authorization form is not valid.");return!1}const detail=this.getSettings();this._lastState=this.generateState();detail.state=this._lastState;this._authorizing=!0;const e=new CustomEvent("oauth2-token-requested",{detail:detail,bubbles:!0,composed:!0,cancelable:!0});this.dispatchEvent(e);this._analyticsEvent("auth-method-oauth2","usage-authorize","requested");if(!e.defaultPrevented){this._errorToast("The application did not handled token request correctly.");this._authorizing=!1;return!1}return!0}_errorToast(message){const toast=this.shadowRoot.querySelector("paper-toast.error-toast");toast.text=message;toast.opened=!0}generateState(){let text="";const possible="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let i=0;6>i;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length))}return text}getSettings(){const detail={type:this.grantType,clientId:this.clientId,accessToken:this.accessToken||"",tokenType:this.tokenType,scopes:this.scopes,customData:{auth:{},token:{}},deliveryMethod:this.oauthDeliveryMethod,deliveryName:this.oauthDeliveryName};switch(this.grantType){case"implicit":detail.authorizationUri=this.authorizationUri;detail.redirectUri=this.redirectUri;this._computeAuthCustomData(detail);delete detail.customData.token;break;case"authorization_code":detail.authorizationUri=this.authorizationUri;detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;detail.redirectUri=this.redirectUri;this._computeAuthCustomData(detail);this._computeTokenCustomData(detail);break;case"client_credentials":detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;this._computeTokenCustomData(detail);delete detail.customData.auth;break;case"password":detail.username=this.username;detail.password=this.password;detail.accessTokenUri=this.accessTokenUri;this._computeTokenCustomData(detail);delete detail.customData.auth;break;default:detail.authorizationUri=this.authorizationUri;detail.clientSecret=this.clientSecret;detail.accessTokenUri=this.accessTokenUri;detail.redirectUri=this.redirectUri;detail.username=this.username;detail.password=this.password;this._computeAuthCustomData(detail);this._computeTokenCustomData(detail);break;}return detail}_computeAuthCustomData(detail){if(this.authQueryParameters){detail.customData.auth.parameters=this._computeCustomParameters(this.authQueryParameters)}}_computeTokenCustomData(detail){if(this.tokenQueryParameters){detail.customData.token.parameters=this._computeCustomParameters(this.tokenQueryParameters)}if(this.tokenHeaders){detail.customData.token.headers=this._computeCustomParameters(this.tokenHeaders)}if(this.tokenBody){detail.customData.token.body=this._computeCustomParameters(this.tokenBody)}}_computeCustomParameters(params){if(!params||!params.length){return}const result=[];params.forEach(item=>{const value=item.value;if(!item.required){const type=typeof value;if("number"===type){if(!value&&0!==value){return}}else if("string"===type){if(!value){return}}else if(value instanceof Array){if(!value[0]){return}}else if("undefined"===type){return}}result.push({name:item.name,value:item.value||""})});if(0===result.length){return}return result}restore(settings){this.grantType=settings.type;this.clientId=settings.clientId;this.accessToken=settings.accessToken;this.scopes=settings.scopes;switch(this.grantType){case"implicit":this.authorizationUri=settings.authorizationUri;break;case"authorization_code":this.authorizationUri=settings.authorizationUri;this.clientSecret=settings.clientSecret;this.accessTokenUri=settings.accessTokenUri;break;case"client_credentials":this.clientSecret=settings.clientSecret;this.accessTokenUri=settings.accessTokenUri;break;case"password":this.username=settings.username;this.password=settings.password;this.accessTokenUri=settings.accessTokenUri;break;}}_computeHasToken(newValue){return!!newValue}_oauth2ErrorHandler(e){const info=e.detail;if("undefined"!==typeof info.state){if(info.state!==this._lastState){return}}this._authorizing=!1;this._lastState=void 0;this._errorToast(info.message);this._analyticsEvent("auth-method-oauth2","usage-authorize","failure")}_tokenSuccessHandler(e){const info=e.detail;if("undefined"!==typeof info.state){if(info.state!==this._lastState){return}}this._authorizing=!1;this._lastState=void 0;if(info.accessToken&&info.accessToken!==this.accessToken){if(info.tokenType&&info.tokenType!==this.tokenType){this.tokenType=info.tokenType}else if(!info.tokenType&&"Bearer"!==this.tokenType){this.tokenType="Bearer"}this.set("accessToken",info.accessToken);this.dispatchEvent(new CustomEvent("oauth2-token-ready",{detail:{token:info.accessToken,tokenType:this.tokenType},bubbles:!0,composed:!0}))}this._analyticsEvent("auth-method-oauth2","usage-authorize","success")}_amfChanged(model){const prefix=this.ns.raml.vocabularies.security;if(!this._hasType(model,prefix+"ParametrizedSecurityScheme")){this._setupOAuthDeliveryMethod();this._updateGrantTypes();return}const shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}const isOauth2="OAuth 2.0"===type;if(!isOauth2){this._setupOAuthDeliveryMethod();this._updateGrantTypes();return}this._setupOAuthDeliveryMethod(scheme);const sKey=this._getAmfKey(this.ns.raml.vocabularies.security+"settings");let settings=scheme[sKey];if(settings instanceof Array){settings=settings[0]}this._clearDocs();this.__cancelChangeEvent=!0;this._preFillAmfData(settings);this.__cancelChangeEvent=!1;this._autoHide();Polymer.RenderStatus.afterNextRender(this,()=>{this._settingsChanged()})}_setupOAuthDeliveryMethod(model){const info=this._getOauth2DeliveryMethod(model);if(this.oauthDeliveryMethod!==info.method){this.oauthDeliveryMethod=info.method}if(this.oauthDeliveryName!==info.name){this.oauthDeliveryName=info.name}}_getOauth2DeliveryMethod(info){const result={method:"header",name:"authorization"};if(!info){return result}const http=this.ns.raml.vocabularies.http,hKey=this._getAmfKey(http+"header"),pKey=this._getAmfKey(http+"parameter"),nKey=this._getAmfKey(this.ns.schema.schemaName);let header=info[hKey];if(header instanceof Array){header=header[0]}if(header){const headerName=this._getValue(header,nKey);if(headerName){result.name=headerName;return result}}let parameter=info[pKey];if(parameter instanceof Array){parameter=parameter[0]}if(parameter){const paramName=this._getValue(parameter,nKey);if(paramName){result.name=paramName;result.method="query";return result}}return result}_preFillAmfData(model){if(!model){throw new Error("The `settings` argument is not set.")}const sec=this.ns.raml.vocabularies.security;if(!this._hasType(model,sec+"OAuth2Settings")){console.warn("Passed model does not represent OAuth 2.0 Settings");return}this.authorizationUri=this._getValue(model,sec+"authorizationUri")||"";this.accessTokenUri=this._getValue(model,sec+"accessTokenUri")||"";this.scopes=this._redSecurityScopes(model[this._getAmfKey(sec+"scope")]);const apiGrants=this._getValueArray(model,sec+"authorizationGrant"),annotationKey=this._amfCustomSettingsKey(model),annotation=annotationKey?model[annotationKey]:void 0,grants=this._applyAnnotationGranst(apiGrants,annotation);if(grants&&grants instanceof Array&&grants.length){const index=grants.indexOf("code");if(-1!==index){grants[index]="authorization_code"}this._updateGrantTypes(grants)}else{this._updateGrantTypes()}this._setupAnotationParameters(annotation)}_redSecurityScopes(model){model=this._ensureArray(model);if(!model){return}const result=[];for(let i=0,len=model.length;i<len;i++){const value=this._getValue(model[i],this.ns.raml.vocabularies.security+"name");if(!value){continue}result.push(value)}return result}_amfCustomSettingsKey(model){const keys=Object.keys(model),data=this.ns.raml.vocabularies.data,settingsKeys=[this._getAmfKey(data+"authorizationSettings"),this._getAmfKey(data+"authorizationGrants"),this._getAmfKey(data+"accessTokenSettings")];for(let i=0;i<keys.length;i++){const node=model[keys[i]];if(node[settingsKeys[0]]||node[settingsKeys[1]]||node[settingsKeys[2]]){return keys[i]}}}_applyAnnotationGranst(gransts,annotation){if(!annotation){return gransts}if(!gransts){gransts=[]}const d=this.ns.raml.vocabularies.data;let model=annotation[this._getAmfKey(d+"authorizationGrants")];model=this._ensureArray(model);if(!model||!model.length){return gransts}const list=model[0][this._getAmfKey(this.ns.w3.name+"1999/02/22-rdf-syntax-ns#member")],addedGrants=[];list.forEach(item=>{const v=this._getValue(item,d+"value");if(!v){return}addedGrants.push(v)});if(!addedGrants.length){return gransts}if("undefined"!==typeof annotation[d+"ignoreDefaultGrants"]){gransts=[]}gransts=gransts.concat(addedGrants);return gransts}_setupAnotationParameters(annotation){if(this.authQueryParameters){this._setAuthQueryParameters(void 0)}if(this.tokenQueryParameters){this._setTokenQueryParameters(void 0)}if(this.tokenHeaders){this._setTokenHeaders(void 0)}if(this.tokenBody){this._setTokenBody(void 0)}if(!annotation){return}const d=this.ns.raml.vocabularies.data,qpKey=this._getAmfKey(d+"queryParameters");let authSettings=annotation[this._getAmfKey(d+"authorizationSettings")],tokenSettings=annotation[this._getAmfKey(d+"accessTokenSettings")];if(authSettings){if(authSettings instanceof Array){authSettings=authSettings[0]}const qp=authSettings[qpKey];if(qp){this._setupAuthRequestQueryParameters(qp)}}if(tokenSettings){if(tokenSettings instanceof Array){tokenSettings=tokenSettings[0]}const qp=tokenSettings[qpKey],headers=tokenSettings[this._getAmfKey(d+"headers")],body=tokenSettings[this._getAmfKey(d+"body")];if(qp){this._setupTokenRequestQueryParameters(qp)}if(headers){this._setupTokenRequestHeaders(headers)}if(body){this._setupTokenRequestBody(body)}}}_setupAuthRequestQueryParameters(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setAuthQueryParameters(model)}_setupTokenRequestQueryParameters(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setTokenQueryParameters(model)}_setupTokenRequestHeaders(params){const model=this._createViewModel(params,this._headersModelOpts);if(!model){return}this._setTokenHeaders(model)}_setupTokenRequestBody(params){const model=this._createViewModel(params,this._queryModelOpts);if(!model){return}this._setTokenBody(model)}_createViewModel(param,modelOptions){if(!param){return}if(param instanceof Array){param=param[0]}const factory=document.createElement("api-view-model-transformer");factory.amfModel=this.amfModel;return factory.modelForRawObject(param,modelOptions)}_computeIsCustomGrant(grantType){return-1===["implicit","authorization_code","client_credentials","password"].indexOf(grantType)}_updateGrantTypes(supportedTypes){const available=this._computeGrantList(supportedTypes);this.set("grantTypes",available);const current=this.grantType,hasCurrent=current?available.some(item=>item.type===current):!1;if(!hasCurrent){if(available&&available[0]){this.set("grantType",available[0].type)}else{this.set("grantType","")}}else if(1===available.length){this.set("grantType",available[0].type)}}_computeGrantList(allowed){let defaults=this._oauth2GrantTypes;if(!allowed||!allowed.length){return defaults}allowed=Array.from(allowed);for(let i=defaults.length-1;0<=i;i--){const index=allowed.indexOf(defaults[i].type);if(-1===index){defaults.splice(i,1)}else{allowed.splice(index,1)}}if(allowed.length){allowed=allowed.map(function(item){return{label:item,type:item}});defaults=defaults.concat(allowed)}return defaults}_computeIsSelectedType(grantType){return!!grantType}_clearTypeSelection(){this.grantType=""}_computeSelectedTypeLabel(grantType){switch(grantType){case"implicit":return"Access token (browser flow)";case"authorization_code":return"Authorization code (server flow)";case"client_credentials":return"Client credentials";case"password":return"Password";default:if(!this.grantTypes){return""}const item=this.grantTypes.find(item=>item.type===grantType);return item?item.label:"Custom grant";}}_updateStepperState(noStepper){this._typeSelectorForceOpened=noStepper?!0:!1}_noGrantTypeChanged(newValue,oldValue){if(newValue){this.stepStartIndex--}else if(oldValue!==void 0){this.stepStartIndex++}}_headerChangedHandler(e){if(e.defaultPrevented||e.target===this){return}let name=e.detail.name;if(!name){return}name=name.toLowerCase();if("authorization"!==name){return}let value=e.detail.value;if(!value){if(this.accessToken){this.set("accessToken","")}return}const lowerValue=value.toLowerCase(),lowerType=(this.tokenType||"bearer").toLowerCase();if(0!==lowerValue.indexOf(lowerType)){if(this.accessToken){this.set("accessToken","")}return}value=value.substr(7);this.set("accessToken",value)}_toggleDocumentation(e){const target=e.target,source=target.dataset.source;if(!source){throw new Error("Could not find source of the event.")}const repeater=this.shadowRoot.querySelector("[data-repeater=\""+source+"\"]");if(!repeater){throw new Error("Could not find repeater for the item.")}const model=repeater.modelForElement(target).get("item");let selector=".custom-data-field-docs[data-source=\""+source+"\"]";selector+="[data-key=\""+model.name+"\"]";const docsContainer=this.shadowRoot.querySelector(selector);if(!docsContainer){throw new Error("Could not find documentation container.")}if(!docsContainer.children[0]){this._createDocsElements(model,docsContainer)}else{docsContainer.children[0].opened=!docsContainer.children[0].opened}}_createDocsElements(model,appendTo){const collapse=document.createElement("iron-collapse"),marked=document.createElement("marked-element"),wrapper=document.createElement("div");collapse.dataset.docsCollapse=!0;wrapper.className="markdown-body";wrapper.slot="markdown-html";marked.appendChild(wrapper);collapse.appendChild(marked);appendTo.appendChild(collapse);marked.markdown=model.description;Polymer.RenderStatus.afterNextRender(this,()=>{collapse.opened=!0})}_clearDocs(){const nodes=this.shadowRoot.querySelectorAll("[data-docs-collapse=\"true\"]");if(!nodes||!nodes.length){return}nodes.forEach(node=>node.parentNode.removeChild(node))}_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}_clickCopyAction(e){const node=e.target,elm=this.shadowRoot.querySelector("clipboard-copy");elm.content=node.innerText;if(elm.copy()){this.$.clipboardToast.opened=!0}Polymer.RenderStatus.afterNextRender(this,()=>{if(document.body.createTextRange){const range=document.body.createTextRange();range.moveToElementText(node);range.select()}else if(window.getSelection){const selection=window.getSelection(),range=document.createRange();range.selectNode(node);selection.removeAllRanges();selection.addRange(range)}})}}window.customElements.define(AuthMethodOauth2.is,AuthMethodOauth2);</script></dom-module><dom-module id="auth-method-oauth1" assetpath="bower_components/auth-methods/"><template><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-oauth1;}.form{max-width:700px;}.grant-dropdown{width:320px;}.auth-button{background-color:var(--primary-color);color:rgba(255, 255, 255, 0.87);@apply --auth-button;}.auth-button:hover{@apply --auth-button-hover;}.auth-button[disabled]{background-color:rgba(0, 0, 0, 0.24);color:rgba(0, 0, 0, 0.54);@apply --auth-button-disabled;}.authorize-actions{margin-top:12px;@apply --layout-horizontal;@apply --layout-center;}paper-item:hover{@apply --paper-item-hover;}</style><div class="form"><iron-form><form autocomplete="on"><paper-dropdown-menu label="Authorization token method" class="auth-token-method" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{authTokenMethod}}" attr-for-selected="data-type"><paper-item data-type="GET">GET</paper-item><paper-item data-type="POST">POST</paper-item></paper-listbox></paper-dropdown-menu><paper-dropdown-menu label="Oauth parameters location" class="auth-params-location" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{authParamsLocation}}" attr-for-selected="data-type"><paper-item data-type="querystring">Query string</paper-item><paper-item data-type="authorization">Authorization header</paper-item></paper-listbox></paper-dropdown-menu><paper-masked-input auto-validate="" required="" label="Consumer key" value="{{consumerKey}}" data-field="consumerKey" autocomplete="on"></paper-masked-input><paper-masked-input label="Consumer secret" value="{{consumerSecret}}" data-field="consumerSecret" autocomplete="on"></paper-masked-input><paper-masked-input auto-validate="" label="Token" value="{{token}}" data-field="token" autocomplete="on"></paper-masked-input><paper-masked-input label="Token secret" value="{{tokenSecret}}" data-field="tokenSecret" autocomplete="on"></paper-masked-input><paper-input label="Request token URL" value="{{requestTokenUrl}}"></paper-input><paper-input label="Token Authorization URL" value="{{accessTokenUrl}}"></paper-input><paper-input label="User authorization dialog URL" value="{{authorizationUrl}}"></paper-input><paper-input label="Redirect URL" value="{{redirectUrl}}"></paper-input><paper-input auto-validate="" required="" label="Timestamp" value="{{timestamp}}" type="text" data-field="timestamp" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="_genTimestamp" icon="arc:cached" alt="Regenerate input icon" title="Regenerate timestamp"></paper-icon-button><paper-icon-button slot="suffix" class="action-icon" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-input auto-validate="" required="" label="Nonce" value="{{nonce}}" type="text" data-field="nonce" autocomplete="on"><paper-icon-button slot="suffix" class="action-icon" on-tap="_genNonce" icon="arc:cached" alt="Regenerate input icon" title="Regenerate nonce"></paper-icon-button><paper-icon-button slot="suffix" class="action-icon" on-tap="_clearField" icon="arc:clear" alt="Clear input icon" title="Clear input"></paper-icon-button></paper-input><paper-input label="Realm" value="{{realm}}" type="text" data-field="realm" autocomplete="on"></paper-input><paper-dropdown-menu label="Signature method" class="grant-dropdown" required="" auto-validate=""><paper-listbox slot="dropdown-content" selected="{{signatureMethod}}" attr-for-selected="data-type"><template is="dom-repeat" items="[[signatureMethods]]"><paper-item data-type$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu><div class="authorize-actions"><paper-button disabled$="[[_authorizing]]" class="auth-button" on-tap="authorize">Authorize</paper-button><paper-spinner active="[[_authorizing]]"></paper-spinner></div></form></iron-form></div><paper-toast text="" duration="5000"></paper-toast></template><script>class AuthMethodOauth1 extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-oauth1"}static get properties(){return{consumerKey:{type:String,notify:!0,observer:"_settingsChanged"},consumerSecret:{type:String,notify:!0,observer:"_settingsChanged"},token:{type:String,notify:!0,observer:"_settingsChanged"},tokenSecret:{type:String,notify:!0,observer:"_settingsChanged"},timestamp:{type:Number,notify:!0,observer:"_settingsChanged"},nonce:{type:String,notify:!0,observer:"_settingsChanged"},realm:{type:String,notify:!0,observer:"_settingsChanged"},signatureMethod:{type:String,value:"HMAC-SHA1",notify:!0,observer:"_settingsChanged"},_authorizing:Boolean,redirectUrl:{type:String,observer:"_settingsChanged"},requestTokenUrl:{type:String,observer:"_settingsChanged"},accessTokenUrl:{type:String,observer:"_settingsChanged"},authTokenMethod:{type:String,value:"POST",observer:"_settingsChanged"},authParamsLocation:{type:String,value:"authorization",observer:"_settingsChanged"},authorizationUrl:{type:String,observer:"_settingsChanged"},amfSettings:{type:Object,observer:"_amfSettingsChanged"},signatureMethods:Array}}get defaultSignatureMethods(){return["HMAC-SHA1","RSA-SHA1","PLAINTEXT"]}constructor(){super();this._oauth1ErrorHandler=this._oauth1ErrorHandler.bind(this);this._tokenResponseHandler=this._tokenResponseHandler.bind(this)}_attachListeners(){window.addEventListener("oauth1-error",this._onAuthSettings);window.addEventListener("oauth1-token-response",this._tokenResponseHandler)}_detachListeners(){window.removeEventListener("oauth1-error",this._onAuthSettings);window.removeEventListener("oauth1-token-response",this._tokenResponseHandler)}ready(){super.ready();this._genTimestamp();this._genNonce();if(!this.signatureMethods){this.signatureMethods=this.defaultSignatureMethods}}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_settingsChanged(){let validationResult=this.validate();const settings=this.getSettings();if(validationResult){if(!settings||!settings.token||!settings.tokenSecret){validationResult=!1}}const detail={settings:settings,type:"oauth1",valid:validationResult};this.dispatchEvent(new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0}))}getSettings(){return{consumerKey:this.consumerKey,consumerSecret:this.consumerSecret,token:this.token,tokenSecret:this.tokenSecret,timestamp:this.timestamp,nonce:this.nonce,realm:this.realm,signatureMethod:this.signatureMethod,requestTokenUrl:this.requestTokenUrl,accessTokenUrl:this.accessTokenUrl,redirectUrl:this.redirectUrl,authTokenMethod:this.authTokenMethod,authParamsLocation:this.authParamsLocation,authorizationUrl:this.authorizationUrl,type:"oauth1"}}restore(settings){this.consumerKey=settings.consumerKey;this.consumerSecret=settings.consumerSecret;this.token=settings.token;this.tokenSecret=settings.tokenSecret;this.timestamp=settings.timestamp;this.nonce=settings.nonce;this.realm=settings.realm;this.signatureMethod=settings.signatureMethod;this.requestTokenUrl=settings.requestTokenUrl;this.accessTokenUrl=settings.accessTokenUrl;this.redirectUrl=settings.redirectUrl;this.authTokenMethod=settings.authTokenMethod;this.authParamsLocation=settings.authParamsLocation;this.authorizationUrl=settings.authorizationUrl}_clearField(e){const path=e.target.path;let inputTarget;while(inputTarget=path.shift()){if("INPUT"===inputTarget.nodeName||"PAPER-INPUT"===inputTarget.nodeName){break}}if(!inputTarget){return}inputTarget.value=""}authorize(){this._authorizing=!0;var detail={};if(this.consumerKey){detail.consumerKey=this.consumerKey}if(this.consumerSecret){detail.consumerSecret=this.consumerSecret}if(this.token){detail.token=this.token}if(this.tokenSecret){detail.tokenSecret=this.tokenSecret}if(this.timestamp){detail.timestamp=this.timestamp}if(this.nonce){detail.nonce=this.nonce}if(this.realm){detail.realm=this.realm}if(this.signatureMethod){detail.signatureMethod=this.signatureMethod}if(this.requestTokenUrl){detail.requestTokenUrl=this.requestTokenUrl}if(this.accessTokenUrl){detail.accessTokenUrl=this.accessTokenUrl}if(this.redirectUrl){detail.redirectUrl=this.redirectUrl}if(this.authParamsLocation){detail.authParamsLocation=this.authParamsLocation}if(this.authTokenMethod){detail.authTokenMethod=this.authTokenMethod}if(this.authorizationUrl){detail.authorizationUrl=this.authorizationUrl}detail.type="oauth1";this.dispatchEvent(new CustomEvent("oauth1-token-requested",{detail:detail,bubbles:!0,composed:!0}));return!0}_oauth1ErrorHandler(e,detail){this._authorizing=!1;const toast=this.shadowRoot.querySelecrtor("paper-toast");toast.text=detail.message;toast.opened=!0}_tokenResponseHandler(e){this._authorizing=!1;this.token=e.detail.oauth_token;this.tokenSecret=e.detail.oauth_token_secret}_genTimestamp(){const t=Math.floor(Date.now()/1e3);this.timestamp=t}_genNonce(length){const result=[],chrs="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",chrsLength=chrs.length;length=+(length||32);if(length!==length){length=32}for(let i=0;i<length;i++){result[result.length]=chrs[Math.floor(Math.random()*chrsLength)]}this.nonce=result.join("")}_amfSettingsChanged(model){if(!model){this.signatureMethods=this.defaultSignatureMethods;return}const prefix=this.ns.raml.vocabularies.security,shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}if("OAuth 1.0"!==type){this.signatureMethods=this.defaultSignatureMethods;return}const sKey=this._getAmfKey(this.ns.raml.vocabularies.security+"settings");let settings=scheme[sKey];if(settings instanceof Array){settings=settings[0]}if(!settings){this.signatureMethods=this.defaultSignatureMethods;return}this.requestTokenUrl=this._getValue(settings,prefix+"requestTokenUri");this.authorizationUrl=this._getValue(settings,prefix+"authorizationUri");this.accessTokenUrl=this._getValue(settings,prefix+"tokenCredentialsUri");const signaturtes=this._getValueArray(settings,prefix+"signature");if(!signaturtes||!signaturtes.length){this.signatureMethods=this.defaultSignatureMethods}else{this.signatureMethods=signaturtes}}}window.customElements.define(AuthMethodOauth1.is,AuthMethodOauth1);</script></dom-module><dom-module id="auth-method-custom" assetpath="bower_components/auth-methods/"><template strip-whitespace=""><style include="markdown-styles"></style><style include="auth-methods-styles">:host{display:block;@apply --auth-method-panel;@apply --auth-method-custom;}.field-value{@apply --layout-horizontal;@apply --layout-flex;}api-property-form-item{@apply --layout-flex;}.header-item,
    .param-item{width:100%;}.help-icon{margin-top:var(--auth-method-custom-help-icon-margin-top, 16px);}h3{@apply --arc-font-subhead;@apply --auth-method-custom-subheader;}.scheme-header h3{@apply --layout-horizontal;@apply --layout-center;margin:0;}</style><auth-method-step step-start-index="[[stepStartIndex]]" step="1" no-steps="[[noSteps]]"><span slot="title">Set authorization data</span><section><template is="dom-if" if="[[schemeName]]"><div class="scheme-header"><h3><span>Scheme: [[schemeName]]</span><template is="dom-if" if="[[_computeHasDoc(noDocs, schemeDescription)]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleSchemeDocumentation" title="Display scheme description"></paper-icon-button></template></h3><template is="dom-if" if="[[_computeHasDoc(noDocs, schemeDescription)]]"><div class="docs-container"><iron-collapse opened="[[documentationOpened]]"><marked-element markdown="[[schemeDescription]]" main-docs=""><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div></template><iron-form><form autocomplete="on"><template is="dom-if" if="[[hasHeaders]]"><section class="headers-section"><template is="dom-repeat" items="{{headers}}" data-repeater="header"><div class="header-item"><div class="field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" on-value-changed="_headerValueChanged" data-type="header"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-tap="_toggleDocumentation" data-source="header" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="data-docs docs-container" data-source="header" data-key$="[[item.name]]"></div></div></template></section></template><template is="dom-if" if="[[hasQueryParameters]]"><section class="query-section"><template is="dom-repeat" items="{{queryParameters}}" data-repeater="query"><div class="param-item"><div class="field-value"><api-property-form-item model="[[item]]" name="[[item.name]]" value="{{item.value}}" on-value-changed="_queryValueChanged" data-type="query"></api-property-form-item><template is="dom-if" if="[[_computeHasDoc(noDocs, item.hasDescription)]]"><paper-icon-button class="help-icon hint-icon" icon="arc:help" on-tap="_toggleDocumentation" data-source="query" title="Display documentation" noink="[[noink]]"></paper-icon-button></template></div><div class="data-docs docs-container" data-source="query" data-key$="[[item.name]]"></div></div></template></section></template></form></iron-form></section></auth-method-step></template><script>class AuthMethodCustom extends ApiElements.AmfHelperMixin(ArcBehaviors.AuthMethodsMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"auth-method-custom"}static get properties(){return{amfSettings:{type:Object},headers:{type:Array,readOnly:!0},queryParameters:{type:Array,readOnly:!0},hasHeaders:{type:Boolean,computed:"_computeHasData(headers)"},hasQueryParameters:{type:Boolean,computed:"_computeHasData(queryParameters)"},schemeName:{type:String,readOnly:!0},schemeDescription:{type:String,readOnly:!0},documentationOpened:Boolean}}static get observers(){return["_settingsChanged(headers.*)","_settingsChanged(queryParameters.*)","_schemeChanged(amfSettings, amfModel)"]}constructor(){super();this._headerChangedHandler=this._headerChangedHandler.bind(this);this._parameterChangedHandler=this._parameterChangedHandler.bind(this)}_attachListeners(node){node.addEventListener("request-header-changed",this._headerChangedHandler);node.addEventListener("query-parameter-changed",this._parameterChangedHandler)}_detachListeners(node){node.removeEventListener("request-header-changed",this._headerChangedHandler);node.removeEventListener("query-parameter-changed",this._parameterChangedHandler)}ready(){super.ready();Polymer.RenderStatus.afterNextRender(this,()=>{this._initialized=!0})}validate(){const form=this.shadowRoot.querySelector("iron-form");return form.validate()}_schemeChanged(){if(this.__schemeChangeDebouncer){return}this.__schemeChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__schemeChangeDebouncer=!1;this.__schemeChanged(this.amfSettings)})}__schemeChanged(model){const prefix=this.ns.raml.vocabularies.security;this.headers=void 0;this.queryParameters=void 0;this._clearDocs();if(!this._hasType(model,this.ns.raml.vocabularies.security+"ParametrizedSecurityScheme")){return}const shKey=this._getAmfKey(prefix+"scheme");let scheme=model[shKey],type;if(scheme){if(scheme instanceof Array){scheme=scheme[0]}type=this._getValue(scheme,prefix+"type")}if(!type||0!==type.indexOf("x-")){return}const hKey=this._getAmfKey(this.ns.raml.vocabularies.http+"header"),pKey=this._getAmfKey(this.ns.raml.vocabularies.http+"parameter");this._createViewModel("header",this._ensureArray(scheme[hKey]));this._createViewModel("parameter",this._ensureArray(scheme[pKey]));this._setSchemeName(this._getValue(model,prefix+"name"));this._setSchemeDescription(this._getValue(scheme,this.ns.schema.desc))}_createViewModel(type,model){if(!model){return}const factory=document.createElement("api-view-model-transformer");factory.amfModel=this.amfModel;const data=factory.computeViewModel(model);if(!data){return}if("header"===type){this._setHeaders(data)}else if("parameter"===type){this._setQueryParameters(data)}}_computeHasData(data){return!!(data&&data.length)}_settingsChanged(record){if(!this.shadowRoot||this.__cancelChangeEvent||!this._initialized){return}if(!record||!record.path){this._debounceNotify();return}const path=record.path;switch(path){case"headers":case"headers.splices":case"headers.length":case"queryParameters":case"queryParameters.splices":case"queryParameters.length":return this._debounceNotify();default:if(/[headers|queryParameters]\.\d+\.[name|value]/.test(path)){this._debounceNotify()}}}getSettings(){if(!this.shadowRoot){return{}}const form=this.shadowRoot.querySelector("iron-form");return form.serializeForm()}restore(){}_debounceNotify(){if(this.__notifyingChange){return}this.__notifyingChange=!0;setTimeout(()=>{this._notifySettingsChanged();this.__notifyingChange=!1},25)}_notifySettingsChanged(){const detail={settings:this.getSettings(),type:"x-custom",name:this.schemeName,valid:this.validate()};this.dispatchEvent(new CustomEvent("auth-settings-changed",{detail:detail,bubbles:!0,composed:!0}))}_headerValueChanged(e){this._propertyValueChanged("header",e)}_queryValueChanged(e){this._propertyValueChanged("parameter",e)}_propertyValueChanged(type,e){const model=e.model.get("item"),eventType="header"===type?"request-header-changed":"query-parameter-changed";this.dispatchEvent(new CustomEvent(eventType,{detail:{name:model.name,value:e.detail.value},bubbles:!0,composed:!0}))}_headerChangedHandler(e){this._updateEventValue("headers",e)}_parameterChangedHandler(e){this._updateEventValue("queryParameters",e)}_updateEventValue(target,e){if(e.target===this||e.defaultPrevented){return}let name=e.detail.name;if(!name){return}name="headers"===target?name.toLowerCase():name;const parameters=this[target];if(!parameters||!parameters.length){return}for(let i=0,len=parameters.length,pName;i<len;i++){pName=parameters[i].name;if(!pName){continue}pName="headers"===target?pName.toLowerCase():pName;if(pName===name){this.set([target,i,"value"],e.detail.value);return}}}_toggleDocumentation(e){const target=e.target,source=target.dataset.source;if(!source){throw new Error("Could not find source of the event.")}const repeater=this.shadowRoot.querySelector("[data-repeater=\""+source+"\"]");if(!repeater){throw new Error("Could not find repeater for the item.")}const model=repeater.modelForElement(target).get("item");let selector=".data-docs[data-source=\""+source+"\"]";selector+="[data-key=\""+model.name+"\"]";const docsContainer=this.shadowRoot.querySelector(selector);if(!docsContainer){throw new Error("Could not find documentation container.")}if(!docsContainer.children[0]){this._createDocsElements(model,docsContainer)}else{docsContainer.children[0].opened=!docsContainer.children[0].opened}}_createDocsElements(model,appendTo){const collapse=document.createElement("iron-collapse"),marked=document.createElement("marked-element"),wrapper=document.createElement("div");collapse.dataset.docsCollapse=!0;wrapper.className="markdown-html markdown-body";marked.appendChild(wrapper);collapse.appendChild(marked);appendTo.appendChild(collapse);marked.markdown=model.description;collapse.opened=!0}_clearDocs(){const nodes=this.shadowRoot.querySelectorAll("[data-docs-collapse=\"true\"]");if(!nodes||!nodes.length){return}nodes.forEach(node=>node.parentNode.removeChild(node))}toggleSchemeDocumentation(){this.documentationOpened=!this.documentationOpened}}window.customElements.define(AuthMethodCustom.is,AuthMethodCustom);</script></dom-module><dom-module id="authorization-panel" assetpath="bower_components/authorization-panel/"><template><style>:host{display:block;@apply --authorization-panel;}.auth-container{position:relative;}.no-method-info{@apply --arc-font-body1;@apply --empty-info;}paper-item:hover{@apply --paper-item-hover;}</style><div class="auth-container"><template is="dom-if" if="[[!hasAuthMethods]]"><p class="no-method-info">Authorization method for current endpoint is not supported.</p></template><auth-method-step step-start-index="0" step="1" no-steps="[[noSteps]]" inactive="[[isSelected]]" on-inactive-tap="_clearSelection"><span slot="title">Authorization method</span> <span slot="inactive-title">[[_computeSelectedLabel(selected)]]</span><paper-dropdown-menu label="Authorization method"><paper-listbox slot="dropdown-content" selected="{{selected}}"><template is="dom-repeat" items="[[authMethods]]"><paper-item>[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu></auth-method-step><section class="auth-panel"></section></div></template><script>class AuthorizationPanel extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"authorization-panel"}static get properties(){return{selected:{type:Number,notify:!0,observer:"_selectedChanged"},isSelected:{type:Boolean,value:!1,computed:"_computeIsSelected(selected)"},authRequired:{type:Boolean,value:!1,notify:!0},authValid:{type:Boolean,value:!0,notify:!0,computed:"_computeAuthValid(settings.valid, selected, authRequired)"},settings:{type:Object,notify:!0},securedBy:{type:Array},redirectUri:{type:Boolean,observer:"_redirectUriChanged"},authMethods:Array,hasAuthMethods:{type:Boolean,value:!1,computed:"_computeHasAuthMethods(authMethods)"},noSteps:{type:Boolean,value:!1,observer:"_nostepChanged"},customSchemes:Array,noink:{type:Boolean,observer:"_noinkChanged"},noDocs:{type:Boolean,observer:"_noDocsChanged"},httpMethod:{type:String,observer:"_requestMethodChanged"},requestUrl:{type:String,observer:"_requestUrlChanged"},requestBody:{type:String,observer:"_requestBodyChanged"},autoSelect:Boolean,readonly:Boolean}}get supportedMethods(){return[{type:"none",name:"No authorization"},{type:"Basic Authentication",name:"Basic authentication"},{type:"ntlm",name:"NTLM"},{type:"Digest Authentication",name:"Digest authentication"},{type:"OAuth 2.0",name:"OAuth 2.0"},{type:"OAuth 1.0",name:"OAuth 1.0"}]}static get observers(){return["_authSettingsUpdated(settings.*)","_passEventsTarget(eventsTarget)","_securedByChanged(securedBy, amfModel)","_amfModelChanged(amfModel)"]}get currentPanel(){if(!this.shadowRoot){return}return this.shadowRoot.querySelector("[data-auth-panel]")}constructor(){super();this._authSettingsHandler=this._authSettingsHandler.bind(this);this._onAuthSettingsChanged=this._onAuthSettingsChanged.bind(this)}_attachListeners(){if(!this.authMethods){this.set("authMethods",this._listAuthMethods())}this.addEventListener("auth-settings-changed",this._authSettingsHandler);this.addEventListener("authorization-settings-changed",this._onAuthSettingsChanged)}_detachListeners(){this.removeEventListener("auth-settings-changed",this._authSettingsHandler);this.removeEventListener("authorization-settings-changed",this._onAuthSettingsChanged)}ready(){super.ready();Polymer.RenderStatus.afterNextRender(this,()=>{if(0<=this.selected){this._selectedChanged(this.selected,this.selected);this._updateValidationState()}if(this.selected===void 0&&this.settings){this.restore(this.settings)}})}clear(){this.selected=-1;this.settings={}}_selectedChanged(selected,oldValue){this._ensureAuthHeaderRemoved(oldValue);if(-1===selected||selected===void 0){this.__removeExistingPanel();this._notifySettings();return}const methods=this.authMethods;if(!methods){return}const item=methods[selected];if(!item){this.set("settings",void 0);return}if(oldValue!==void 0){this._analyticsEvent("authorization-panel","usage-auth-method",item.type)}if(!this._cancelSettingsProcessing&&!this.__notifySelectionChanged(item.type)){this.set("selected",oldValue);return}if(selected!==oldValue){this.set("settings",void 0);this.__removeExistingPanel();this.__createAuthPanel(item)}this.__latestSelected=selected}_ensureAuthHeaderRemoved(oldSelected){const methods=this.authMethods;if(oldSelected===void 0||!methods){return}const oldMethod=methods[oldSelected],type=oldMethod&&this._panelTypeToRamType(oldMethod.type);if(type&&-1!==["Basic Authentication","OAuth 1.0","OAuth 2.0"].indexOf(type)){this._clearAuthHeader()}}_clearAuthHeader(){this.dispatchEvent(new CustomEvent("request-header-deleted",{bubbles:!0,cancelable:!0,composed:!0,detail:{name:"authorization"}}))}__notifySelectionChanged(selected){const e=this.fire("authorization-type-changed",{type:selected},{cancelable:!0});return!e.defaultPrevented}__removeExistingPanel(){const panel=this.currentPanel;if(!panel){return}panel.parentNode.removeChild(panel)}__createAuthPanel(selected){switch(selected.type){case"none":this.set("settings",{valid:!0,type:"none"});this._clearAuthHeader();break;case"Basic Authentication":this.__createBasicAuth();break;case"Digest Authentication":this.__createDigestAuth();break;case"ntlm":this.__createNtlmAuth();break;case"OAuth 1.0":this.__createOauth1Auth(selected);break;case"OAuth 2.0":this.__createOauth2Auth(selected);break;case"x-custom":this.__createCustomAuth(selected);break;default:this.__createUnsupportedAuth(selected);break;}Polymer.RenderStatus.afterNextRender(this,()=>{let settings;if("none"===selected.type){settings={valid:!0}}else{const panel=this.currentPanel;settings=panel&&panel.getSettings?panel.getSettings():void 0}this._notifySettings(settings)})}__addCommonProperties(panel,type){panel.eventsTarget=this.eventsTarget;panel.dataset.type=type;panel.dataset.authPanel=!0;panel.noSteps=this.noSteps;panel.noink=this.noink;panel.readonly=this.readonly;panel.amfModel=this.amfModel;panel.noDocs=this.noDocs}__createBasicAuth(){const panel=document.createElement("auth-method-basic");this.__addCommonProperties(panel,"basic");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createDigestAuth(){const panel=document.createElement("auth-method-digest");this.__addCommonProperties(panel,"digest");panel.httpMethod=this.httpMethod;panel.requestUrl=this.requestUrl;panel.requestBody=this.requestBody;this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createNtlmAuth(){const panel=document.createElement("auth-method-ntlm");this.__addCommonProperties(panel,"ntlm");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createOauth1Auth(selected){const panel=document.createElement("auth-method-oauth1");this.__addCommonProperties(panel,"oauth1");panel.redirectUrl=this.redirectUri;panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createOauth2Auth(selected){const panel=document.createElement("auth-method-oauth2");this.__addCommonProperties(panel,"oauth2");panel.redirectUri=this.redirectUri;panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createCustomAuth(selected){const panel=document.createElement("auth-method-custom");this.__addCommonProperties(panel,"custom");panel.amfSettings=this._computeAmfSettings(selected.type,selected.name);this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}__createUnsupportedAuth(selected){const panel=document.createElement("div"),info=document.createElement("p");info.innerText=`Method ${selected.type} is not yet supported.`;info.className="no-method-info";panel.appendChild(info);this.__addCommonProperties(panel,"unsupported");this.shadowRoot.querySelector(".auth-panel").appendChild(panel)}_computeAmfSettings(type,name){const model=this.securedBy;if(!model){return}if(name===type){name=void 0}const secPrefix=this.ns.raml.vocabularies.security;for(let i=0,len=model.length;i<len;i++){const item=model[i],shKey=this._getAmfKey(secPrefix+"scheme");let scheme=item[shKey];if(!scheme){continue}if(scheme instanceof Array){scheme=scheme[0]}const modelType=this._getValue(scheme,secPrefix+"type");if(!modelType){continue}if(modelType===type){if(!name){return item}let modelName=this._getValue(scheme,this.ns.schema.displayName);if(!modelName){modelName=this._getValue(item,secPrefix+"name")}if(modelName===name){return item}}}}_changePanelValue(prop,value){const panel=this.currentPanel;if(!panel){return}panel[prop]=value}_nostepChanged(value){this._changePanelValue("noSteps",value)}_passEventsTarget(target){this._changePanelValue("eventsTarget",target)}_noinkChanged(value){this._changePanelValue("noink",value)}_noDocsChanged(value){this._changePanelValue("noDocs",value)}_redirectUriChanged(uri){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"OAuth 1.0"!==selected.type&&"OAuth 2.0"!==selected.type){return}this._changePanelValue("redirectUri",uri)}_requestMethodChanged(method){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("httpMethod",method)}_requestUrlChanged(url){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("requestUrl",url)}_requestBodyChanged(body){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected||"Digest Authentication"!==selected.type){return}this._changePanelValue("requestBody",body)}_amfModelChanged(amfModel){this._changePanelValue("amfModel",amfModel)}_listAuthMethods(){const meta=this._listMetaAuthMethods();if(meta){return meta}return this.supportedMethods}_listMetaAuthMethods(){let meta=document.createElement("iron-meta").byKey("auth-methods");if(!meta){return}if("string"===typeof meta){try{meta=JSON.parse(meta)}catch(e){return}}if(!(meta instanceof Array)){return}const result=[];meta.forEach(key=>{let name;switch(key){case null:name="No authorization";key="none";break;case"ntlm":name="NTLM";break;case"basic":name="Basic Authentication";key=name;break;case"digest":name="Digest Authentication";key=name;break;case"oauth1":name="OAuth 1.0";key=name;break;case"oauth2":name="OAuth 2.0";key=name;break;}if(name){result.push({type:key,name:name})}});return result}_updateValidationState(){if(!this.selected||-1===this.selected||!this.settings){this.set("settings.valid",!0);return}const selected=this.authMethods[this.selected];if(!selected||"none"===selected.type){this.set("settings",{valid:!0});return}let panel=this.currentPanel;if(!panel){console.warn("The auth panel for %s not set",selected.type);return}let state;try{state=panel.validate()}catch(_){state=!0}if(state&&"OAuth 2.0"===selected.type){if(this.settings&&!this.settings.settings.tokenValue){state=!1}}this.set("settings.valid",state)}_authSettingsHandler(e){e.stopPropagation();e.stopImmediatePropagation();if(this.readonly){return}this.settings=e.detail;this._processPanelSettings(e.detail)}_panelTypeToRamType(type){switch(type){case"none":case"No authorization":return"none";case"ntlm":case"NTLM":return"ntlm";case"basic":case"Basic Authentication":return"Basic Authentication";case"digest":case"Digest Authentication":return"Digest Authentication";case"oauth1":case"OAuth 1.0":return"OAuth 1.0";case"oauth2":case"OAuth 2.0":return"OAuth 2.0";}}_authSettingsUpdated(record){if(this.readonly||"settings"!==record.path||-1!==record.path.indexOf(".splices")){return}if(this._cancelSettingsProcessing){return}let base=record.base;if(!base||!base.type){this.restore();return}const type=this._panelTypeToRamType(base.type);if(!type){return}if(this.selected===void 0||-1===this.selected){base.type=type;this.restore(base);return}const selected=this.authMethods&&this.authMethods[this.selected];if(selected&&selected.type!==type){base.type=type;this.restore(base);return}if(this.__notyfyingSettings){return}this.__notyfyingSettings=!0;setTimeout(()=>{this._notifySettings(base);this.__notyfyingSettings=!1},25)}restore(settings){if(!settings){if(this.selected||0===this.selected){this.selected=void 0}return}const methods=this.authMethods;if(!methods){return}const index=methods.findIndex(item=>item.type===settings.type);if(-1===index){return}if(this.selected!==index){this._cancelSettingsProcessing=!0;this.selected=index;this._cancelSettingsProcessing=!1}const panel=this.currentPanel;if(panel){panel.restore(settings.settings)}if(this.settings!==settings){this._cancelSettingsProcessing=!0;this.settings=settings;this._cancelSettingsProcessing=!1}}_notifySettings(settings,selected){if(this.readonly){return}if(!selected){selected=this.authMethods&&this.authMethods[this.selected]}let valid=!1,type;if(selected){type=selected.type;if("none"===selected.type){valid=!0}else if(settings){valid=settings.valid||!1}else if(this.authVaid){valid=!0}}else{if(!this.authRequired){valid=!0}}this.fire("authorization-settings-changed",{settings:settings,valid:valid,type:type})}_securedByChanged(secured){if(!secured||!secured.length){this.selected=-1;this.set("authRequired",!1);this.set("authMethods",this._listAuthMethods());return}if(this.__secChangeDebouncer){return}this.__secChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__secChangeDebouncer=!1;this.__securedByChanged(this.securedBy)})}__securedByChanged(secured){this.selected=-1;if(!secured||!secured.length){this.set("authRequired",!1);this.set("authMethods",this._listAuthMethods());return}const supported=[],secPrefix=this.ns.raml.vocabularies.security;let hasNull=!1;for(let i=0,len=secured.length;i<len;i++){const item=secured[i];if(!this._hasType(item,secPrefix+"ParametrizedSecurityScheme")){continue}const shKey=this._getAmfKey(secPrefix+"scheme");let scheme=item[shKey];if(!scheme){hasNull=!0;continue}if(scheme instanceof Array){scheme=scheme[0]}const type=this._getValue(scheme,secPrefix+"type");if(!type){hasNull=!0;continue}let name=this._getValue(scheme,this.ns.schema.displayName);if(!name){if("x-custom"===type){name=this._getValue(item,secPrefix+"name");if(!name){name="Custom authorization"}}else{name=type}}supported[supported.length]={name:name,type:type}}if(hasNull){supported.unshift({name:"No authorization",type:"none"})}this.set("authMethods",supported);if(1===supported.length){this.selected=0}this._updateValidationState();const isRequired=!!supported.length&&!hasNull;this.set("authRequired",isRequired);this._analyticsEvent("authorization-panel","usage-amf","loaded");if(this.__latestSelected!==void 0){if(supported.length>this.__latestSelected){this.selected=this.__latestSelected}}else if(isRequired&&this.autoSelect){Polymer.RenderStatus.afterNextRender(this,()=>{this.selected=0})}}_computeIsSelected(selected){return selected!==void 0&&-1!==selected}_computeSelectedLabel(selected){const methods=this.authMethods;if(!methods){return}const info=methods[selected];if(!info){return}return info.name}_clearSelection(){this.selected=-1}_computeAuthValid(formValid,selected,authRequired){if((selected===void 0||-1===selected)&&authRequired){return!1}if((selected===void 0||-1===selected)&&!authRequired){return!0}if(formValid===void 0&&!authRequired){return!0}if(!formValid){return!1}return!0}_onAuthSettingsChanged(e){if(this.readonly||e.composedPath()[0]===this){return}this.restore(e.detail)}_processPanelSettings(settings){switch(settings.type){case"oauth2":this._handleOauth2Settings(settings);break;case"digest":this._handleDigestSettings(settings);break;}}_handleOauth2Settings(settings){settings=settings||{};settings=settings.settings||{};const token=settings.accessToken;if(!token){this.set("settings.valid",!1);return}let type,value;if("header"===settings.deliveryMethod){type="request-header-changed";value=settings.tokenType+" "+token}else{type="query-parameter-changed";value=token}this.fire(type,{name:settings.deliveryName,value:value},{cancelable:!0})}_handleDigestSettings(settings){if(!settings.valid){this.fire("request-header-changed",{name:"authorization",value:""});return}settings=settings.settings;if(!settings){return}const data=settings.settings;if(!data||!(data.username&&data.password)){return}let value="Digest ";Object.keys(data).forEach(name=>{value+=name+"=\""+data[name]+"\", "});value=value.substr(0,value.length-2);this.fire("request-header-changed",{name:"authorization",value:value},{cancelable:!0})}fire(type,detail,options){const defaults={bubbles:!0,composed:!0,cancelable:!1};if(!options){options=defaults}else{options=Object.assign(defaults,options)}options.detail=detail;const e=new CustomEvent(type,options);this.dispatchEvent(e);return e}forceTokenAuthorization(){const selected=this.authMethods&&this.authMethods[this.selected];if(!selected){return!1}if(-1===["OAuth 2.0","OAuth 1.0"].indexOf(selected.type)){return!1}const panel=this.currentPanel;if(!panel){return!0}return panel.authorize()}_computeHasAuthMethods(authMethods){return!!(authMethods&&authMethods.length)}_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}}window.customElements.define(AuthorizationPanel.is,AuthorizationPanel);</script></dom-module><dom-module id="arc-definitions" assetpath="bower_components/arc-definitions/"><template><style>:host{display:none;}</style><script id="content" type="application/json">{
     "requests":[
      {"key":"Accept","desc":"Content-Types that are acceptable.","example":"Accept: text/plain","autocomplete":["application/json","application/xml","text/plain","application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/x-shockwave-flash, application/msword, */*","text/html, application/xhtml+xml, image/jxr, */*","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg, image/gif, image/x-xbitmap, */*;q=0.1","*/*","image/webp,image/*,*/*;q=0.8", "image/png,image/svg+xml,image/*;q=0.8, */*;q=0.5","audio/webm, audio/ogg, audio/wav, audio/*;q=0.9, application/ogg;q=0.7, video/*;q=0.6;*/*;q=0.5","audio/webm,audio/ogg,audio/wav,audio/*;q=0.9,application/ogg;q=0.7,video/*;q=0.6,*/*;q=0.5", "application/javascript, */*;q=0.8","text/css,*/*;q=0.1"]},
      {"key":"Accept-Charset","desc":"Character sets that are acceptable","example":"Accept-Charset: utf-8", "autocomplete": ["utf-8"]},
      {"key":"Accept-Encoding","desc":"Acceptable encodings","example":"Accept-Encoding: &lt;compress | gzip | deflate | identity&gt;","autocomplete":["compress","gzip","deflate"]},
      {"key":"Accept-Language","desc":"Acceptable languages for response","example":"Accept-Language: en-US","autocomplete":["en-US","en-GB, en;q=0.5","hin","jpn","zh-CN","es","ru"]},
      {"key":"Authorization","desc":"Authentication credentials for HTTP authentication","example":"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="},
      {"key":"Cache-Control","desc":"Used to specify directives that MUST be obeyed by all caching mechanisms along the request/response chain","example":"Cache-Control: no-cache","autocomplete":["no-cache","no-store","max-age=3600","max-stale","min-fresh=3600","no-transform","only-if-cached"]},
      {"key":"Connection","desc":"What type of connection the user-agent would prefer","example":"Connection: close","autocomplete": ["keep-alive","close"]},
      {"key":"Cookie","desc":"an HTTP cookie previously sent by the server with Set-Cookie","example":"Cookie: $Version=1; Skin=new;","autocomplete":["name=value","name=value; name2=value2; name3=value3"]},
      {"key":"Content-Length","desc":"The length of the request body in octets (8-bit bytes)","example":"Content-Length: 348"},
      {"key":"Content-Type","desc":"The mime type of the body of the request (used with POST and PUT requests)","example":"Content-Type: application/x-www-form-urlencoded","autocomplete":["application/json","application/xml","application/atom+xml","multipart/form-data","multipart/alternative","multipart/mixed","application/x-www-form-urlencoded","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"]},
      {"key":"Date","desc":"The date and time that the message was sent","example":"Date: Tue, 15 Nov 1994 08:12:31 GMT"},
      {"key":"Expect","desc":"Indicates that particular server behaviors are required by the client","example":"Expect: 100-continue","autocomplete":["100-continue"]},
      {"key":"From","desc":"The email address of the user making the request","example":"From: user@example.com","autocomplete":["webmaster@example.org"]},
      {"key":"Host","desc":"The domain name of the server (for virtual hosting), mandatory since HTTP/1.1","example":"Host: en.wikipedia.org","autocomplete":["advancedrestclient.com"]},
      {"key":"If-Match","desc":"Only perform the action if the client supplied entity matches the same entity on the server. This is mainly for methods like PUT to only update a resource if it has not been modified since the user last updated it.","example":"If-Match: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Modified-Since","desc":"Allows a 304 Not Modified to be returned if content is unchanged","example":"If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT"},
      {"key":"If-None-Match","desc":"Allows a 304 Not Modified to be returned if content is unchanged, see HTTP ETag","example":"If-None-Match: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Range","desc":"If the entity is unchanged, send me the part(s) that I am missing; otherwise, send me the entire new entity","example":"If-Range: \"737060cd8c284d8af7ad3082f209582d\"","autocomplete":["\"737060cd8c284d8af7ad3082f209582d\""]},
      {"key":"If-Unmodified-Since","desc":"Only send the response if the entity has not been modified since a specific time.","example":"If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT"},
      {"key":"Max-Forwards","desc":"Limit the number of times the message can be forwarded through proxies or gateways.","example":"Max-Forwards: 10"},
      {"key":"Pragma","desc":"Implementation-specific headers that may have various effects anywhere along the request-response chain","example":"Pragma: no-cache","autocomplete":["no-cache"]},
      {"key":"Proxy-Authorization","desc":"Authorization credentials for connecting to a proxy.","example":"Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="},
      {"key":"Range","desc":"Request only part of an entity. Bytes are numbered from 0.","example":"Range: bytes=500-999","autocomplete":["bytes=0-999","bytes=200-1000, 2000-6576","bytes=200-1000, 2000-6576, 19000-"]},
      {"key":"Referer","desc":"This is the address of the previous web page from which a link to the currently requested page was followed.","example":"Referer: http://en.wikipedia.org/wiki/Main_Page","autocomplete":["https://advancedrestclient.com/"]},
      {"key":"TE","desc":"The transfer encodings the user agent is willing to accept: the same values as for the response header Transfer-Encoding can be used, plus the \"trailers\" value (related to the \"chunked\" transfer method) to notify the server it accepts to receive additional headers (the trailers) after the last, zero-sized, chunk.","example":"TE: trailers, deflate","autocomplete":["compress","deflate","gzip","trailers","gzip, deflate;q=0.5"]},
      {"key":"Upgrade","desc":"Ask the server to upgrade to another protocol","example":"Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11","autocomplete":["h2c","websocket","TLS/1.0","TLS/1.0, HTTP/1.1"]},
      {"key":"User-Agent","desc":"The user agent string of the user agent","example":"User-Agent: Mozilla/5.0 (Linux; X11)","autocomplete":["Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0","Mozilla/5.0 (Macintosh; Intel Mac OS X x.y; rv:42.0) Gecko/20100101 Firefox/42.0","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36 OPR/38.0.2220.41","Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1","Mozilla/5.0 (compatible; MSIE 9.0; Windows Phone OS 7.5; Trident/5.0; IEMobile/9.0)","Googlebot/2.1 (+http://www.google.com/bot.html)"]},
      {"key":"Via","desc":"Informs the server of proxies through which the request was sent.","example":"Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)","autocomplete":["1.1 vegur","HTTP/1.1 GWA","1.0 fred, 1.1 p.example.net"]},
      {"key":"Warning","desc":"A general warning about possible problems with the entity body.","example":"Warning: 199 Miscellaneous warning","autocomplete":["110 anderson/1.3.37 \"Response is stale\"","112 - \"cache down\" \"Wed, 21 Oct 2015 07:28:00 GMT\""]}
     ],
     "responses": [
      {"key":"Accept-Ranges","desc":"What partial content range types this server supports","example":"Accept-Ranges: bytes"},
      {"key":"Age","desc":"The age the object has been in a proxy cache in seconds","example":"Age: 12"},
      {"key":"Allow","desc":"Valid actions for a specified resource. To be used for a 405 Method not allowed","example":"Allow: GET, HEAD"},
      {"key":"Cache-Control","desc":"Tells all caching mechanisms from server to client whether they may cache this object","example":"Cache-Control: max-age"},
      {"key":"Content-Encoding","desc":"The type of encoding used on the data","example":"Content-Encoding: gzip"},
      {"key":"Content-Language","desc":"The language the content is in","example":"Content-Language: da"},
      {"key":"Content-Length","desc":"The length of the response body in octets (8-bit bytes)","example":"Content-Length: 348"},
      {"key":"Content-Location","desc":"An alternate location for the returned data","example":"Content-Location: /index.htm"},
      {"key":"Content-Disposition","desc":"An opportunity to raise a \"File Download\" dialogue box for a known MIME type","example":"Content-Disposition: attachment; filename=fname.ext"},
      {"key":"Content-MD5","desc":"A Base64-encoded binary MD5 sum of the content of the response","example":"Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ=="},
      {"key":"Content-Range","desc":"Where in a full body message this partial message belongs","example":"Content-Range: bytes 21010-47021/47022"},
      {"key":"Content-Type","desc":"The mime type of this content","example":"Content-Type: text/html; charset=utf-8"},
      {"key":"Date","desc":"The date and time that the message was sent","example":"Date: Tue, 15 Nov 1994 08:12:31 GMT"},
      {"key":"ETag","desc":"An identifier for a specific version of a resource, often a Message Digest, see ETag","example":"ETag: \"737060cd8c284d8af7ad3082f209582d\""},
      {"key":"Expires","desc":"Gives the date/time after which the response is considered stale","example":"Expires: Thu, 01 Dec 1994 16:00:00 GMT"},
      {"key":"Last-Modified","desc":"The last modified date for the requested object, in RFC 2822 format","example":"Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT"},
      {"key":"Link","desc":"Used to express a typed relationship with another resource, where the relation type is defined by RFC 5988","example":"Link: &lt;/feed&gt;; rel=\"alternate\""},
      {"key":"Location","desc":"Used in redirection, or when a new resource has been created.","example":"Location: http://www.w3.org/pub/WWW/People.html"},
      {"key":"P3P","desc":"This header is supposed to set P3P policy, in the form of P3P:CP=\"your_compact_policy\". However, P3P did not take off[2], most browsers have never fully implemented it, a lot of websites set this header with fake policy text, that was enough to fool browsers the existence of P3P policy and grant permissions for third party cookies.","example":"P3P: CP=\"This is not a P3P policy! See http://www.google.com/support/accounts/bin/answer.py?hl=en&answer=151657 for more info.\""},
      {"key":"Pragma","desc":"Implementation-specific headers that may have various effects anywhere along the request-response chain.","example":"Pragma: no-cache"},
      {"key":"Proxy-Authenticate","desc":"Request authentication to access the proxy.","example":"Proxy-Authenticate: Basic"},
      {"key":"Refresh","desc":"Used in redirection, or when a new resource has been created. This refresh redirects after 5 seconds.(This is a proprietary/non-standard header extension introduced by Netscape and supported by most web browsers.)","example":"Refresh: 5; url=http://www.w3.org/pub/WWW/People.html"},
      {"key":"Retry-After","desc":"If an entity is temporarily unavailable, this instructs the client to try again after a specified period of time.","example":"Retry-After: 120"},
      {"key":"Server","desc":"A name for the server","example":"Server: Apache/1.3.27 (Unix) (Red-Hat/Linux)"},
      {"key":"Set-Cookie","desc":"an HTTP cookie","example":"Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1"},
      {"key":"Trailer","desc":"The Trailer general field value indicates that the given set of header fields is present in the trailer of a message encoded with chunked transfer-coding.","example":"Trailer: Max-Forwards"},
      {"key":"Transfer-Encoding","desc":"The form of encoding used to safely transfer the entity to the user. Currently defined methods are: chunked, compress, deflate, gzip, identity.","example":"Transfer-Encoding: chunked"},
      {"key":"Vary","desc":"Tells downstream proxies how to match future request headers to decide whether the cached response can be used rather than requesting a fresh one from the origin server.","example":"Vary: *"},
      {"key":"Via","desc":"Informs the client of proxies through which the response was sent.","example":"Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1)"},
      {"key":"Warning","desc":"A general warning about possible problems with the entity body.","example":"Warning: 199 Miscellaneous warning"},
      {"key":"WWW-Authenticate","desc":"Indicates the authentication scheme that should be used to access the requested entity.","example":"WWW-Authenticate: Basic"}
     ],
     "codes":[
      {"key":100, "label":"Continue","desc":"This means that the server has received the request headers, and that the client should proceed to send the request body (in the case of a request for which a body needs to be sent; for example, a POST request). If the request body is large, sending it to a server when a request has already been rejected based upon inappropriate headers is inefficient. To have a server check if the request could be accepted based on the request's headers alone, a client must send Expect: 100-continue as a header in its initial request and check if a 100 Continue status code is received in response before continuing (or receive 417 Expectation Failed and not continue)."},
      {"key":101, "label":"Switching Protocols","desc":"This means the requester has asked the server to switch protocols and the server is acknowledging that it will do so"},
      {"key":102, "label":"Processing","desc":"As a WebDAV request may contain many sub-requests involving file operations, it may take a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet. This prevents the client from timing out and assuming the request was lost."},
      {"key":200, "label":"OK","desc":"Standard response for successful HTTP requests. The actual response will depend on the request method used. In a GET request, the response will contain an entity corresponding to the requested resource. In a POST request the response will contain an entity describing or containing the result of the action."},
      {"key":201, "label":"Created","desc":"The request has been fulfilled and resulted in a new resource being created."},
      {"key":202, "label":"Accepted","desc":"The request has been accepted for processing, but the processing has not been completed. The request might or might not eventually be acted upon, as it might be disallowed when processing actually takes place."},
      {"key":203, "label":"Non-Authoritative Information (since HTTP/1.1)","desc":"The server successfully processed the request, but is returning information that may be from another source."},
      {"key":204, "label":"No Content","desc":"The server successfully processed the request, but is not returning any content."},
      {"key":205, "label":"Reset Content","desc":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view."},
      {"key":206, "label":"Partial Content","desc":"The server is delivering only part of the resource due to a range header sent by the client. The range header is used by tools like wget to enable resuming of interrupted downloads, or split a download into multiple simultaneous streams."},
      {"key":207, "label":"Multi-Status (WebDAV) (RFC 4918)","desc":"The message body that follows is an XML message and can contain a number of separate response codes, depending on how many sub-requests were made."},
      {"key":300, "label":"Multiple Choices","desc":"Indicates multiple options for the resource that the client may follow. It, for instance, could be used to present different format options for video, list files with different extensions, or word sense disambiguation."},
      {"key":301, "label":"Moved Permanently","desc":"This and all future requests should be directed to the given URI."},
      {"key":302, "label":"Found","desc":"This is an example of industrial practice contradicting the standard. HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was \"Moved Temporarily\"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours. However, the majority of Web applications and frameworks still use the 302 status code as if it were the 303."},
      {"key":303, "label":"See Other (since HTTP/1.1)","desc":"The response to the request can be found under another URI using a GET method. When received in response to a PUT, it should be assumed that the server has received the data and the redirect should be issued with a separate GET message."},
      {"key":304, "label":"Not Modified","desc":"Indicates the resource has not been modified since last requested. Typically, the HTTP client provides a header like the If-Modified-Since header to provide a time against which to compare. Using this saves bandwidth and reprocessing on both the server and client, as only the header data must be sent and received in comparison to the entirety of the page being re-processed by the server, then sent again using more bandwidth of the server and client."},
      {"key":305, "label":"Use Proxy (since HTTP/1.1)","desc":"Many HTTP clients (such as Mozilla and Internet Explorer) do not correctly handle responses with this status code, primarily for security reasons."},
      {"key":306, "label":"Switch Proxy","desc":"No longer used."},
      {"key":307, "label":"Temporary Redirect (since HTTP/1.1)","desc":"In this occasion, the request should be repeated with another URI, but future requests can still use the original URI. In contrast to 303, the request method should not be changed when reissuing the original request. For instance, a POST request must be repeated using another POST request."},
      {"key":400, "label":"Bad Request","desc":"The request cannot be fulfilled due to bad syntax."},
      {"key":401, "label":"Unauthorized","desc":"Similar to 403 Forbidden, but specifically for use when authentication is possible but has failed or not yet been provided. The response must include a WWW-Authenticate header field containing a challenge applicable to the requested resource. See Basic access authentication and Digest access authentication."},
      {"key":402, "label":"Payment Required","desc":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, but that has not happened, and this code is not usually used. As an example of its use, however, Apple's MobileMe service generates a 402 error (\"httpStatusCode:402\" in the Mac OS X Console log) if the MobileMe account is delinquent."},
      {"key":403, "label":"Forbidden","desc":"The request was a legal request, but the server is refusing to respond to it. Unlike a 401 Unauthorized response, authenticating will make no difference."},
      {"key":404, "label":"Not Found","desc":"The requested resource could not be found but may be available again in the future. Subsequent requests by the client are permissible."},
      {"key":405, "label":"Method Not Allowed","desc":"A request was made of a resource using a request method not supported by that resource; for example, using GET on a form which requires data to be presented via POST, or using PUT on a read-only resource."},
      {"key":406, "label":"Not Acceptable","desc":"The requested resource is only capable of generating content not acceptable according to the Accept headers sent in the request."},
      {"key":407, "label":"Proxy Authentication Required","desc":"This code is similar to 401 (Unauthorized), but indicates that the client must first authenticate itself with the proxy."},
      {"key":408, "label":"Request Timeout","desc":"The client did not produce a request within the time that the server was prepared to wait. The client MAY repeat the request without modifications at any later time."},
      {"key":409, "label":"Conflict","desc":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict."},
      {"key":410, "label":"Gone","desc":"Indicates that the resource requested is no longer available and will not be available again.[2] This should be used when a resource has been intentionally removed and the resource should be purged. Upon receiving a 410 status code, the client should not request the resource again in the future."},
      {"key":411, "label":"Length Required","desc":"The request did not specify the length of its content, which is required by the requested resource."},
      {"key":412, "label":"Precondition Failed","desc":"The server does not meet one of the preconditions that the requester put on the request."},
      {"key":413, "label":"Request Entity Too Large","desc":"The request is larger than the server is willing or able to process."},
      {"key":414, "label":"Request-URI Too Long","desc":"The URI provided was too long for the server to process."},
      {"key":415, "label":"Unsupported Media Type","desc":"The request entity has a media type which the server or resource does not support.[2] For example, the client uploads an image as image/svg+xml, but the server requires that images use a different format."},
      {"key":416, "label":"Requested Range Not Satisfiable","desc":"The client has asked for a portion of the file, but the server cannot supply that portion. For example, if the client asked for a part of the file that lies beyond the end of the file."},
      {"key":417, "label":"Expectation Failed","desc":"The server cannot meet the requirements of the Expect request-header field."},
      {"key":418, "label":"I'm a teapot","desc":"This code was defined in 1998 as one of the traditional IETF April Fools' jokes, in RFC 2324, Hyper Text Coffee Pot Control Protocol, and is not expected to be implemented by actual HTTP servers."},
      {"key":422, "label":"Unprocessable Entity (WebDAV) (RFC 4918)","desc":"The request was well-formed but was unable to be followed due to semantic errors."},
      {"key":423, "label":"Locked (WebDAV) (RFC 4918)","desc":"The resource that is being accessed is locked."},
      {"key":424, "label":"Failed Dependency (WebDAV) (RFC 4918)","desc":"The request failed due to failure of a previous request (e.g. a PROPPATCH)."},
      {"key":425, "label":"Unordered Collection (RFC 3648)","desc":"Defined in drafts of \"WebDAV Advanced Collections Protocol\", but not present in \"Web Distributed Authoring and Versioning (WebDAV) Ordered Collections Protocol\""},
      {"key":426, "label":"Upgrade Required (RFC 2817)","desc":"The client should switch to a different protocol such as TLS/1.0."},
      {"key":444, "label":"No Response","desc":"An Nginx HTTP server extension. The server returns no information to the client and closes the connection (useful as a deterrent for malware)."},
      {"key":449, "label":"Retry With","desc":"A Microsoft extension. The request should be retried after performing the appropriate action."},
      {"key":450, "label":"Blocked by Windows Parental Controls","desc":"A Microsoft extension. This error is given when Windows Parental Controls are turned on and are blocking access to the given webpage."},
      {"key":499, "label":"Client Closed Request","desc":"An Nginx HTTP server extension. This code is introduced to log the case when the connection is closed by client while HTTP server is processing its request, making server unable to send the HTTP header back."},
      {"key":500, "label":"Internal Server Error","desc":"A generic error message, given when no more specific message is suitable."},
      {"key":501, "label":"Not Implemented","desc":"The server either does not recognise the request method, or it lacks the ability to fulfill the request."},
      {"key":502, "label":"Bad Gateway","desc":"The server was acting as a gateway or proxy and received an invalid response from the upstream server."},
      {"key":503, "label":"Service Unavailable","desc":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state."},
      {"key":504, "label":"Gateway Timeout","desc":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server."},
      {"key":505, "label":"HTTP Version Not Supported","desc":"The server does not support the HTTP protocol version used in the request"},
      {"key":506, "label":"Variant Also Negotiates","desc":"Transparent content negotiation for the request results in a circular reference."},
      {"key":507, "label":"Insufficient Storage (WebDAV) (RFC 4918)","desc":"The 507 status code means the method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."},
      {"key":509, "label":"Bandwidth Limit Exceeded (Apache bw/limited extension)","desc":"This status code, while used by many servers, is not specified in any RFCs."},
      {"key":510, "label":"Not Extended (RFC 2774)","desc":"Further extensions to the request are required for the server to fulfill it."}
     ]
    }</script></template><script>class ArcDefinitions extends Polymer.Element{static get is(){return"arc-definitions"}static get properties(){return{requestHeaders:{type:Array,notify:!0,readOnly:!0},responseHeaders:{type:Array,notify:!0,readOnly:!0},statusCodes:{type:Array,notify:!0,readOnly:!0},loadOnDemand:Boolean}}constructor(){super();this._queryHeadersHandler=this._queryHeadersHandler.bind(this);this._queryCodesHandler=this._queryCodesHandler.bind(this)}ready(){super.ready();if(!this.loadOnDemand){this._setDefinitions()}}connectedCallback(){super.connectedCallback();window.addEventListener("query-headers",this._queryHeadersHandler);window.addEventListener("query-status-codes",this._queryCodesHandler)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("query-headers",this._queryHeadersHandler);window.removeEventListener("query-status-codes",this._queryCodesHandler)}_setDefinitions(){var defs=JSON.parse(this.$.content.textContent);this._setRequestHeaders(defs.requests);this._setResponseHeaders(defs.responses);this._setStatusCodes(defs.codes);this._definitionsReady=!0}queryRequestHeaders(name){return this.queryHeaders(name,"request")}queryResponseHeaders(name){return this.queryHeaders(name)}queryHeaders(query,type){if(!this._definitionsReady){this._setDefinitions()}var headers="request"===type?this.requestHeaders:this.responseHeaders;if(!headers||!headers.length){return[]}if(!query){return headers}query=query.trim().toLowerCase();if(!query){return headers}return headers.filter(function(item){return-1!==item.key.toLowerCase().indexOf(query)})}getStatusCode(code){if(!this._definitionsReady){this._setDefinitions()}var codes=this.statusCodes;if(!codes||!codes.length){return null}if(!code){return codes}code=+code;if(code!==code){console.warn("Passed code is not a number.");return null}var res=codes.filter(item=>item.key===code);if(!res.length){return null}return res[0]}_queryHeadersHandler(e){if(e.defaultPrevented){return}this._stopEvent(e);var type=e.detail.type;if(!type){e.detail.headers=[];return}e.detail.headers=this.queryHeaders(e.detail.query,type)}_queryCodesHandler(e){if(e.defaultPrevented){return}this._stopEvent(e);e.detail.statusCode=this.getStatusCode(e.detail.code)}_stopEvent(e){e.stopImmediatePropagation();e.preventDefault()}}window.customElements.define(ArcDefinitions.is,ArcDefinitions);</script></dom-module><dom-module id="api-headers-form-item" assetpath="bower_components/api-headers-form/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles">:host{display:block;@apply --api-headers-form-item;}.form-row{@apply --layout-horizontal;@apply --layout-center;@apply --layout-flex;}.value-field,
    .name-field{position:relative;}.name-field,
    .value-field{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-start;}.param-name,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.param-name{margin-right:12px;@apply --api-headers-form-name-input;}:host([narrow]) .form-row{display:block;}:host([narrow]) .param-name{margin-right:0;@apply --api-headers-form-name-input-narrow;}[hidden]{display:none !important;}:host([is-array]) .value-field{@apply --layout-start;@apply --api-headers-form-array-parameter;}paper-icon-button{margin-top:var(--api-headers-editore-hint-icon-margin-top, 16px);}:host([narrow]) paper-icon-button{margin-top:var(--api-headers-editore-hint-icon-margin-top-narrow, 16px);}.custom-wrapper{@apply --layout-horizontal;@apply --layout-start;}.docs{margin-right:0;}</style><template is="dom-if" if="[[!isCustom]]" restamp=""><div class="value-field api-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="typed" required$="[[required]]" on-focus="_customChangeFocus" on-blur="_closeAutocomplete" readonly="[[readonly]]"></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-click="toggleDocs"></paper-icon-button></template><slot name="suffix"></slot></div></template><template is="dom-if" if="[[isCustom]]" restamp=""><div class="custom-wrapper"><div class="form-row custom-field"><div class="name-field"><paper-input value="{{name}}" label="Header name" class="param-name" on-focus="_headerNameFocus" type="text" pattern="\S*" error="Header name is not valid" readonly="[[readonly]]" on-input="_queryHeaderName" required=""></paper-input><template is="dom-if" if="[[_renderAutocomplete(_nameInput, _nameSuggestions)]]"><paper-autocomplete class="name-suggestions" dynamic-align="" vertical-align="bottom" horizontal-align="left" vertical-offset="56" target="[[_nameInput]]" source="[[_nameSuggestions]]" on-selected="_onHeaderNameSelected" opened="{{_nameSuggestionsOpened}}"></paper-autocomplete></template></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="custom" on-focus="_customChangeFocus" readonly="[[readonly]]"></api-property-form-item></div></div><div class="actions"><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-click="toggleDocs"></paper-icon-button></template><slot name="suffix"></slot></div></div></template><template is="dom-if" restamp="" id="docsIf" on-dom-change="_docsRendered"><div class="docs"><iron-collapse opened="[[docsOpened]]" on-transitionend="_docsAnimated"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template><template is="dom-if" if="[[_renderAutocomplete(_valueInput, _valueSuggestions)]]"><paper-autocomplete class="value-autocomplete" on-selected="_onHeaderValueSelected" position-target="[[_valueInput]]" dynamic-align="" vertical-align="bottom" horizontal-align="left" vertical-offset="56" target="[[_valueInput]]" source="[[_valueSuggestions]]"></paper-autocomplete></template></template><script>class ApiHeadersFormItem extends Polymer.mixinBehaviors(Polymer.IronValidatableBehavior,Polymer.Element){static get is(){return"api-headers-form-item"}static get properties(){return{model:Object,name:{notify:!0,type:String,observer:"_nameChanged"},value:{notify:!0,type:String},narrow:{type:Boolean,value:!1,reflectToAttribute:!0},docsOpened:Boolean,isCustom:{type:Boolean,value:!1},isArray:{type:Boolean,reflectToAttribute:!0},_valueSuggestions:Array,_nameSuggestions:Array,_valueInput:Object,_nameInput:Object,required:Boolean,_nameSuggestionsOpened:Boolean,noDocs:Boolean,readonly:Boolean}}toggleDocs(){if(!this.docsOpened){this.$.docsIf.if=!0}else{this.docsOpened=!1}}_docsRendered(e){if(!e.target.if){return}if(!this.docsOpened){this.docsOpened=!0}}_docsAnimated(){if(!1===this.docsOpened){this.$.docsIf.if=!1}}_headerNameFocus(e){if(this.readonly||this._nameInput){return}this._nameInput=e.currentTarget||e.target}_onHeaderNameSelected(e){this.set("name",e.detail.value)}_queryHeaderName(e){const suggestions=this._queryHeaderNameSuggestions(e.detail.value);if(!suggestions||!suggestions.length){this._nameSuggestions=void 0;this._nameSuggestionsOpened=!1;return}this._nameSuggestions=suggestions.map(item=>{return{value:item.key,display:item.key}});const ac=this.shadowRoot.querySelector(".name-suggestions");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged()}_queryHeaderNameSuggestions(q){const ev=new CustomEvent("query-headers",{detail:{type:"request",query:q},cancelable:!0,bubbles:!0,composed:!0});this.dispatchEvent(ev);return ev.detail.headers}_getValidity(){let selector="api-property-form-item[data-type=\"";selector+=this.isCustom?"custom":"typed";selector+="\"]";const input=this.shadowRoot.querySelector(selector);return input.validate()}_nameChanged(name){const model=this.model;if(!name||!model||!model.schema||model.schema.isEnum){this._updateValueAutocomplete();if(!this.noDocs){this._updateHeaderDocs()}return}Polymer.RenderStatus.afterNextRender(this,()=>{const info=this._queryHeaderNameSuggestions(name);this._updateValueAutocomplete(info);if(!this.noDocs){this._updateHeaderDocs(info)}})}_customChangeFocus(){if(this.readonly){return}if(this._valueInput){const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged();return}if(this.__customChangeFocus){return}this.__customChangeFocus=!0;this._valueInput=this.shadowRoot.querySelector("api-property-form-item");Polymer.RenderStatus.afterNextRender(this,()=>{const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!0;ac._previousQuery="";ac._valueChanged()})}_updateValueAutocomplete(headers){if(!headers||!headers.length){if(this._valueSuggestions){this._valueSuggestions=void 0}return}let header;for(let i=0,len=headers.length;i<len;i++){if(headers[i].key.toLowerCase()===this.name.toLowerCase()){header=headers[i];break}}if(header){this._valueSuggestions=header.autocomplete}else{this._valueSuggestions=void 0}}_updateHeaderDocs(info){if(this._nameSuggestionsOpened||this.noDocs){return}const model=this.model;if(!model){return}if(!info||1!==info.length){if(model.hasDescription&&model.__ownDescription){this.set("model.description",void 0);this.set("model.hasDescription",!1);this.model.__ownDescription=!1}return}if(model.hasDescription){return}this.set("model.description",info[0].desc);this.set("model.hasDescription",!0);this.model.__ownDescription=!0}_onHeaderValueSelected(e){this.set("value",e.detail.value)}_closeAutocomplete(){if(!this._valueInput){return}if(this.__closingAutocomplete){return}this.__closingAutocomplete=!0;setTimeout(()=>{this.__closingAutocomplete=!1;const ac=this.shadowRoot.querySelector(".value-autocomplete");if(!ac){return}ac.opened=!1},250)}_renderAutocomplete(input,suggestions){return!!(input&&suggestions&&suggestions.length)}}window.customElements.define(ApiHeadersFormItem.is,ApiHeadersFormItem);</script></dom-module><dom-module id="api-headers-form" assetpath="bower_components/api-headers-form/"><template><style include="api-form-styles">:host{display:block;@apply --api-headers-form;}api-headers-form-item{@apply --layout-flex;}.delete-icon{margin-top:var(--api-headers-form-delete-icon-margin-top, 16px);}.enable-checkbox{margin-top:var(--api-headers-form-enable-checkbox-margin-top, 32px);margin-right:8px;}:host([narrow]) .delete-icon{margin-top:var(--api-headers-form-delete-icon-margin-top-narrow, 16px);}:host([narrow]) .enable-checkbox{margin-top:var(--api-headers-form-enable-checkbox-margin-top-narrow, 32px);}[hidden]{display:none !important;}.empty-info{@apply --no-info-message;}</style><arc-definitions id="definitions"></arc-definitions><template is="dom-if" if="[[renderEmptyMessage]]"><p class="empty-info">Headers are not defined for this endpoint</p></template><iron-form><form enctype="application/json"><template is="dom-if" if="[[renderOptionalCheckbox]]"><div class="optional-checkbox"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional parameters">Show optional headers</paper-checkbox></div></template><dom-repeat items="{{model}}"><template><div class="form-item" data-optional$="[[computeIsOptional(hasOptional, item)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" checked="{{item.schema.enabled}}" title="Enable or disable this header" disabled="[[readonly]]"></paper-checkbox></template><api-headers-form-item name="{{item.name}}" value="{{item.value}}" model="[[item]]" required$="[[item.required]]" readonly="[[readonly]]" is-custom="[[item.schema.isCustom]]" is-array="[[item.schema.isArray]]" narrow="[[narrow]]" no-docs="[[noDocs]]"><paper-icon-button title="Removes header from the form" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom" slot="suffix" disabled="[[readonly]]"></paper-icon-button></api-headers-form-item></div></template></dom-repeat></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds new header to the form" disabled="[[readonly]]"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add header icon"></iron-icon>Add header</paper-button></div></template></template><script>class ApiHeadersForm extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"api-headers-form"}static get properties(){return{value:{type:String,notify:!0},noDocs:Boolean,readonly:Boolean,autoValidate:Boolean}}static get observers(){return["_modelChanged(model.*, readonly)"]}add(){if(!this.allowCustom){return}this.addCustom("header")}_modelChanged(record,readonly){if(readonly){return}if("model"===record.path&&this.invalid){this.invalid=!1}if(-1!==["model","model.splices"].indexOf(record.path)){this._updateValue();if("model"===record.path&&record.value){this._autoDescribeModel(record.value)}}else if(record.path.match(/model.\d+.(name|value|schema\.enabled)/)){this._updateValue(this.autoValidate)}}_updateValue(validate){if(this.__updatingModelValue||this.readonly){return}this.__updatingModelValue=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__updateValue(validate);this.__updatingModelValue=!1})}__updateValue(validate){const h=this.model;if(!h||!h.length){this.value="";if(this.invalid){this.invalid=!1}return}let value="";for(let i=0,len=h.length;i<len;i++){const item=h[i];if(item.schema&&!1===item.schema.enabled){continue}let n=item.name||"",v=item.value||"";if(!n&&!v){continue}if(v instanceof Array){v=v.join(",")}if(!v&&!item.required){continue}if(value[0]){value+="\n"}value+=n+": "+v}this.set("value",value);if(validate){this.validate()}}_autoDescribeModel(model){if(this.noDocs){return}model.forEach((item,index)=>this._fillModelDescription(item,index))}_fillModelDescription(item,index){if(item.hasDescription||item.isCustom){return}const type=this._queryHeaderData(item.name);if(!type){return}this.set(["model",index,"description"],type.desc);this.set(["model",index,"hasDescription"],!0);this.set(["model",index,"schema","examples"],[type.example])}_queryHeaderData(name){const suggestions=this.$.definitions.queryHeaders(name,"request");if(!suggestions){return}name=name.toLowerCase();return suggestions.find(i=>i.key.toLowerCase()===name)}_getValidity(){const form=this.shadowRoot&&this.shadowRoot.querySelector("iron-form");return form?form.validate():!0}}window.customElements.define(ApiHeadersForm.is,ApiHeadersForm);</script></dom-module><dom-module id="codemirror" assetpath="bower_components/code-mirror/"><template><style>.CodeMirror{font-family:monospace;height:var(--code-mirror-width, 300px);color:black;background:var(--code-mirror-background-color, white);direction:var(--code-mirror-direction, ltr);}.CodeMirror-lines{padding:var(--code-mirror-line-padding, 4px 0);}.CodeMirror pre.CodeMirror-line{color:var(--code-mirror-punctuation-color, inherit);}.CodeMirror pre{padding:var(--code-mirror-pre-padding, 0 4px);}.CodeMirror-scrollbar-filler,
    .CodeMirror-gutter-filler{background-color:var(--code-mirror-background-color, white);}.CodeMirror-gutters{border-right:1px solid var(--code-mirror-gutters-border-right-color, #ddd);background-color:var(--code-mirror-gutters-background-color, #f7f7f7);white-space:nowrap;}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:var(--code-mirror-line-number-color, #999);white-space:nowrap;}.CodeMirror-guttermarker{color:black;}.CodeMirror-guttermarker-subtle{color:#999;}.CodeMirror div.CodeMirror-cursor{border-left:1px solid var(--code-mirror-cursor-color, black);}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid var(--code-mirror-secondary-cursor-color, silver);}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7;}.cm-fat-cursor div.CodeMirror-cursors{z-index:1;}.cm-fat-cursor-mark{background-color:rgba(20, 255, 20, 0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7;}@-moz-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@-webkit-keyframes blink{0%{}50%{background-color:transparent;}100%{}}@keyframes blink{0%{}50%{background-color:transparent;}100%{}}.cm-tab{display:inline-block;text-decoration:inherit;}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute;}.cm-header{font-weight:bold;color:var(--code-mirror-header-color, inherit);}.cm-quote{color:var(--code-mirror-quote-color, #090);}.cm-negative{color:var(--code-mirror-negative-color, #d44);}.cm-positive{color:var(--code-mirror-positive-color, #292);}.cm-em{font-style:italic;}.cm-link{text-decoration:underline;}.cm-strikethrough{text-decoration:line-through;}.cm-invalidchar{color:var(--code-mirror-invalidchar-color, #f00);}.cm-keyword{line-height:1em;font-weight:bold;color:var(--code-mirror-keyword-color, #5A5CAD);}.cm-atom{color:var(--code-mirror-atom-color, #6C8CD5);}.cm-number{color:var(--code-mirror-number-color, #164);}.cm-def{text-decoration:underline;color:var(--code-mirror-def-color, inherit);}.cm-variable{color:var(--code-mirror-variable-color, black);}.cm-variable-2{color:var(--code-mirror-variable2-color, black);}.cm-variable-3{color:var(--code-mirror-variable3-color, black);}.cm-punctuation{color:var(--code-mirror-punctuation-color, inherit);}.cm-property{color:var(--code-mirror-property-color, inherit);}.cm-operator{color:var(--code-mirror-operator-color, inherit);}.cm-comment{color:var(--code-mirror-comment-color, #0080FF);font-style:italic;}.cm-string{color:var(--code-mirror-string-color, #6C8CD5);}.cm-string-2{color:var(--code-mirror-string-color, #f50);}.cm-meta{color:var(--code-mirror-meta-color, #9e9e9e);}.cm-qualifier{color:var(--code-mirror-qualifier-color, grey);}.cm-builtin{color:var(--code-mirror-builtin-color, #7EA656);}.cm-bracket{color:var(--code-mirror-bracket-color, #cc7);}.cm-tag{color:var(--code-mirror-tag-color, #3F7F7F);}.cm-attribute{color:var(--code-mirror-attribute-color, #7F007F);}.cm-error{color:var(--code-mirror-error-color, #f00);}.CodeMirror-composing{border-bottom:2px solid;}.CodeMirror-activeline-background{background:var(--code-mirror-active-line-background-color, #e8f2ff);}div.CodeMirror span.CodeMirror-matchingbracket{outline:1px solid grey;color:var(--code-mirror-active-match-bracked-color, black);background:var(--code-mirror-active-match-bracked-background-color, yellow);}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22;}.CodeMirror-matchingtag{background:var(--code-mirror-matches-background-color, rgba(255, 150, 0, .3));}.CodeMirror-lint-mark-error,
    .CodeMirror-lint-mark-warning{background-position:left bottom;background-repeat:repeat-x;}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");}.CodeMirror{position:relative;overflow:hidden;}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative;}.CodeMirror-sizer{position:relative;border-right:30px solid transparent;}.CodeMirror-vscrollbar,
    .CodeMirror-hscrollbar,
    .CodeMirror-scrollbar-filler,
    .CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll;}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll;}.CodeMirror-scrollbar-filler{right:0;bottom:0;}.CodeMirror-gutter-filler{left:0;bottom:0;}.CodeMirror-gutters{position:absolute;left:0;top:0;z-index:3;}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;margin-bottom:-30px;*zoom:1;*display:inline;}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;height:100%;}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4;}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;user-select:none;}.CodeMirror-lines{cursor:text;min-height:1px;}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal;}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto;}.CodeMirror-widget{}.CodeMirror-code{outline:none;}.CodeMirror-scroll,
    .CodeMirror-sizer,
    .CodeMirror-gutter,
    .CodeMirror-gutters,
    .CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box;}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden;}.CodeMirror-measure pre{position:static;}.CodeMirror div.CodeMirror-cursor{position:absolute;border-right:none;width:0;}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3;}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible;}.CodeMirror-selected{background:var(--code-mirror-selected-background-color, #d9d9d9);}.CodeMirror-focused .CodeMirror-selected{background:var(--code-mirror-focused-selected-background-color, #d7d4f0);}.CodeMirror-crosshair{cursor:crosshair;}.CodeMirror ::selection{background:var(--code-mirror-selection-background-color, #d7d4f0);}.CodeMirror ::-moz-selection{background:var(--code-mirror-selection-background-color, #d7d4f0);}.cm-searching{background:#ffa;background:rgba(255, 255, 0, .4);}.CodeMirror span{*vertical-align:text-bottom;}.cm-force-border{padding-right:.1px;}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden;}}.cm-tab-wrap-hack:after{content:'';}span.CodeMirror-selectedtext{background:none;}.hints ::slotted(.CodeMirror-hints){position:absolute;z-index:10;background:white;overflow:hidden;overflow-y:auto;max-height:20em;margin-left:20px;}</style></template></dom-module><script>(function(global,factory){"object"===typeof exports&&"undefined"!==typeof module?module.exports=factory():"function"===typeof define&&define.amd?define(factory):global.CodeMirror=factory()})(this,function(){"use strict";var _StringfromCharCode=String.fromCharCode,_Mathround=Math.round,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathfloor=Math.floor,_Mathceil=Math.ceil,_Mathmin=Math.min,userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\/\d/i.test(userAgent),ie_upto10=/MSIE \d/.test(userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent),edge=/Edge\/(\d+)/.exec(userAgent),ie=ie_upto10||ie_11up||edge,ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit=!edge&&/WebKit\//.test(userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent),chrome=!edge&&/Chrome\//.test(userAgent),presto=/Opera\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent),android=/Android/.test(userAgent),mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),chromeOS=/\bCrOS\b/.test(userAgent),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=+presto_version[1]}if(presto_version&&15<=presto_version){presto=!1;webkit=!0}var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||12.11>presto_version)),captureRightClick=gecko||ie&&9<=ie_version;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;0<count;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if("string"==typeof content){e.appendChild(document.createTextNode(content))}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(!0);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(3==child.nodeType){child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(11==child.nodeType){child=child.host}if(child==parent){return!0}}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement){activeElement=activeElement.shadowRoot.activeElement}return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios){selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else if(ie){selectInput=function(node){try{node.select()}catch(_e){}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(!1!==overwrite||!target.hasOwnProperty(prop))){target[prop]=obj[prop]}}return target}function countColumn(string,end,tabSize,startIndex,startValue){if(null==end){end=string.search(/[^\s\u00a0]/);if(-1==end){end=string.length}}for(var i=startIndex||0,n=startValue||0,nextTab;;){nextTab=string.indexOf("\t",i);if(0>nextTab||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}var Delayed=function(){this.id=null};Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return-1}var scrollerGap=30,Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0,nextTab;;){nextTab=string.indexOf("\t",pos);if(-1==nextTab){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+_Mathmin(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){for(var out=[],i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return /\w/.test(ch)||"\x80"<ch&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)}if(-1<helper.source.indexOf("\\w")&&isWordCharBasic(ch)){return!0}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return!1}}return!0}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return 768<=ch.charCodeAt(0)&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){while((0>dir?0<pos:pos<str.length)&&isExtendingChar(str.charAt(pos))){pos+=dir}return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to){return from}var midF=(from+to)/2,mid=0>dir?_Mathceil(midF):_Mathfloor(midF);if(mid==from){return pred(mid)?from:to}if(pred(mid)){to=mid}else{from=mid+dir}}}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr",0)}for(var found=!1,i=0,part;i<order.length;++i){part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(_Mathmax(part.from,from),_Mathmin(part.to,to),1==part.level?"rtl":"ltr",i);found=!0}}if(!found){f(from,to,"ltr")}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0,cur;i<order.length;++i){cur=order[i];if(cur.from<ch&&cur.to>ch){return i}if(cur.to==ch){if(cur.from!=cur.to&&"before"==sticky){found=i}else{bidiOther=i}}if(cur.from==ch){if(cur.from!=cur.to&&"before"!=sticky){found=i}else{bidiOther=i}}}return null!=found?found:bidiOther}var bidiOrdering=function(){function charType(code){if(247>=code){return"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(code)}else if(1424<=code&&1524>=code){return"R"}else if(1536<=code&&1785>=code){return"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(code-1536)}else if(1774<=code&&2220>=code){return"r"}else if(8192<=code&&8203>=code){return"w"}else if(8204==code){return"b"}else{return"L"}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str,direction){var outerType="ltr"==direction?"L":"R";if(0==str.length||"ltr"==direction&&!bidiRE.test(str)){return!1}for(var len=str.length,types=[],i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}for(var i$1=0,prev=outerType,type;i$1<len;++i$1){type=types[i$1];if("m"==type){types[i$1]=prev}else{prev=type}}for(var i$2=0,cur=outerType,type$1;i$2<len;++i$2){type$1=types[i$2];if("1"==type$1&&"r"==cur){types[i$2]="n"}else if(isStrong.test(type$1)){cur=type$1;if("r"==type$1){types[i$2]="R"}}}for(var i$3=1,prev$1=types[0],type$2;i$3<len-1;++i$3){type$2=types[i$3];if("+"==type$2&&"1"==prev$1&&"1"==types[i$3+1]){types[i$3]="1"}else if(","==type$2&&prev$1==types[i$3+1]&&("1"==prev$1||"n"==prev$1)){types[i$3]=prev$1}prev$1=type$2}for(var i$4=0,type$3;i$4<len;++i$4){type$3=types[i$4];if(","==type$3){types[i$4]="N"}else if("%"==type$3){var end=void 0;for(end=i$4+1;end<len&&"%"==types[end];++end){}for(var replace=i$4&&"!"==types[i$4-1]||end<len&&"1"==types[end]?"1":"N",j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}for(var i$5=0,cur$1=outerType,type$4;i$5<len;++i$5){type$4=types[i$5];if("L"==cur$1&&"1"==type$4){types[i$5]="L"}else if(isStrong.test(type$4)){cur$1=type$4}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}for(var before="L"==(i$6?types[i$6-1]:outerType),after="L"==(end$1<len?types[end$1]:outerType),replace$1=before==after?before?"L":"R":outerType,j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}for(var order=[],m,i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&"L"!=types[i$7];++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if("ltr"==direction){if(1==order[0].level&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(1==lst(order).level&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return"rtl"==direction?order.reverse():order}}();function getOrder(line,direction){var order=line.order;if(null==order){order=line.order=bidiOrdering(line.text,direction)}return order}var noHandlers=[],on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,!1)}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,!1)}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);if(-1<index){map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length){return}for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}function signalDOMEvent(cm,e,override){if("string"==typeof e){e={type:e,preventDefault:function(){this.defaultPrevented=!0}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i){if(-1==indexOf(set,arr[i])){set.push(arr[i])}}}function hasHandler(emitter,type){return 0<getHandlers(emitter,type).length}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=!1}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=!0}}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:!1==e.returnValue}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(null==b){if(1&e.button){b=1}else if(2&e.button){b=3}else if(4&e.button){b=2}}if(mac&&e.ctrlKey&&1==b){b=3}return b}var dragAndDrop=function(){if(ie&&9>ie_version){return!1}var div=elt("div");return"draggable"in div||"dragDrop"in div}(),zwspSupported;function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","\u200B");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(0!=measure.firstChild.offsetHeight){zwspSupported=1>=test.offsetWidth&&2<test.offsetHeight&&!(ie&&8>ie_version)}}var node=zwspSupported?elt("span","\u200B"):elt("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(null!=badBidiRects){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062EA")),r0=range(txt,0,1).getBoundingClientRect(),r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return!1}return badBidiRects=3>r1.right-r0.right}var splitLinesAuto=3!="\n\nb".split(/\n/).length?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(-1==nl){nl=string.length}var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");if(-1!=rt){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}if(!range$$1||range$$1.parentElement()!=te){return!1}return 0!=range$$1.compareEndPoints("StartToEnd",range$$1)},hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return!0}e.setAttribute("oncopy","return;");return"function"==typeof e.oncopy}(),badZoomedRects=null;function hasBadZoomedRects(measure){if(null!=badZoomedRects){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=1<_Mathabs(normal.left-fromRange.left)}var modes={},mimeModes={};function defineMode(name,mode){if(2<arguments.length){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function resolveMode(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if("string"==typeof found){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}if("string"==typeof spec){return{name:spec}}else{return spec||{name:"null"}}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(!0===state){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):!0}var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};StringStream.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos),ok;if("string"==typeof match){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start};StringStream.prototype.eatSpace=function(){var this$1=this,start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(-1<found){this.pos=found;return!0}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if("string"==typeof pattern){var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(!1!==consume){this.pos+=pattern.length}return!0}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&0<match.index){return null}if(match&&!1!==consume){this.pos+=match[0].length}return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};function getLine(doc,n){n-=doc.first;if(0>n||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}function lineNo(line){if(null==line.parent){return null}for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return options.lineNumberFormatter(i+options.firstLineNumber)+""}function Pos(line,ch,sticky){if(void 0===sticky)sticky=null;if(!(this instanceof Pos)){return new Pos(line,ch,sticky)}this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&0==cmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return 0>cmp(a,b)?b:a}function minPos(a,b){return 0>cmp(a,b)?a:b}function clipLine(doc,n){return _Mathmax(doc.first,_Mathmin(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(null==ch||ch>linelen){return Pos(pos.line,linelen)}else if(0>ch){return Pos(pos.line,0)}else{return pos}}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var SavedContext=function(state,lookAhead){this.state=state;this.lookAhead=lookAhead},Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(null!=line&&n>this.maxLookAhead){this.maxLookAhead=n}return line};Context.prototype.baseToken=function(n){var this$1=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=n){this$1.baseTokenPos+=2}var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(0<this.maxLookAhead){this.maxLookAhead--}};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext){return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead)}else{return new Context(doc,copyState(doc.mode,saved),line)}};Context.prototype.save=function(copy){var state=!1!==copy?copyState(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new SavedContext(state,this.maxLookAhead):state};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);for(var state=context.state,loop=function(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=!0;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=_Mathmin(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1},o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line)),resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state),result=highlightLine(cm,line,context);if(resetState){context.state=resetState}line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else if(line.styleClasses){line.styleClasses=null}if(updateFrontier===cm.doc.highlightFrontier){cm.doc.modeFrontier=_Mathmax(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return new Context(doc,!0,n)}var start=findStartLine(cm,n,precise),saved=start>doc.first&&getLine(doc,start-1).stateAfter,context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||0==pos%5||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise){doc.modeFrontier=context.line}return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(""==text){callBlankLine(mode,context.state)}while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;10>i;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray){tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(null==output[prop]){output[prop]=lineClass[2]}else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])){output[prop]+=" "+lineClass[2]}}}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(null==flattenSpans){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize,context),style,inner=cm.options.addModeClass&&[null];if(""==text){extractLineClasses(callBlankLine(mode,context.state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=!1;if(forceToEnd){processLine(cm,text,context,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=_Mathmin(stream.start,curStart+5e3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=_Mathmin(stream.pos,curStart+5e3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(null==minline||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=_Mathmin(doc.modeFrontier,n);if(doc.highlightFrontier<n-10){return}for(var start=doc.first,line=n-1,saved;line>start;line--){saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=_Mathmin(doc.highlightFrontier,start)}var sawReadOnlySpans=!1,sawCollapsedSpans=!1;function seeReadOnlySpans(){sawReadOnlySpans=!0}function seeCollapsedSpans(){sawCollapsedSpans=!0}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(span.marker==marker){return span}}}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0,span;i<first.length;++i){span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else if(sameLine){span.to=null==found.to?null:found.to+offset}}}}if(last){for(var i$1=0,span$1;i$1<last.length;++i$1){span$1=last[i$1];if(null!=span$1.to){span$1.to+=offset}if(null==span$1.from){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(0<gap&&first){for(var i$2=0;i$2<first.length;++i$2){if(null==first[i$2].to){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if(null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty){spans.splice(i--,1)}}if(!spans.length){return null}return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0,mark;i<line.markedSpans.length;++i){mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||-1==indexOf(markers,mark))){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i){for(var mk=markers[i],m=mk.find(0),j=0,p;j<parts.length;++j){p=parts[j];if(0>cmp(p.to,m.from)||0<cmp(p.from,m.to)){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(0>dfrom||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(0<dto||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-3}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff){return lenDiff}var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(null==sp.from||sp.from<ch)&&(null==sp.to||sp.to>ch)&&(!found||0>compareCollapsedMarkers(found,sp.marker))){found=sp.marker}}}return found}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1),sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0,sp;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(0<=fromCmp&&0>=toCmp||0>=fromCmp&&0<=toCmp){continue}if(0>=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0<=cmp(found.to,from):0<cmp(found.to,from))||0<=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0>=cmp(found.from,to):0>cmp(found.from,to))){return!0}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,!0).line}return line}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,!0).line}return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(null==sp.from){return!0}if(sp.marker.widgetNode){continue}if(0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return!0}}}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return!0}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return!0}}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0,line;i<chunk.lines.length;++i){line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0,cur;i$1<p.children.length;++i$1){cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}function lineLength(line){if(0==line.height){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,!0);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,!0);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=!0;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)};eventMixin(Line);function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(null!=line.order){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null),builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:!1,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}if(0==builder.map.length){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}if(0==i){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text,special=builder.cm.state.specialChars,mustWrap=!1,content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&9>ie_version){mustWrap=!0}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(!0){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&9>ie_version){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=void 0;if("\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if("\r"==m[0]||"\n"==m[0]){txt$1=content.appendChild(elt("span","\r"==m[0]?"\u240D":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&9>ie_version){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=32==displayText.charCodeAt(text.length-1);if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(attributes){for(var attr in attributes){if(attributes.hasOwnProperty(attr)&&"style"!=attr&&"class"!=attr){token.setAttribute(attr,attributes[attr])}}}return builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(1<text.length&&!/  /.test(text)){return text}for(var spaceBefore=trailingBefore,result="",i=0,ch;i<text.length;i++){ch=text.charAt(i);if(" "==ch&&spaceBefore&&(i==text.length-1||32==text.charCodeAt(i+1))){ch="\xA0"}result+=ch;spaceBefore=" "==ch}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){for(var part=void 0,i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,css,attributes)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=!1}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css,nextChange=0,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=1/0;for(var foundBookmarks=[],endStyles=void 0,j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if("bookmark"==m.type&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else if(sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(null!=sp.to&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}if(m.title){(attributes||(attributes={})).title=m.title}if(m.attributes){for(var attr in m.attributes){(attributes||(attributes={}))[attr]=m.attributes[attr]}}if(m.collapsed&&(!collapsed||0>compareCollapsedMarkers(collapsed.marker,m))){collapsed=sp}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from);if(null==collapsed.to){return}if(collapsed.to==pos){collapsed=!1}}}if(pos>=len){break}var upto=_Mathmin(len,nextChange);while(!0){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var array=[],nextPos,pos=from,view;pos<to;pos=nextPos){view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0,op;j<group.ops.length;j++){op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}for(var loop=function(i){list.push(function(){return arr[i].apply(null,args)})},i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0,type;j<lineView.changes.length;j++){type=lineView.changes[j];if("text"==type){updateLineText(cm,lineView)}else if("gutter"==type){updateLineGutter(cm,lineView,lineN,dims)}else if("class"==type){updateLineClasses(cm,lineView)}else if("widget"==type){updateLineWidgets(cm,lineView,dims)}}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&8>ie_version){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else if(lineView.node!=lineView.text){lineView.node.className=""}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))}if(markers){for(var k=0;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className,found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if("CodeMirror-linewidget"==node.className){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(null!=widget.height){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover){return!0}}}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(2<_Mathabs(cur.bottom-next.bottom)){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:!0}}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=!0}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=!0}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){for(var node,start,end,collapse,mStart,mEnd,i=0;i<map$$1.length;i+=3){mStart=map$$1[i];mEnd=map$$1[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}if(null!=start){node=map$$1[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if("left"==bias&&0==start){while(i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft){node=map$$1[(i-=3)+2];collapse="left"}}if("right"==bias&&start==mEnd-mStart){while(i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft){node=map$$1[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if("left"==bias){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;0<=i$1;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse,rect;if(3==node.nodeType){for(var i$1=0;4>i$1;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&9>ie_version&&0==start&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||0==start){break}end=start;start=start-1;collapse="right"}if(ie&&11>ie_version){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{if(0<start){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&1<(rects=node.getClientRects()).length){rect=rects["right"==bias?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&9>ie_version&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,heights=prepared.view.measure.heights,i=0;for(;i<heights.length-1;i++){if((rtop+rbot)/2<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=!0}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=!0}cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){height+=widgetHeight(lineObj.widgets[i])}}}return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if("line"==context){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if("local"==context){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if("page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if("div"==context){return coords}var left=coords.left,top=coords.top;if("page"==context){left-=pageScrollX();top-=pageScrollY()}else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(0>=ch){ch=0;sticky="after"}if(!order){return get("before"==sticky?ch-1:ch,"before"==sticky)}function getBidi(ch,partPos,invert){var part=order[partPos],right=1==part.level;return get(invert?ch-1:ch,right!=invert)}var partPos=getBidiPartAt(order,ch,sticky),other=bidiOther,val=getBidi(ch,partPos,"before"==sticky);if(null!=other){val.other=getBidi(ch,other,"before"!=sticky)}return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside){pos.outside=!0}return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(0>y){return PosWithInfo(doc.first,0,null,!0,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,!0,1)}if(0>x){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y),collapsed=collapsedSpanAround(lineObj,found.ch+(0<found.xRel?1:0));if(!collapsed){return found}var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN){return rangeEnd}lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length,begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function boxIsAfter(box,x,y,left){return box.bottom<=y?!1:box.top>y?!0:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj),widgetHeight$$1=widgetTopHeight(lineObj),begin=0,end=lineObj.text.length,ltr=!0,order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);ltr=1!=part.level;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null,boxAround=null,ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight$$1;box.bottom+=widgetHeight$$1;if(!boxIsAfter(box,x,y,!1)){return!1}if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return!0},begin,end),baseX,sticky,outside=!1;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin)){ch++}sticky=0==ch?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y==ltr?"after":"before";var coords=cursorCoords(cm,Pos(lineNo$$1,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top||y>=coords.bottom}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo$$1,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i],ltr=1!=part.level;return boxIsAfter(cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,!0)},0,order.length-1),part=order[index];if(0<index){var ltr=1!=part.level,start=cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,!0)&&start.top>y){part=order[index-1]}}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y),begin=ref.begin,end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1))){end--}for(var part=null,closestDist=null,i=0,p;i<order.length;i++){p=order[i];if(p.from>=end||p.to<=begin){continue}var ltr=1!=p.level,endX=measureCharPrepared(cm,preparedMeasure,ltr?_Mathmin(end,p.to)-1:_Mathmax(begin,p.from)).right,dist=endX<x?x-endX+1e9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part){part=order[order.length-1]}if(part.from<begin){part={from:begin,to:part.to,level:part.level}}if(part.to>end){part={from:part.from,to:end,level:part.level}}return part}var measureText;function textHeight(display){if(null!=display.cachedTextHeight){return display.cachedTextHeight}if(null==measureText){measureText=elt("pre");for(var i=0;49>i;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(3<height){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}function charWidth(display){if(null!=display.cachedCharWidth){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(2<width){display.cachedCharWidth=width}return width||10}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0,id;n;n=n.nextSibling,++i){id=cm.display.gutterSpecs[i].className;left[id]=n.offsetLeft+n.clientLeft+gutterLeft;width[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&_Mathmax(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(_Mathceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content")){return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,_Mathmax(0,_Mathround((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(0>n){return null}for(var view=cm.display.view,i=0;i<view.length;i++){n-=view[i].size;if(0>n){return i}}}function regChange(cm,from,to,lendiff){if(null==from){from=cm.doc.first}if(null==to){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=!0;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else if(from<ext.lineN+ext.size){display.externalMeasured=null}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(null==lineView.node){return}var arr=lineView.changes||(lineView.changes=[]);if(-1==indexOf(arr,type)){arr.push(type)}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}for(var n=cm.display.viewFrom,i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(0<dir){if(index==view.length-1){return null}diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(0>dir?0:view.length-1)){return null}newN+=dir*view[index-(0>dir?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(0==view.length||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0,lineView;i<view.length;i++){lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(void 0===primary)primary=!0;for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex){continue}var range$$1=doc.sel.ranges[i];if(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom){continue}var collapsed=range$$1.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range$$1.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range$$1,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=_Mathmax(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=_Mathmax(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,docLTR="ltr"==doc.direction;function add(left,top,width,bottom){if(0>top){top=0}top=_Mathround(top);bottom=_Mathround(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line),lineLen=lineObj.text.length,start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos),prop="ltr"==dir==("after"==side)?"left":"right",ch="after"==side?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir,i){var ltr="ltr"==dir,fromPos=coords(from,ltr?"left":"right"),toPos=coords(to-1,ltr?"right":"left"),openStart=null==fromArg&&0==from,openEnd=null==toArg&&to==lineLen,first=0==i,last=!order||i==order.length-1;if(3>=toPos.top-fromPos.top){var openLeft=(docLTR?openStart:openEnd)&&first,openRight=(docLTR?openEnd:openStart)&&last,left=openLeft?leftSide:(ltr?fromPos:toPos).left,right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top){add(leftSide,fromPos.bottom,null,toPos.top)}add(botLeft,toPos.top,botRight-botLeft,toPos.bottom)}if(!start||0>cmpCoords(fromPos,start)){start=fromPos}if(0>cmpCoords(toPos,start)){start=toPos}if(!end||0>cmpCoords(fromPos,end)){end=fromPos}if(0>cmpCoords(toPos,end)){end=toPos}});return{start:start,end:end}}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="";if(0<cm.options.cursorBlinkRate){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else if(0>cm.options.cursorBlinkRate){display.cursorDiv.style.visibility="hidden"}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=!1}if("nocursor"==cm.options.readOnly){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=!0;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(!0)},20)}}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=!1;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=!1}},150)}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping,height=void 0,width=0;if(cur.hidden){continue}if(ie&&8>ie_version){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild){width=cur.text.firstChild.getBoundingClientRect().right-box.left-1}}var diff=cur.line.height-height;if(.005<diff||-.005>diff){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}if(width>cm.display.sizerWidth){var chWidth=_Mathceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=!0}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent){w.height=parent.offsetHeight}}}}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?_Mathmax(0,viewport.top):display.scroller.scrollTop;top=_Mathfloor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(_Mathmin(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:_Mathmax(to,from+1)}}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(0>rect.top+box.top){doScroll=!0}else if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=!1}if(null!=doScroll&&!phantom){var scrollNode=elt("div","\u200B",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+_Mathmax(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(null==margin){margin=0}var rect;if(!cm.options.lineWrapping&&pos==end){pos=pos.ch?Pos(pos.line,"before"==pos.sticky?pos.ch-1:pos.ch,"after"):pos;end="before"==pos.sticky?Pos(pos.line,pos.ch+1,"before"):pos}for(var limit=0;5>limit;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:_Mathmin(coords.left,endCoords.left),top:_Mathmin(coords.top,endCoords.top)-margin,right:_Mathmax(coords.left,endCoords.left),bottom:_Mathmax(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop);if(1<_Mathabs(cm.doc.scrollTop-startTop)){changed=!0}}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft);if(1<_Mathabs(cm.doc.scrollLeft-startLeft)){changed=!0}}if(!changed){break}}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(null!=scrollPos.scrollTop){updateScrollTop(cm,scrollPos.scrollTop)}if(null!=scrollPos.scrollLeft){setScrollLeft(cm,scrollPos.scrollLeft)}}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(0>rect.top){rect.top=0}var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen){rect.bottom=rect.top+screen}var docBottom=cm.doc.height+paddingVert(display),atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop){result.scrollTop=atTop?0:rect.top}else if(rect.bottom>screentop+screen){var newTop=_Mathmin(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop){result.scrollTop=newTop}}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=rect.right-rect.left>screenw;if(tooWide){rect.right=rect.left+screenw}if(10>rect.left){result.scrollLeft=0}else if(rect.left<screenleft){result.scrollLeft=_Mathmax(0,rect.left-(tooWide?0:10))}else if(rect.right>screenw+screenleft-3){result.scrollLeft=rect.right+(tooWide?0:10)-screenw}return result}function addToScrollTop(cm,top){if(null==top){return}resolveScrollToPos(cm);cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(null!=x||null!=y){resolveScrollToPos(cm)}if(null!=x){cm.curOp.scrollLeft=x}if(null!=y){cm.curOp.scrollTop=y}}function scrollToRange(cm,range$$1){resolveScrollToPos(cm);cm.curOp.scrollToPos=range$$1}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:_Mathmin(from.left,to.left),top:_Mathmin(from.top,to.top)-margin,right:_Mathmax(from.right,to.right),bottom:_Mathmax(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){if(2>_Mathabs(cm.doc.scrollTop-val)){return}if(!gecko){updateDisplaySimple(cm,{top:val})}setScrollTop(cm,val,!0);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=_Mathmin(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val);if(cm.display.scroller.scrollTop==val&&!forceScroll){return}cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}}function setScrollLeft(cm,val,isScroller,forceScroll){val=_Mathmin(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);if((isScroller?val==cm.doc.scrollLeft:2>_Mathabs(cm.doc.scrollLeft-val))&&!forceScroll){return}cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=_Mathround(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=!1;if(ie&&8>ie_version){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=_Mathmax(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=_Mathmax(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&0<measure.clientHeight){if(0==sWidth){this.zeroWidthHack()}this.checkedZeroWidth=!0}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect(),elt$$1="vert"==type?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt$$1!=bar){bar.style.pointerEvents="none"}else{delay.set(1e3,maybeDisable)}}delay.set(1e3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;4>i&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if("horizontal"==axis){setScrollLeft(cm,pos)}else{updateScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nextOpId};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;if(op){finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++){endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=_Mathmax(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=_Mathmax(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection()}}function endOperation_W2(op){var cm=op.cm;if(null!=op.adjustWidthTo){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,_Mathmin(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0)}cm.display.maxLineChanged=!1}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}if(null!=display.wheelStartX&&(null!=op.scrollTop||null!=op.scrollLeft||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}if(null!=op.scrollTop){setScrollTop(cm,op.scrollTop,op.forceScroll)}if(null!=op.scrollLeft){setScrollLeft(cm,op.scrollLeft,!0,!0)}if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime,context=getContextBefore(cm,doc.highlightFrontier),changedLines=[];doc.iter(context.line,_Mathmin(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles,resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted=highlightLine(cm,line,context,!0);if(resetState){context.state=resetState}line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else if(oldCls){line.styleClasses=null}for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(context.line)}line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,context)}line.stateAfter=0==context.line%5?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return!0}});doc.highlightFrontier=context.line;doc.modeFrontier=_Mathmax(doc.modeFrontier,context.line);if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text")}})}}var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){for(var this$1=this,i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=!0}}function selectionSnapshot(cm){if(cm.hasFocus()){return null}var active=activeElt();if(!active||!contains(cm.display.lineDiv,active)){return null}var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt()){return}snapshot.activeElt.focus();if(snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range$$1.collapse(!1);sel.removeAllRanges();sel.addRange(range$$1);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return!1}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm)){return!1}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size,from=_Mathmax(update.visible.from-cm.options.viewportMargin,doc.first),to=_Mathmin(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&20>from-display.viewFrom){from=_Mathmax(doc.first,display.viewFrom)}if(display.viewTo>to&&20>display.viewTo-to){to=_Mathmin(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)){return!1}var selSnapshot=selectionSnapshot(cm);if(4<toUpdate){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(4<toUpdate){display.lineDiv.style.display=""}display.renderedView=display.view;restoreSelection(selSnapshot);removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;;first=!1){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&null!=viewport.top){viewport={top:_Mathmin(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=!1}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}for(var view=display.view,lineN=display.viewFrom,i=0,lineView;i<view.length;i++){lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(-1<indexOf(lineView.changes,"gutter")){updateNumber=!1}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px"}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return!1}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=_Mathmax(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return!0}return!1}function getGutters(gutters,lineNumbers){for(var result=[],sawLineNumbers=!1,i=0;i<gutters.length;i++){var name=gutters[i],style=null;if("string"!=typeof name){style=name.style;name=name.className}if("CodeMirror-linenumbers"==name){if(!lineNumbers){continue}else{sawLineNumbers=!0}}result.push({className:name,style:style})}if(lineNumbers&&!sawLineNumbers){result.push({className:"CodeMirror-linenumbers",style:null})}return result}function renderGutters(display){var gutters=display.gutters,specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;for(var i=0;i<specs.length;++i){var ref=specs[i],className=ref.className,style=ref.style,gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style){gElt.style.cssText=style}if("CodeMirror-linenumbers"==className){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px"}}gutters.style.display=specs.length?"":"none";updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm)}function Display(place,doc,input,options){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&8>ie_version){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=!0}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=!1;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=!1;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=!1;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=!1;d.selForContextMenu=null;d.activeTouch=null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d)}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-.53}else if(gecko){wheelPixelsPerUnit=15}else if(chrome){wheelPixelsPerUnit=-.7}else if(safari){wheelPixelsPerUnit=-1/3}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else if(null==dy){dy=e.wheelDelta}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollX=scroll.scrollWidth>scroll.clientWidth,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit){if(dy&&canScrollY){updateScrollTop(cm,_Mathmax(0,scroll.scrollTop+dy*wheelPixelsPerUnit))}setScrollLeft(cm,_Mathmax(0,scroll.scrollLeft+dx*wheelPixelsPerUnit));if(!dy||dy&&canScrollY){e_preventDefault(e)}display.wheelStartX=null;return}if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(0>pixels){top=_Mathmax(0,top+pixels-50)}else{bot=_Mathmin(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(20>wheelSamples){if(null==display.wheelStartX){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(null==display.wheelStartX){return}var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){var this$1=this;if(other==this){return!0}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return!1}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head)){return!1}}return!0};Selection.prototype.deepCopy=function(){for(var this$1=this,out=[],i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))}return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){for(var this$1=this,i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return!0}}return!1};Selection.prototype.contains=function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0,range;i<this.ranges.length;i++){range=this$1.ranges[i];if(0<=cmp(end,range.from())&&0>=cmp(pos,range.to())){return i}}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch,prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1],diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?0<diff:0<=diff){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0))}function adjustForChange(pos,change){if(0>cmp(pos,change.from)){return pos}if(0>=cmp(pos,change.to)){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0,range;i<doc.sel.ranges.length;i++){range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if("around"==hint){var range=doc.sel.ranges[i],inv=0>cmp(range.head,range.anchor);out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1);signalLater(line,"change",line,change)}function linesFor(start,end){for(var result=[],i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight$$1))}return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)}if(added.length){doc.insert(from.line,added)}}else if(firstLine==lastLine){if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else if(1==text.length){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(1<nlines){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0,rel;i<doc.linked.length;++i){rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){("rtl"==cm.doc.direction?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(startGen){this.done=[];this.undone=[];this.undoDepth=1/0;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(1<hist.done.length&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur,last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&!1!==options.clearRedo){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(_Mathmax(doc.first,from),_Mathmin(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}function removeClearedSpans(spans){if(!spans){return null}for(var out,i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else if(out){out.push(spans[i])}}return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}for(var nw=[],i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0,span;j<stretchCur.length;++j){span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}function copyHistoryArray(events,newGroup,instantiateSel){for(var copy=[],i=0,event;i<events.length;++i){event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(-1<indexOf(newGroup,+m[1])){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=0>cmp(head,anchor);if(posBefore!=0>cmp(other,anchor)){anchor=head;head=other}else if(posBefore!=0>cmp(head,other)){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options,extend){if(null==extend){extend=doc.cm&&(doc.cm.display.shift||doc.extend)}setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){for(var out=[],extend=doc.cm&&(doc.cm.display.shift||doc.extend),i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend)}var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(0>cmp(sel.primary().head,doc.sel.primary().head)?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0));if(!(options&&!1===options.scroll)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=1;doc.cm.curOp.selectionChanged=!0;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(0>dir?1:-1),diff=void 0;if(0>dir?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(0>dir?0>diff:0<diff)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(0>dir?-1:1);if(0>dir?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1,found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0);if(!found){doc.cantEdit=!0;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(0>dir&&0==pos.ch){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else if(0<dir&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=!0}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==void 0){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){if(doc.cm){doc.cm.curOp.updateInput=2}return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,!0);if(!change){return}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;0<=i;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1==change.text.length&&""==change.text[0]&&0==cmp(change.from,change.to)){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:!1});return}selAfter=event}else if(suppress){source.push(event);return}else{break}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,!1)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&-1==indexOf(rebased,doc.history)){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})},i$1=event.changes.length-1,returned;0<=i$1;--i$1){returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(0==distance){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=!0;return!0}})}if(-1<doc.sel.contains(change.from,change.to)){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=!0;recomputeMaxLength=!1}});if(recomputeMaxLength){cm.curOp.updateMaxLine=!0}}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm)}else if(from.line==to.line&&1==change.text.length&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to){to=from}if(0>cmp(to,from)){assign=[to,from],from=assign[0],to=assign[1]}if("string"==typeof code){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=!0}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0,cur;j$1<sub.changes.length;++j$1){cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=!1;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if("number"==typeof handle){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(null==no){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;for(var height=0,i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var this$1=this,i=at,line;i<at+n;++i){line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},iterN:function(at,n,op){for(var this$1=this,e=at+n;at<e;++at){if(op(this$1.lines[at])){return!0}}}};function BranchChunk(children){var this$1=this;this.children=children;for(var size=0,height=0,i=0,ch;i<children.length;++i){ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=_Mathmin(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null}if(0==(n-=rm)){break}at=0}else{at-=sz}}if(25>this.size-n&&(1<this.children.length||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){for(var this$1=this,i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&50<child.lines.length){for(var remaining=child.lines.length%25+25,pos=remaining,leaf;pos<child.lines.length;){leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(10>=this.children.length){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(10<me.children.length);me.parent.maybeSpill()},iterN:function(at,n,op){for(var this$1=this,i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=_Mathmin(n,sz-at);if(child.iterN(at,used,op)){return!0}if(0==(n-=used)){break}at=0}else{at-=sz}}}};var LineWidget=function(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var this$1=this,cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null==no||!ws){return}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,_Mathmax(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this,oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}if(!lineIsHidden(this.doc,line)){updateLineHeight(line,line.height+diff)}if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=!0;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})}};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollTop(cm,diff)}}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=!0}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt){widgets.push(widget)}else{widgets.splice(_Mathmin(widgets.length-1,_Mathmax(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollTop(cm,widget.height)}cm.curOp.forceUpdate=!0}return!0});if(cm){signalLater(cm,"lineWidgetAdded",cm,widget,"number"==typeof handle?handle:lineNo(handle))}return widget}var nextMarkerId=0,TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)}}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else if(cm){if(null!=span.to){max=lineNo(line)}if(null!=span.from){min=lineNo(line)}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(null==span.from&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=!0}}}if(null!=min&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=!0;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=!1;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this,min,max)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(null==side&&"bookmark"==this.type){side=1}for(var from,to,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(null!=span.from){from=Pos(lineObj?line:lineNo(line),span.from);if(-1==side){return from}}if(null!=span.to){to=Pos(lineObj?line:lineNo(line),span.to);if(1==side){return to}}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this,pos=this.find(-1,!0),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0}cm.curOp.updateMaxLine=!0;if(!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight)}}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||-1==indexOf(op.maybeHiddenMarkers,this)){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);function markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type)}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,!1)}if(0<diff||0==diff&&!1!==marker.clearWhenEmpty){return marker}if(marker.replacedWith){marker.collapsed=!0;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=!0}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=!0}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=!0}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=!0}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}var SharedTextMarker=function(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}};SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(!0)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){for(var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0,subMarker;j<marker.markers.length;j++){subMarker=marker.markers[j];if(-1==indexOf(linked,subMarker.doc)){subMarker.parent=null;marker.markers.splice(j--,1)}}},i=0;i<markers.length;i++)loop(i)}var nextDocId=0,Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep,direction)}if(null==firstLine){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction="rtl"==direction?"rtl":"ltr";this.extend=!1;if("string"==typeof text){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0);if(this.cm){scrollToCoords(this.cm,0,0)}setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(!1===lineSep){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if("number"==typeof line){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range$$1=this.sel.primary(),pos;if(null==start||"head"==start){pos=range$$1.head}else if("anchor"==start){pos=range$$1.anchor}else if("end"==start||"to"==start||!1===start){pos=range$$1.to()}else{pos=range$$1.from()}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return}for(var out=[],i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(null==primary){primary=_Mathmin(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var this$1=this,ranges=this.sel.ranges,lines,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(!1===lineSep){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){for(var this$1=this,parts=[],ranges=this.sel.ranges,i=0,sel;i<ranges.length;i++){sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(!1!==lineSep){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var this$1=this,changes=[],sel=this.sel,i=0,range$$1;i<sel.ranges.length;i++){range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i$1=changes.length-1;0<=i$1;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else if(this.cm){ensureCursorVisible(this.cm)}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0);hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return!0})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}return!0})}})}),lineInfo:function(line){var n;if("number"==typeof line){if(!isLine(this,line)){return null}n=line;line=getLine(this,line);if(!line){return null}}else{n=lineNo(line);if(null==n){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls}else if(classTest(cls).test(line[prop])){return!1}else{line[prop]+=" "+cls}return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur){return!1}else if(null==cls){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return!1}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return!0})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0,span;i<spans.length;++i){span=spans[i];if((null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo$$1=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0,span;i<spans.length;i++){span=spans[i];if(!(null!=span.to&&lineNo$$1==from.line&&from.ch>=span.to||null==span.from&&lineNo$$1!=from.line||null!=span.from&&lineNo$$1==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)}}}++lineNo$$1});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(null!=sps[i].from){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return!0}off-=sz;++lineNo$$1});return clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||0>coords.ch){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=!1;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(null!=options.from&&options.from>from){from=options.from}if(null!=options.to&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc}if(this.linked){for(var i=0,link;i<this.linked.length;++i){link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},!0);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if("rtl"!=dir){dir="ltr"}if(dir==this.direction){return}this.direction=dir;this.iter(function(line){return line.order=null});if(this.cm){directionChanged(this.cm)}})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}if(files&&files.length&&window.FileReader&&window.File){for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(cm.options.allowDropFileTypes&&-1==indexOf(cm.options.allowDropFileTypes,file.type)){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)},i=0;i<n;++i){loadFile(files[i],i)}}else{if(cm.state.draggingText&&-1<cm.doc.sel.contains(pos)){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||100>+new Date-lastDrop)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName){return}for(var byClass=document.getElementsByClassName("CodeMirror"),editors=[],i=0,cm;i<byClass.length;i++){cm=byClass[i].CodeMirror;if(cm){editors.push(cm)}}if(editors.length){editors[0].operation(function(){for(var i=0;i<editors.length;i++){f(editors[i])}})}}var globalsRegistered=!1;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=!0}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(null==resizeTimer){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=!1;cm.setSize()}for(var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;10>i;i++){keyNames[i+48]=keyNames[i+96]=i+""}for(var i$1=65;90>=i$1;i$1++){keyNames[i$1]=_StringfromCharCode(i$1)}for(var i$2=1;12>=i$2;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];for(var alt,ctrl,shift,cmd,i=0,mod;i<parts.length-1;i++){mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=!0}else if(/^a(lt)?$/i.test(mod)){alt=!0}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=!0}else if(/^s(hift)?$/i.test(mod)){shift=!0}else{throw new Error("Unrecognized modifier name: "+mod)}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(!1===found){return"nothing"}if("..."===found){return"multi"}if(null!=found&&handle(found)){return"handled"}if(map$$1.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map$$1.fallthrough)){return lookupKey(key,map$$1.fallthrough,handle,context)}for(var i=0,result;i<map$$1.fallthrough.length;i++){result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result){return result}}}}function isModifierKey(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&"Alt"!=base){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base){name="Cmd-"+name}if(!noShift&&event.shiftKey&&"Shift"!=base){name="Shift-"+name}return name}function keyName(event,noShift){if(presto&&34==event.keyCode&&event.char){return!1}var name=keyNames[event.keyCode];if(null==name||event.altGraphKey){return!1}if(3==event.keyCode&&event.code){name=event.code}return addModifierNames(name,event,noShift)}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0,toKill;i<ranges.length;i++){toKill=compute(ranges[i]);while(kill.length&&0>=cmp(toKill.from,lst(kill).to)){var replaced=kill.pop();if(0>cmp(replaced.from,toKill.from)){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;0<=i;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return 0>target||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return null==ch?null:new Pos(start.line,ch,0>dir?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=0>dir?lst(order):order[0],moveInStorageOrder=0>dir==(1==part.level),sticky=moveInStorageOrder?"after":"before",ch;if(0<part.level||"rtl"==cm.doc.direction){var prep=prepareMeasureForLine(cm,lineObj);ch=0>dir?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},0>dir==(1==part.level)?part.from:part.to-1,ch);if("before"==sticky){ch=moveCharLogically(lineObj,ch,1)}}else{ch=0>dir?part.to:part.from}return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,0>dir?lineObj.text.length:0,0>dir?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi){return moveLogically(line,start,dir)}if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before"}else if(0>=start.ch){start.ch=0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if("ltr"==cm.doc.direction&&0==part.level%2&&(0<dir?part.to>start.ch:part.from<start.ch)){return moveLogically(line,start,dir)}var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},prep,getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping){return{begin:0,end:line.text.length}}prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)},wrappedLineExtent=getWrappedLineExtent("before"==start.sticky?mv(start,-1):start.ch);if("rtl"==cm.doc.direction||1==part.level){var moveInStorageOrder=1==part.level==0>dir,ch=mv(start,moveInStorageOrder?1:-1);if(null!=ch&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;0<=partPos&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos],moveInStorageOrder=0<dir==(1!=part.level),ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to){return getRes(ch,moveInStorageOrder)}ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end){return getRes(ch,moveInStorageOrder)}}},res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res){return res}var nextCh=0<dir?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(null!=nextCh&&!(0<dir&&nextCh==line.text.length)){res=searchInVisualLine(0<dir?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res){return res}}return null}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},transposeChars:function(cm){return runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(0<cur.ch){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){for(var sels=cm.listSelections(),i=sels.length-1;0<=i;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,!0)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLineEnd(line);if(visual!=line){lineN=lineNo(visual)}return endOfLine(!0,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line,cm.doc.direction);if(!order||0==order[0].level){var firstNonWS=_Mathmax(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound){bound=commands[bound];if(!bound){return!1}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}if(dropShift){cm.display.shift=!1}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0,result;i<cm.state.keyMaps.length;i++){result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}if(/\'$/.test(name)){cm.state.keySeq=null}else{stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}})}if(dispatchKeyInner(cm,seq+" "+name,e,handle)){return!0}}return dispatchKeyInner(cm,name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if("multi"==result){cm.state.keySeq=name}if("handled"==result){signalLater(cm,"keyHandled",cm,name,e)}if("handled"==result||"multi"==result){e_preventDefault(e);restartBlink(cm)}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);if(!name){return!1}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}if(ie&&11>ie_version&&27==e.keyCode){e.returnValue=!1}var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}if(18==code&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(18==e.keyCode||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(16==e.keyCode){this.doc.sel.shift=!1}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||10>e.which)&&handleKeyBinding(cm,e)){return}var ch=_StringfromCharCode(null==charCode?keyCode:charCode);if("\b"==ch){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}var PastClick=function(time,pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+400>time&&0==cmp(pos,this.pos)&&button==this.button};var lastClick,lastDoubleClick;function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=!1;setTimeout(function(){return display.scroller.draggable=!0},100)}return}if(clickInGutter(cm,e)){return}var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();if(1==button&&cm.state.selectingText){cm.state.selectingText(e)}if(pos&&handleMappedButton(cm,button,pos,repeat,e)){return}if(1==button){if(pos){leftButtonDown(cm,pos,repeat,e)}else if(e_target(e)==display.scroller){e_preventDefault(e)}}else if(2==button){if(pos){extendSelection(cm.doc,pos)}setTimeout(function(){return display.input.focus()},20)}else if(3==button){if(captureRightClick){cm.display.input.onContextMenu(e)}else{delayBlurEvent(cm)}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if("double"==repeat){name="Double"+name}else if("triple"==repeat){name="Triple"+name}name=(1==button?"Left":2==button?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if("string"==typeof bound){bound=commands[bound]}if(!bound){return!1}var done=!1;try{if(cm.isReadOnly()){cm.state.suppressEdits=!0}done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=!1}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse"),value=option?option(cm,repeat,event):{};if(null==value.unit){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":"single"==repeat?"char":"double"==repeat?"word":"line"}if(null==value.extend||cm.doc.extend){value.extend=cm.doc.extend||event.shiftKey}if(null==value.addNew){value.addNew=mac?event.metaKey:event.ctrlKey}if(null==value.moveOnDrag){value.moveOnDrag=!(mac?event.altKey:event.ctrlKey)}return value}function leftButtonDown(cm,pos,repeat,event){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var behavior=configureMouse(cm,repeat,event),sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&"single"==repeat&&-1<(contained=sel.contains(pos))&&(0>cmp((contained=sel.ranges[contained]).from(),pos)||0<pos.xRel)&&(0<cmp(contained.to(),pos)||0>pos.xRel)){leftButtonStartDrag(cm,event,pos,behavior)}else{leftButtonSelect(cm,event,pos,behavior)}}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=!1,dragEnd=operation(cm,function(e){if(webkit){display.scroller.draggable=!1}cm.state.draggingText=!1;off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew){extendSelection(cm.doc,pos,null,null,behavior.extend)}if(webkit||ie&&9==ie_version){setTimeout(function(){display.wrapper.ownerDocument.body.focus();display.input.focus()},20)}else{display.input.focus()}}}),mouseMove=function(e2){moved=moved||10<=_Mathabs(event.clientX-e2.clientX)+_Mathabs(event.clientY-e2.clientY)},dragStart=function(){return moved=!0};if(webkit){display.scroller.draggable=!0}cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;if(display.scroller.dragDrop){display.scroller.dragDrop()}on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);delayBlurEvent(cm);setTimeout(function(){return display.input.focus()},20)}function rangeForUnit(cm,pos,unit){if("char"==unit){return new Range(pos,pos)}if("word"==unit){return cm.findWordAt(pos)}if("line"==unit){return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(-1<ourIndex){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if("rectangle"==behavior.unit){if(!behavior.addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,event,!0,!0);ourIndex=-1}else{var range$$1=rangeForUnit(cm,start,behavior.unit);if(behavior.extend){ourRange=extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend)}else{ourRange=range$$1}}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(-1==ourIndex){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})}else if(1<ranges.length&&ranges[ourIndex].empty()&&"char"==behavior.unit&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}var lastPos=start;function extendTo(pos){if(0==cmp(lastPos,pos)){return}lastPos=pos;if("rectangle"==behavior.unit){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=_Mathmin(startCol,posCol),right=_Mathmax(startCol,posCol),line=_Mathmin(start.line,pos.line),end=_Mathmin(cm.lastLine(),_Mathmax(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1});cm.scrollIntoView(pos)}else{var oldRange=ourRange,range$$1=rangeForUnit(cm,pos,behavior.unit),anchor=oldRange.anchor,head;if(0<cmp(range$$1.anchor,anchor)){head=range$$1.head;anchor=minPos(oldRange.from(),range$$1.anchor)}else{head=range$$1.anchor;anchor=maxPos(oldRange.to(),range$$1.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect(),counter=0;function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rectangle"==behavior.unit);if(!cur){return}if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=!1;counter=1/0;if(e){e_preventDefault(e);display.input.focus()}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(0===e.buttons||!e_button(e)){done(e)}else{extend(e)}}),up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range$$1){var anchor=range$$1.anchor,head=range$$1.head,anchorLine=getLine(cm.doc,anchor.line);if(0==cmp(anchor,head)&&anchor.sticky==head.sticky){return range$$1}var order=getOrder(anchorLine);if(!order){return range$$1}var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch){return range$$1}var boundary=index+(part.from==anchor.ch==(1!=part.level)?0:1);if(0==boundary||boundary==order.length){return range$$1}var leftSide;if(head.line!=anchor.line){leftSide=0<(head.line-anchor.line)*("ltr"==cm.doc.direction?1:-1)}else{var headIndex=getBidiPartAt(order,head.ch,head.sticky),dir=headIndex-index||(head.ch-anchor.ch)*(1==part.level?-1:1);if(headIndex==boundary-1||headIndex==boundary){leftSide=0>dir}else{leftSide=0<dir}}var usePart=order[boundary+(leftSide?-1:0)],from=leftSide==(1==usePart.level),ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY}else{try{mX=e.clientX;mY=e.clientY}catch(e){return!1}}if(mX>=_Mathfloor(cm.display.gutters.getBoundingClientRect().right)){return!1}if(prevent){e_preventDefault(e)}var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0,g;i<cm.display.gutterSpecs.length;++i){g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return}if(signalDOMEvent(cm,e,"contextmenu")){return}if(!captureRightClick){cm.display.input.onContextMenu(e)}}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return!1}return gutterEvent(cm,e,"gutterContextMenu",!1)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}},defaults={},optionHandlers={};function dragDropChanged(cm,value,old){if(!value!=!(old&&old!=Init)){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options)}this.options=options=options?copyObj(options):{};copyObj(defaults,options,!1);var doc=options.value;if("string"==typeof doc){doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction)}else if(options.mode){doc.modeOption=options.mode}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};if(options.autofocus&&!mobile){display.input.focus()}if(ie&&11>ie_version){setTimeout(function(){return this$1.display.input.reset(!0)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=!0;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);if(webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering){display.lineDiv.style.textRendering="auto"}}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&11>ie_version){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1e3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(1!=e.touches.length){return!1}var touch=e.touches[0];return 1>=touch.radiusX&&1>=touch.radiusY}function farAway(touch,other){if(null==other.left){return!0}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:300>=now-prevTouch.end?prevTouch:null};if(1==e.touches.length){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=!0}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&300>new Date-touch.start){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos)}else if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,!0);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(null==how){how="add"}if("smart"==how){if(!doc.mode.indent){how="prev"}else{state=getContextBefore(cm,n).state}}var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if("smart"==how){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||150<indentation){if(!aggressive){return}how="prev"}}if("prev"==how){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else if("add"==how){indentation=curSpace+cm.options.indentUnit}else if("subtract"==how){indentation=curSpace-cm.options.indentUnit}else if("number"==typeof how){indentation=curSpace+how}indentation=_Mathmax(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=_Mathfloor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return!0}else{for(var i$1=0,range;i$1<doc.sel.ranges.length;i$1++){range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1;if(!sel){sel=doc.sel}var recent=+new Date-200,paste="paste"==origin||cm.state.pasteIncoming>recent,textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&1<sel.ranges.length){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(0==sel.ranges.length%lastCopied.text.length){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection){multiPaste=map(textLines,function(l){return[l]})}}for(var updateInput=cm.curOp.updateInput,i$1=sel.ranges.length-1;0<=i$1;i$1--){var range$$1=sel.ranges[i$1],from=range$$1.from(),to=range$$1.to();if(range$$1.empty()){if(deleted&&0<deleted){from=Pos(from.line,from.ch-deleted)}else if(cm.state.overwrite&&!paste){to=Pos(to.line,_Mathmin(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);if(2>cm.curOp.updateInput){cm.curOp.updateInput=updateInput}cm.curOp.typing=!0;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return!0}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return}for(var sel=cm.doc.sel,i=sel.ranges.length-1,range$$1;0<=i;i--){range$$1=sel.ranges[i];if(100<range$$1.head.ch||i&&sel.ranges[i-1].head.line==range$$1.head.line){continue}var mode=cm.getModeAt(range$$1.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(-1<inserted.indexOf(mode.electricChars.charAt(j))){indented=indentLine(cm,range$$1.head.line,"smart");break}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))){indented=indentLine(cm,range$$1.head.line,"smart")}}if(indented){signalLater(cm,"electricInput",cm,range$$1.head.line)}}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}function findPosH(doc,pos,dir,unit,visually){var oldPos=pos,origDir=dir,lineObj=getLine(doc,pos.line);function findNextLine(){var l=pos.line+dir;if(l<doc.first||l>=doc.first+doc.size){return!1}pos=new Pos(l,pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(visually){next=moveVisually(doc.cm,lineObj,pos,dir)}else{next=moveLogically(lineObj,pos,dir)}if(null==next){if(!boundToLine&&findNextLine()){pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir)}else{return!1}}else{pos=next}return!0}if("char"==unit){moveOnce()}else if("column"==unit){moveOnce(!0)}else if("word"==unit||"group"==unit){for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;;first=!1){if(0>dir&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(pos.ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(0>dir){dir=1;moveOnce();pos.sticky="after"}break}if(type){sawType=type}if(0<dir&&!moveOnce(!first)){break}}}var result=skipAtomic(doc,pos,oldPos,origDir,!0);if(equalCursorPos(oldPos,result)){result.hitSide=!0}return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if("page"==unit){var pageSize=_Mathmin(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),moveAmount=_Mathmax(pageSize-.5*textHeight(cm.display),3);y=(0<dir?pos.bottom:pos.top)+dir*moveAmount}else if("line"==unit){y=0<dir?pos.bottom+3:pos.top-3}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(0>dir?0>=y:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}var ContentEditableInput=function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){var this$1=this,input=this,cm=input.cm,div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}if(11>=ie_version){setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)}});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:!1}});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data,done:!1}}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon()}this$1.composing.done=!0}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon()}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()});if("cut"==e.type){cm.replaceSelection("",null,"cut")}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,!1);result.focus=this.cm.state.focused;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary(),from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&0==cmp(minPos(curAnchor,curFocus),from)&&0==cmp(maxPos(curAnchor,curFocus),to)){return}var view=cm.display.view,start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0},end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure,map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&null==sel.anchorNode){sel.addRange(old)}else if(gecko){this.startGracePeriod()}}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=!1;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=!0})}},20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount){return!1}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),!0)}this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=function(){return!0};ContentEditableInput.prototype.receivedFocus=function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=!0})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(null!=this.readDOMTimeout||this.gracePeriod||!this.selectionChanged()){return}var sel=this.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:_Mathabs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=!0}})}};ContentEditableInput.prototype.pollContent=function(){if(null!=this.readDOMTimeout){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(0==from.ch&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0)}if(from.line<display.viewFrom||to.line>display.viewTo-1){return!1}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line))){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line),toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode){return!1}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(1<newText.length&&1<oldText.length){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=_Mathmin(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=_Mathmin(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}if(1==newText.length&&1==oldText.length&&fromLine==from.line){while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){cutFront--;cutEnd++}}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(1<newText.length||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return!0}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(null!=this.readDOMTimeout){return}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){if(this$1.composing.done){this$1.composing=null}else{return}}this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(this$1.cm)})}};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(0==e.charCode||this.composing){return}e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,_StringfromCharCode(null==e.charCode?e.keyCode:e.charCode),0)}};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=("nocursor"!=val)+""};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=!0;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line,cm.doc.direction),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset="right"==result.collapse?result.end:result.start;return result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode){if(/CodeMirror-gutter-wrapper/.test(scan.className)){return!0}}return!1}function badPos(pos,bad){if(bad){pos.bad=!0}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=!1,lineSep=cm.doc.lineSeparator(),extraLinebreak=!1;function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text+=lineSep;if(extraLinebreak){text+=lineSep}closing=extraLinebreak=!1}}function addText(str){if(str){close();text+=str}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range$$1=found[0].find(0))){addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep))}return}if("false"==node.getAttribute("contenteditable")){return}var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&0==node.textContent.length){return}if(isBlock){close()}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|p)$/i.test(node.nodeName)){extraLinebreak=!0}if(isBlock){closing=!0}}else if(3==node.nodeType){addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}for(;;){walk(from);if(from==to){break}from=from.nextSibling;extraLinebreak=!1}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0,lineView;i<cm.display.view.length;i++){lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),!0)}if(node==wrapper){bad=!0;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=3==node.nodeType?node:null,topNode=node;if(!textNode&&1==node.childNodes.length&&3==node.firstChild.nodeType){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1,map$$1;i<(maps?maps.length:0);i++){map$$1=0>i?measure.map:maps[i];for(var j=0,curNode;j<map$$1.length;j+=3){curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(0>i?lineView.line:lineView.rest[i]),ch=map$$1[j]+offset;if(0>offset||curNode!=textNode){ch=map$$1[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=!1;this.polling=new Delayed;this.hasSelection=!1;this.composing=null};TextareaInput.prototype.init=function(display){var this$1=this,input=this,cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&9<=ie_version&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=+new Date;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:!1,text:cm.getSelections()})}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text});if("cut"==e.type){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if("cut"==e.type){cm.state.cutIncoming=+new Date}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}var event=new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})};TextareaInput.prototype.createField=function(){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=_Mathmax(0,_Mathmin(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=_Mathmax(0,_Mathmin(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(null!=drawn.teTop){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing){return}var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&9<=ie_version){this.hasSelection=content}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&9<=ie_version){this.hasSelection=null}}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return!1};TextareaInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})};TextareaInput.prototype.fastPoll=function(){var missed=!1,input=this;input.pollingFast=!0;function p(){var changed=input.poll();if(!changed&&!missed){missed=!0;input.polling.set(60,p)}else{input.pollingFast=!1;input.slowPoll()}}input.polling.set(20,p)};TextareaInput.prototype.poll=function(){var this$1=this,cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return!1}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return!1}if(ie&&9<=ie_version&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return!1}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203==first&&!prevInput){prevInput="\u200B"}if(8666==first){this.reset();return this.cm.execCommand("undo")}}var same=0,l=_Mathmin(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(1e3<text.length||-1<text.indexOf("\n")){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return!0};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=!1}};TextareaInput.prototype.onKeyPress=function(){if(ie&&9<=ie_version){this.hasSelection=null}this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;if(input.contextMenuPending){input.contextMenuPending()}var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&-1==cm.doc.sel.contains(pos)){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText,wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=rehide;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval="\u200B"+(selected?te.value:"");te.value="\u21DA";te.value=extval;input.prevInput=selected?"":"\u200B";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide){return}input.contextMenuPending=!1;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&9>ie_version){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}if(null!=te.selectionStart){if(!ie||ie&&9>ie_version){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&0<te.selectionEnd&&"\u200B"==input.prevInput){operation(cm,selectAll)(cm)}else if(10>i++){display.detectingSelectAll=setTimeout(poll,500)}else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&9<=ie_version){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}};TextareaInput.prototype.readOnlyChanged=function(val){if(!val){this.reset()}this.textarea.disabled="nocursor"==val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=!1;(function(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},!0);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},!0);option("indentUnit",2,loadMode,!0);option("indentWithTabs",!1);option("smartIndent",!0);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},!0);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0,found;;){found=line.text.indexOf(val,pos);if(-1==found){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;0<=i;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},!0);option("electricChars",!0);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0);option("spellcheck",!1,function(cm,val){return cm.getInputField().spellcheck=val},!0);option("autocorrect",!1,function(cm,val){return cm.getInputField().autocorrect=val},!0);option("autocapitalize",!1,function(cm,val){return cm.getInputField().autocapitalize=val},!0);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",!0);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm)},!0);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",!1,wrappingChanged,!0);option("gutters",[],function(cm,val){cm.display.gutterSpecs=getGutters(val,cm.options.lineNumbers);updateGutters(cm)},!0);option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},!0);option("coverGutterNextToScrollbar",!1,function(cm){return updateScrollbars(cm)},!0);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0);option("lineNumbers",!1,function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val);updateGutters(cm)},!0);option("firstLineNumber",1,updateGutters,!0);option("lineNumberFormatter",function(integer){return integer},updateGutters,!0);option("showCursorWhenSelecting",!1,updateSelection,!0);option("resetSelectionOnContextMenu",!0);option("lineWiseCopyCut",!0);option("pasteLinesPerSelection",!0);option("selectionsMayTouch",!1);option("readOnly",!1,function(cm,val){if("nocursor"==val){onBlur(cm);cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("disableInput",!1,function(cm,val){if(!val){cm.display.input.reset()}},!0);option("dragDrop",!0,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,!0);option("singleCursorHeightPerLine",!0,updateSelection,!0);option("workTime",100);option("workDelay",100);option("flattenSpans",!0,resetModeState,!0);option("addModeClass",!1,resetModeState,!0);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},!0);option("maxHighlightLength",1e4,resetModeState,!0);option("moveInputWithCursor",!0,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},!0);option("phrases",null)})(CodeMirror);(function(CodeMirror){var optionHandlers=CodeMirror.optionHandlers,helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&"mode"!=option){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1))},removeKeyMap:function(map$$1){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i){if(maps[i]==map$$1||maps[i].name==map$$1){maps.splice(i,1);return!0}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){for(var this$1=this,overlays=this.state.overlays,i=0,cur;i<overlays.length;++i){cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if("string"!=typeof dir&&"number"!=typeof dir){if(null==dir){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){for(var this$1=this,ranges=this.doc.sel.ranges,end=-1,i=0,range$$1;i<ranges.length;i++){range$$1=ranges[i];if(!range$$1.empty()){var from=range$$1.from(),to=range$$1.to(),start=_Mathmax(end,from.line);end=_Mathmin(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(0==from.ch&&ranges.length==newRanges.length&&0<newRanges[i].from().ch){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else if(range$$1.head.line>end){indentLine(this$1,range$$1.head.line,how,!0);end=range$$1.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch,type;if(0==ch){type=styles[2]}else{for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch){after=mid}else if(styles[2*mid+1]<ch){before=mid+1}else{type=styles[2*mid+2];break}}}var cut=type?type.indexOf("overlay "):-1;return 0>cut?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this,found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type]){if(help[mode[type]]){found.push(help[mode[type]])}}else if(mode[type]){for(var i=0,val;i<mode[type].length;i++){val=help[mode[type][i]];if(val){found.push(val)}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i$1=0,cur;i$1<help._global.length;i$1++){cur=help._global[i$1];if(cur.pred(mode,this$1)&&-1==indexOf(found,cur.val)){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,null==line?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,mode){var pos,range$$1=this.doc.sel.primary();if(null==start){pos=range$$1.head}else if("object"==typeof start){pos=clipPos(this.doc,start)}else{pos=start?range$$1.from():range$$1.to()}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=!1,lineObj;if("number"==typeof line){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else if(line>last){line=last;end=!0}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if("over"==vert){top=pos.top}else if("above"==vert||"near"==vert){var vspace=_Mathmax(display.wrapper.clientHeight,this.doc.height),hspace=_Mathmax(display.sizer.clientWidth,display.lineSpace.clientWidth);if(("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}node.style.top=top+"px";node.style.left=node.style.right="";if("right"==horiz){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if("left"==horiz){left=0}else if("middle"==horiz){left=(display.sizer.clientWidth-node.offsetWidth)/2}node.style.left=left+"px"}if(scroll){scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this,dir=1;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){if(this$1.display.shift||this$1.doc.extend||range$$1.empty()){return findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually)}else{return 0>dir?range$$1.from():range$$1.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range$$1){var other=findPosH(doc,range$$1.head,dir,unit,!1);return 0>dir?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this,dir=1,x=goalColumn;if(0>amount){dir=-1;amount=-amount}for(var cur=clipPos(this.doc,from),i=0,coords;i<amount;++i){coords=cursorCoords(this$1,cur,"div");if(null==x){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this,doc=this.doc,goals=[],collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range$$1){if(collapse){return 0>dir?range$$1.from():range$$1.to()}var headPos=cursorCoords(this$1,range$$1.head,"div");if(null!=range$$1.goalColumn){headPos.left=range$$1.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if("page"==unit&&range$$1==doc.sel.primary()){addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if(("before"==pos.sticky||end==line.length)&&start){--start}else{++end}var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return /\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(0<start&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(null!=value&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range$$1,margin){if(null==range$$1){range$$1={from:this.doc.sel.primary().head,to:null};if(null==margin){margin=this.options.cursorScrollMargin}}else if("number"==typeof range$$1){range$$1={from:Pos(range$$1,0),to:null}}else if(null==range$$1.from){range$$1={from:range$$1,to:null}}if(!range$$1.to){range$$1.to=range$$1.from}range$$1.margin=margin||0;if(null!=range$$1.from.line){scrollToRange(this,range$$1)}else{scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin)}}),setSize:methodOp(function(width,height){var this$1=this,interpret=function(val){return"number"==typeof val||/^\d+$/.test(val+"")?val+"px":val};if(null!=width){this.display.wrapper.style.width=interpret(width)}if(null!=height){this.display.wrapper.style.height=interpret(height)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break}}}++lineNo$$1});this.curOp.forceUpdate=!0;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=!0;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(null==oldHeight||.5<_Mathabs(oldHeight-textHeight(this.display))){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;if(this.state.selectingText){this.state.selectingText()}attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=!0;signalLater(this,"swapDoc",this,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}})(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&0>indexOf(dontDelegate,prop)){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&"null"!=name){CodeMirror.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec};CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=function(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}if(null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if("function"==typeof textarea.form.submit){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm};(function(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames})(CodeMirror);CodeMirror.version="5.47.0";return CodeMirror});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"),"cjs");else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],function(CM){mod(CM,"amd")});else mod(CodeMirror,"plain")})(function(CodeMirror,env){if(!CodeMirror.modeURL)CodeMirror.modeURL="../mode/%N/%N.js";var loading={};function splitCallback(cont,n){var countDown=n;return function(){if(0==--countDown)cont()}}function ensureDeps(mode,cont){var deps=CodeMirror.modes[mode].dependencies;if(!deps)return cont();for(var missing=[],i=0;i<deps.length;++i){if(!CodeMirror.modes.hasOwnProperty(deps[i]))missing.push(deps[i])}if(!missing.length)return cont();for(var split=splitCallback(cont,missing.length),i=0;i<missing.length;++i)CodeMirror.requireMode(missing[i],split)}CodeMirror.requireMode=function(mode,cont){if("string"!=typeof mode)mode=mode.name;if(CodeMirror.modes.hasOwnProperty(mode))return ensureDeps(mode,cont);if(loading.hasOwnProperty(mode))return loading[mode].push(cont);var file=CodeMirror.modeURL.replace(/%N/g,mode);if("plain"==env){var script=document.createElement("script");script.src=file;var others=document.getElementsByTagName("script")[0],list=loading[mode]=[cont];CodeMirror.on(script,"load",function(){ensureDeps(mode,function(){for(var i=0;i<list.length;++i)list[i]()})});others.parentNode.insertBefore(script,others)}else if("cjs"==env){require(file);cont()}else if("amd"==env){requirejs([file],cont)}};CodeMirror.autoLoadMode=function(instance,mode){if(!CodeMirror.modes.hasOwnProperty(mode))CodeMirror.requireMode(mode,function(){instance.setOption("mode",instance.getOption("mode"))})}});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.mimes)info.mime=info.mimes[0]}CodeMirror.findModeByMIME=function(mime){mime=mime.toLowerCase();for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.mime==mime)return info;if(info.mimes)for(var j=0;j<info.mimes.length;j++)if(info.mimes[j]==mime)return info}if(/\+xml$/.test(mime))return CodeMirror.findModeByMIME("application/xml");if(/\+json$/.test(mime))return CodeMirror.findModeByMIME("application/json")};CodeMirror.findModeByExtension=function(ext){for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.ext)for(var j=0;j<info.ext.length;j++)if(info.ext[j]==ext)return info}};CodeMirror.findModeByFileName=function(filename){for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.file&&info.file.test(filename))return info}var dot=filename.lastIndexOf("."),ext=-1<dot&&filename.substring(dot+1,filename.length);if(ext)return CodeMirror.findModeByExtension(ext)};CodeMirror.findModeByName=function(name){name=name.toLowerCase();for(var i=0,info;i<CodeMirror.modeInfo.length;i++){info=CodeMirror.modeInfo[i];if(info.name.toLowerCase()==name)return info;if(info.alias)for(var j=0;j<info.alias.length;j++)if(info.alias[j].toLowerCase()==name)return info}}});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit,statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),D=kw("keyword d"),operator=kw("operator"),atom={type:"atom",style:"atom"};return{if:kw("if"),while:A,with:A,else:B,do:B,try:B,finally:B,return:D,break:D,continue:D,new:kw("new"),delete:C,void:C,throw:C,debugger:kw("debugger"),var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw("this"),class:kw("class"),super:kw("atom"),yield:C,export:kw("export"),import:kw("import"),extends:C,await:C}}(),isOperatorChar=/[+\-*&%=<>!?|~^@]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){var escaped=!1,next,inSet=!1;while(null!=(next=stream.next())){if(!escaped){if("/"==next&&!inSet)return;if("["==next)inSet=!0;else if(inSet&&"]"==next)inSet=!1}escaped=!escaped&&"\\"==next}}var type,content;function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if("\""==ch||"'"==ch){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if("."==ch&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ret("number","number")}else if("."==ch&&stream.match("..")){return ret("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(ch)){return ret(ch)}else if("="==ch&&stream.eat(">")){return ret("=>","operator")}else if("0"==ch&&stream.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i)){return ret("number","number")}else if(/\d/.test(ch)){stream.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/);return ret("number","number")}else if("/"==ch){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return ret("regexp","string-2")}else{stream.eat("=");return ret("operator","operator",stream.current())}}else if("`"==ch){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if("#"==ch){stream.skipToEnd();return ret("error","error")}else if(isOperatorChar.test(ch)){if(">"!=ch||!state.lexical||">"!=state.lexical.type){if(stream.eat("=")){if("!"==ch||"="==ch)stream.eat("=")}else if(/[<>*+\-]/.test(ch)){stream.eat(ch);if(">"==ch)stream.eat(ch)}}return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if("."!=state.lastType){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if("async"==word&&stream.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=!1,next;if(jsonldMode&&"@"==stream.peek()&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}while(null!=(next=stream.next())){if(next==quote&&!escaped)break;escaped=!escaped&&"\\"==next}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=!1,ch;while(ch=stream.next()){if("/"==ch&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd="*"==ch}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=!1,next;while(null!=(next=stream.next())){if(!escaped&&("`"==next||"$"==next&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==next}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(0>arrow)return;if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}for(var depth=0,sawSomething=!1,pos=arrow-1;0<=pos;--pos){var ch=stream.string.charAt(pos),bracket="([{}])".indexOf(ch);if(0<=bracket&&3>bracket){if(!depth){++pos;break}if(0==--depth){if("("==ch)sawSomething=!0;break}}else if(3<=bracket&&6>bracket){++depth}else if(wordRE.test(ch)){sawSomething=!0}else if(/["'\/]/.test(ch)){return}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}var atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(null!=align)this.align=align}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx=state.context;cx;cx=cx.prev){for(var v=cx.vars;v;v=v.next)if(v.name==varname)return!0}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=!0;while(!0){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex)cc.pop()();if(cx.marked)return cx.marked;if("variable"==type&&inScope(state,content))return"variable-2";return style}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;0<=i;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return!0}function inList(name,list){for(var v=list;v;v=v.next)if(v.name==name)return!0;return!1}function register(varname){var state=cx.state;cx.marked="def";if(state.context){if("var"==state.lexical.info&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(null!=newContext){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return}}if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars)}function registerVarScoped(varname,context){if(!context){return null}else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,!0)}else if(inList(varname,context.vars)){return context}else{return new Context(context.prev,new Var(varname,context.vars),!1)}}function isModifier(name){return"public"==name||"private"==name||"protected"==name||"abstract"==name||"readonly"==name}function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block}function Var(name,next){this.name=name;this.next=next}var defaultVars=new Var("this",new Var("arguments",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!1);cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!0);cx.state.localVars=null}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}popcontext.lex=!0;function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if("stat"==state.lexical.type)indent=state.lexical.indented;else for(var outer=state.lexical;outer&&")"==outer.type&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};result.lex=!0;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(")"==state.lexical.type)state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}poplex.lex=!0;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(";"==wanted||"}"==type||")"==type||"]"==type)return pass();else return cont(exp)}return exp}function statement(type,value){if("var"==type)return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if("keyword a"==type)return cont(pushlex("form"),parenExpr,statement,poplex);if("keyword b"==type)return cont(pushlex("form"),statement,poplex);if("keyword d"==type)return cx.stream.match(/^\s*$/,!1)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if("debugger"==type)return cont(expect(";"));if("{"==type)return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(";"==type)return cont();if("if"==type){if("else"==cx.state.lexical.info&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if("function"==type)return cont(functiondef);if("for"==type)return cont(pushlex("form"),forspec,statement,poplex);if("class"==type||isTS&&"interface"==value){cx.marked="keyword";return cont(pushlex("form","class"==type?type:value),className,poplex)}if("variable"==type){if(isTS&&"declare"==value){cx.marked="keyword";return cont(statement)}else if(isTS&&("module"==value||"enum"==value||"type"==value)&&cx.stream.match(/^\s*\w/,!1)){cx.marked="keyword";if("enum"==value)return cont(enumdef);else if("type"==value)return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)}else if(isTS&&"namespace"==value){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex)}else if(isTS&&"abstract"==value){cx.marked="keyword";return cont(statement)}else{return cont(pushlex("stat"),maybelabel)}}if("switch"==type)return cont(pushlex("form"),parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if("case"==type)return cont(expression,expect(":"));if("default"==type)return cont(expect(":"));if("catch"==type)return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if("export"==type)return cont(pushlex("stat"),afterExport,poplex);if("import"==type)return cont(pushlex("stat"),afterImport,poplex);if("async"==type)return cont(statement);if("@"==value)return cont(expression,statement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type){if("("==type)return cont(funarg,expect(")"))}function expression(type,value){return expressionInner(type,value,!1)}function expressionNoComma(type,value){return expressionInner(type,value,!0)}function parenExpr(type){if("("!=type)return pass();return cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if("variable"==type)return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if("function"==type)return cont(functiondef,maybeop);if("class"==type||isTS&&"interface"==value){cx.marked="keyword";return cont(pushlex("form"),classExpression,poplex)}if("keyword c"==type||"async"==type)return cont(noComma?expressionNoComma:expression);if("("==type)return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if("operator"==type||"spread"==type)return cont(noComma?expressionNoComma:expression);if("["==type)return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if("{"==type)return contCommasep(objprop,"}",null,maybeop);if("quasi"==type)return pass(quasi,maybeop);if("new"==type)return cont(maybeTarget(noComma));if("import"==type)return cont(expression);return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expression)}function maybeoperatorComma(type,value){if(","==type)return cont(expression);return maybeoperatorNoComma(type,value,!1)}function maybeoperatorNoComma(type,value,noComma){var me=!1==noComma?maybeoperatorComma:maybeoperatorNoComma,expr=!1==noComma?expression:expressionNoComma;if("=>"==type)return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if("operator"==type){if(/\+\+|--/.test(value)||isTS&&"!"==value)return cont(me);if(isTS&&"<"==value&&cx.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if("?"==value)return cont(expression,expect(":"),expr);return cont(expr)}if("quasi"==type){return pass(quasi,me)}if(";"==type)return;if("("==type)return contCommasep(expressionNoComma,")","call",me);if("."==type)return cont(property,me);if("["==type)return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&"as"==value){cx.marked="keyword";return cont(typeexpr,me)}if("regexp"==type){cx.state.lastType=cx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr)}}function quasi(type,value){if("quasi"!=type)return pass();if("${"!=value.slice(value.length-2))return cont(quasi);return cont(expression,continueQuasi)}function continueQuasi(type){if("}"==type){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass("{"==type?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,cx.state);return pass("{"==type?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if("."==type)return cont(noComma?targetNoComma:target);else if("variable"==type&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if("target"==value){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if("target"==value){cx.marked="keyword";return cont(maybeoperatorNoComma)}}function maybelabel(type){if(":"==type)return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if("variable"==type){cx.marked="property";return cont()}}function objprop(type,value){if("async"==type){cx.marked="property";return cont(objprop)}else if("variable"==type||"keyword"==cx.style){cx.marked="property";if("get"==value||"set"==value)return cont(getterSetter);var m;if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,!1)))cx.state.fatArrowAt=cx.stream.pos+m[0].length;return cont(afterprop)}else if("number"==type||"string"==type){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if("jsonld-keyword"==type){return cont(afterprop)}else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop)}else if("["==type){return cont(expression,maybetype,expect("]"),afterprop)}else if("spread"==type){return cont(expressionNoComma,afterprop)}else if("*"==value){cx.marked="keyword";return cont(objprop)}else if(":"==type){return pass(afterprop)}}function getterSetter(type){if("variable"!=type)return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(":"==type)return cont(expressionNoComma);if("("==type)return pass(functiondef)}function commasep(what,end,sep){function proceed(type,value){if(sep?-1<sep.indexOf(type):","==type){var lex=cx.state.lexical;if("call"==lex.info)lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},proceed)}if(type==end||value==end)return cont();if(sep&&-1<sep.indexOf(";"))return pass(what);return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if("}"==type)return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(":"==type||"in"==value)return cont(typeexpr);if("?"==value)return cont(maybetype)}}function mayberettype(type){if(isTS&&":"==type){if(cx.stream.match(/^\s*\w+\s+is\b/,!1))return cont(expression,isKW,typeexpr);else return cont(typeexpr)}}function isKW(_,value){if("is"==value){cx.marked="keyword";return cont()}}function typeexpr(type,value){if("keyof"==value||"typeof"==value||"infer"==value){cx.marked="keyword";return cont("typeof"==value?expressionNoComma:typeexpr)}if("variable"==type||"void"==value){cx.marked="type";return cont(afterType)}if("|"==value||"&"==value)return cont(typeexpr);if("string"==type||"number"==type||"atom"==type)return cont(afterType);if("["==type)return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if("{"==type)return cont(pushlex("}"),commasep(typeprop,"}",",;"),poplex,afterType);if("("==type)return cont(commasep(typearg,")"),maybeReturnType,afterType);if("<"==type)return cont(commasep(typeexpr,">"),typeexpr)}function maybeReturnType(type){if("=>"==type)return cont(typeexpr)}function typeprop(type,value){if("variable"==type||"keyword"==cx.style){cx.marked="property";return cont(typeprop)}else if("?"==value||"number"==type||"string"==type){return cont(typeprop)}else if(":"==type){return cont(typeexpr)}else if("["==type){return cont(expect("variable"),maybetype,expect("]"),typeprop)}else if("("==type){return pass(functiondecl,typeprop)}}function typearg(type,value){if("variable"==type&&cx.stream.match(/^\s*[?:]/,!1)||"?"==value)return cont(typearg);if(":"==type)return cont(typeexpr);if("spread"==type)return cont(typearg);return pass(typeexpr)}function afterType(type,value){if("<"==value)return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if("|"==value||"."==type||"&"==value)return cont(typeexpr);if("["==type)return cont(typeexpr,expect("]"),afterType);if("extends"==value||"implements"==value){cx.marked="keyword";return cont(typeexpr)}if("?"==value)return cont(typeexpr,expect(":"),typeexpr)}function maybeTypeArgs(_,value){if("<"==value)return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if("="==value)return cont(typeexpr)}function vardef(_,value){if("enum"==value){cx.marked="keyword";return cont(enumdef)}return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern)}if("variable"==type){register(value);return cont()}if("spread"==type)return cont(pattern);if("["==type)return contCommasep(eltpattern,"]");if("{"==type)return contCommasep(proppattern,"}")}function proppattern(type,value){if("variable"==type&&!cx.stream.match(/^\s*:/,!1)){register(value);return cont(maybeAssign)}if("variable"==type)cx.marked="property";if("spread"==type)return cont(pattern);if("}"==type)return pass();if("["==type)return cont(expression,expect("]"),expect(":"),proppattern);return cont(expect(":"),pattern,maybeAssign)}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if("="==value)return cont(expressionNoComma)}function vardefCont(type){if(","==type)return cont(vardef)}function maybeelse(type,value){if("keyword b"==type&&"else"==value)return cont(pushlex("form","else"),statement,poplex)}function forspec(type,value){if("await"==value)return cont(forspec);if("("==type)return cont(pushlex(")"),forspec1,poplex)}function forspec1(type){if("var"==type)return cont(vardef,forspec2);if("variable"==type)return cont(forspec2);return pass(forspec2)}function forspec2(type,value){if(")"==type)return cont();if(";"==type)return cont(forspec2);if("in"==value||"of"==value){cx.marked="keyword";return cont(expression,forspec2)}return pass(expression,forspec2)}function functiondef(type,value){if("*"==value){cx.marked="keyword";return cont(functiondef)}if("variable"==type){register(value);return cont(functiondef)}if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,statement,popcontext);if(isTS&&"<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type,value){if("*"==value){cx.marked="keyword";return cont(functiondecl)}if("variable"==type){register(value);return cont(functiondecl)}if("("==type)return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&"<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type,value){if("keyword"==type||"variable"==type){cx.marked="type";return cont(typename)}else if("<"==value){return cont(pushlex(">"),commasep(typeparam,">"),poplex)}}function funarg(type,value){if("@"==value)cont(expression,funarg);if("spread"==type)return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg)}if(isTS&&"this"==type)return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){if("variable"==type)return className(type,value);return classNameAfter(type,value)}function className(type,value){if("variable"==type){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if("<"==value)return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if("extends"==value||"implements"==value||isTS&&","==type){if("implements"==value)cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter)}if("{"==type)return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if("async"==type||"variable"==type&&("static"==value||"get"==value||"set"==value||isTS&&isModifier(value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)){cx.marked="keyword";return cont(classBody)}if("variable"==type||"keyword"==cx.style){cx.marked="property";return cont(isTS?classfield:functiondef,classBody)}if("number"==type||"string"==type)return cont(isTS?classfield:functiondef,classBody);if("["==type)return cont(expression,maybetype,expect("]"),isTS?classfield:functiondef,classBody);if("*"==value){cx.marked="keyword";return cont(classBody)}if(isTS&&"("==type)return pass(functiondecl,classBody);if(";"==type||","==type)return cont(classBody);if("}"==type)return cont();if("@"==value)return cont(expression,classBody)}function classfield(type,value){if("?"==value)return cont(classfield);if(":"==type)return cont(typeexpr,maybeAssign);if("="==value)return cont(expressionNoComma);var context=cx.state.lexical.prev,isInterface=context&&"interface"==context.info;return pass(isInterface?functiondecl:functiondef)}function afterExport(type,value){if("*"==value){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if("default"==value){cx.marked="keyword";return cont(expression,expect(";"))}if("{"==type)return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement)}function exportField(type,value){if("as"==value){cx.marked="keyword";return cont(expect("variable"))}if("variable"==type)return pass(expressionNoComma,exportField)}function afterImport(type){if("string"==type)return cont();if("("==type)return pass(expression);return pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){if("{"==type)return contCommasep(importSpec,"}");if("variable"==type)register(value);if("*"==value)cx.marked="keyword";return cont(maybeAs)}function maybeMoreImports(type){if(","==type)return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if("as"==value){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if("from"==value){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if("]"==type)return cont();return pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return"operator"==state.lastType||","==state.lastType||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||"quasi"==state.lastType&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,!1),indented:basecolumn||0};if(parserConfig.globalVars&&"object"==typeof parserConfig.globalVars)state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=!1;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"==type)return style;state.lastType="operator"==type&&("++"==content||"--"==content)?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1,c;0<=i;--i){c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}while(("stat"==lexical.type||"form"==lexical.type)&&("}"==firstChar||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter)))lexical=lexical.prev;if(statementIndent&&")"==lexical.type&&"stat"==lexical.prev.type)lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if("vardef"==type)return lexical.indented+("operator"==state.lastType||","==state.lastType?lexical.info.length+1:0);else if("form"==type&&"{"==firstChar)return lexical.indented;else if("form"==type)return lexical.indented+indentUnit;else if("stat"==type)return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if("switch"==lexical.info&&!closing&&!1!=parserConfig.doubleIndentSwitch)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];if(top==expression||top==expressionNoComma)state.cc.pop()}}});CodeMirror.registerHelper("wordChars","javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var htmlConfig={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};CodeMirror.defineMode("xml",function(editorConf,config_){var indentUnit=editorConf.indentUnit,config={},defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];var type,setStyle;function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if("<"==ch){if(stream.eat("!")){if(stream.eat("[")){if(stream.match("CDATA["))return chain(inBlock("atom","]]>"));else return null}else if(stream.match("--")){return chain(inBlock("comment","-->"))}else if(stream.match("DOCTYPE",!0,!0)){stream.eatWhile(/[\w\._\-]/);return chain(doctype(1))}else{return null}}else if(stream.eat("?")){stream.eatWhile(/[\w\._\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}}else if("&"==ch){var ok;if(stream.eat("#")){if(stream.eat("x")){ok=stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";")}else{ok=stream.eatWhile(/[\d]/)&&stream.eat(";")}}else{ok=stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";")}return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);return null}}inText.isInText=!0;function inTag(stream,state){var ch=stream.next();if(">"==ch||"/"==ch&&stream.eat(">")){state.tokenize=inText;type=">"==ch?"endTag":"selfcloseTag";return"tag bracket"}else if("="==ch){type="equals";return null}else if("<"==ch){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/[\'\"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,state)}else{stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){while(!stream.eol()){if(stream.next()==quote){state.tokenize=inTag;break}}return"string"};closure.isInAttribute=!0;return closure}function inBlock(style,terminator){return function(stream,state){while(!stream.eol()){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;while(null!=(ch=stream.next())){if("<"==ch){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(">"==ch){if(1==depth){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context;this.tagName=tagName;this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)this.noIndent=!0}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;while(!0){if(!state.context){return}parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)){return}popContext(state)}}function baseState(type,stream,state){if("openTag"==type){state.tagStart=stream.column();return tagNameState}else if("closeTag"==type){return closeTagNameState}else{return baseState}}function tagNameState(type,stream,state){if("word"==type){state.tagName=stream.current();setStyle="tag";return attrState}else if(config.allowMissingTagName&&"endTag"==type){setStyle="tag bracket";return attrState(type,stream,state)}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if("word"==type){var tagName=stream.current();if(state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName))popContext(state);if(state.context&&state.context.tagName==tagName||!1===config.matchClosing){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else if(config.allowMissingTagName&&"endTag"==type){setStyle="tag bracket";return closeState(type,stream,state)}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if("endTag"!=type){setStyle="error";return closeState}popContext(state);return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if("word"==type){setStyle="attribute";return attrEqState}else if("endTag"==type||"selfcloseTag"==type){var tagName=state.tagName,tagStart=state.tagStart;state.tagName=state.tagStart=null;if("selfcloseTag"==type||config.autoSelfClosers.hasOwnProperty(tagName)){maybePopContext(state,tagName)}else{maybePopContext(state,tagName);state.context=new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if("equals"==type)return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if("string"==type)return attrContinuedState;if("word"==type&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,stream,state){if("string"==type)return attrContinuedState;return attrState(type,stream,state)}return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(null!=baseIndent)state.baseIndent=baseIndent;return state},token:function(stream,state){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&"comment"!=style){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style="error"==setStyle?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute){if(state.tagStart==state.indented)return state.stringStartCol+1;else return state.indented+indentUnit}if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName){if(!1!==config.multilineTagIndentPastTag)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1)}if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1]){while(context){if(context.tagName==tagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(context.tagName)){context=context.prev}else{break}}}else if(tagAfter){while(context){var grabbers=config.contextGrabbers[context.tagName];if(grabbers&&grabbers.hasOwnProperty(tagAfter[2]))context=context.prev;else break}}while(context&&context.prev&&!context.startOfLine)context=context.prev;if(context)return context.indent+indentUnit;else return state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0})});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var defaultTags={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function maybeBackup(stream,pat,style){var cur=stream.current(),close=cur.search(pat);if(-1<close){stream.backUp(cur.length-close)}else if(cur.match(/<\/?$/)){stream.backUp(cur.length);if(!stream.match(pat,!1))stream.match(cur)}return style}var attrRegexpCache={};function getAttrRegexp(attr){var regexp=attrRegexpCache[attr];if(regexp)return regexp;return attrRegexpCache[attr]=new RegExp("\\s+"+attr+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function getAttrValue(text,attr){var match=text.match(getAttrRegexp(attr));return match?/^\s*(.*?)\s*$/.exec(match[2])[1]:""}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</s*"+tagName+"s*>","i")}function addTags(from,to){for(var tag in from){for(var dest=to[tag]||(to[tag]=[]),source=from[tag],i=source.length-1;0<=i;i--)dest.unshift(source[i])}}function findMatchingMode(tagInfo,tagText){for(var i=0,spec;i<tagInfo.length;i++){spec=tagInfo[i];if(!spec[0]||spec[1].test(getAttrValue(tagText,spec[0])))return spec[2]}}CodeMirror.defineMode("htmlmixed",function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:!0,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag}),tags={},configTags=parserConfig&&parserConfig.tags,configScript=parserConfig&&parserConfig.scriptTypes;addTags(defaultTags,tags);if(configTags)addTags(configTags,tags);if(configScript)for(var i=configScript.length-1;0<=i;i--)tags.script.unshift(["type",configScript[i].matches,configScript[i].mode]);function html(stream,state){var style=htmlMode.token(stream,state.htmlState),tag=/\btag\b/.test(style),tagName;if(tag&&!/[<>\s\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&tags.hasOwnProperty(tagName)){state.inTag=tagName+" "}else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=">"==stream.current()&&findMatchingMode(tags[inTag[1]],inTag[2]),mode=CodeMirror.getMode(config,modeSpec),endTagA=getTagRegexp(inTag[1],!0),endTag=getTagRegexp(inTag[1],!1);state.token=function(stream,state){if(stream.match(endTagA,!1)){state.token=html;state.localState=state.localMode=null;return null}return maybeBackup(stream,endTag,state.localMode.token(stream,state.localState))};state.localMode=mode;state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,"",""))}else if(state.inTag){state.inTag+=stream.current();if(stream.eol())state.inTag+=" "}return style}return{startState:function(){var state=CodeMirror.startState(htmlMode);return{token:html,inTag:null,localMode:null,localState:null,htmlState:state}},copyState:function(state){var local;if(state.localState){local=CodeMirror.copyState(state.localMode,state.localState)}return{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter,line){if(!state.localMode||/^\s*<\//.test(textAfter))return htmlMode.indent(state.htmlState,textAfter,line);else if(state.localMode.indent)return state.localMode.indent(state.localState,textAfter,line);else return CodeMirror.Pass},innerMode:function(state){return{state:state.localState||state.htmlState,mode:state.localMode||htmlMode}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed")});</script><dom-module id="code-mirror" assetpath="bower_components/code-mirror/"><template strip-whitespace=""><style include="codemirror">:host{display:block;position:relative;@apply --code-mirror;}#content{display:none;}#wrapper{@apply --code-mirror-wrapper;}#wrapper .CodeMirror{@apply --code-mirror-editor;}</style><div id="wrapper"></div><div id="content"><slot></slot></div><div class="hints"><slot name="hints"></slot></div></template><script>class CodeMirrorElement extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior,Polymer.IronFormElementBehavior],Polymer.Element){static get is(){return"code-mirror"}static get properties(){return{_pendingOptions:{type:Array},value:{type:String,notify:!0,observer:"_valueChanged"},mode:{type:String,value:function(){return{name:"javascript",json:!0}},observer:"_modeChanged"},lineSeparator:{type:String,observer:"_lineSeparatorChanged"},tabSize:{type:Number,observer:"_tabSizeChanged"},smartIndent:{type:Boolean,observer:"_smartIndentChanged"},keyMap:{type:String,observer:"_keyMapChanged"},lineWrapping:{type:Boolean,observer:"_lineWrappingChanged"},readOnly:{type:Boolean,observer:"_readOnlyChanged"},showCursorWhenSelecting:{type:Boolean,observer:"_showCursorWhenSelectingChanged"},lineWiseCopyCut:{type:Boolean,observer:"_lineWiseCopyCutChanged"},undoDepth:{type:Number,observer:"_undoDepthChanged"},historyEventDelay:{type:Number,observer:"_historyEventDelayChanged"},autofocus:{type:Boolean,observer:"_autofocusChanged"},gutters:{type:Array,observer:"_guttersChanged"},lint:{type:Object,observer:"_lintChanged"},editor:{type:Object,readOnly:!0},importLocation:String}}constructor(){super();this._onChangeHandler=this._onChangeHandler.bind(this);this._onBeforeChangeHnalder=this._onBeforeChangeHnalder.bind(this)}ready(){super.ready();const defaultPath=this.importLocation||"../codemirror",resolved=this.resolveUrl(defaultPath+"/");CodeMirror.modeURL=resolved+"mode/%N/%N.js";if(!this.value){this.value=this.textContent.trim()}try{const editor=CodeMirror(this.$.wrapper,{value:this.value,mode:this.mode});this._setEditor(editor);Polymer.RenderStatus.afterNextRender(this,()=>this._setPendingOptions())}catch(e){console.error("Unable to initialize CodeMirror.",e);this.fire("error",e)}}_setPendingOptions(){if(!this._pendingOptions){return}this._pendingOptions.forEach(item=>{this.setOption(item.option,item.value);if(item.post){try{item.post()}catch(e){}}});this._pendingOptions=void 0}connectedCallback(){super.connectedCallback();if(!this.editor){return}this.editor.on("change",this._onChangeHandler);this.editor.on("beforeChange",this._onBeforeChangeHnalder);this.editor.refresh()}disconnectedCallback(){super.disconnectedCallback();if(!this.editor){return}this.editor.off("change",this._onChangeHandler);this.editor.off("beforeChange",this._onBeforeChangeHnalder)}focus(){if(!this.editor){return}this.editor.focus()}setOption(option,value){if(!this.editor){if(!this._pendingOptions){this._pendingOptions=[]}this._pendingOptions.push({option:option,value:value});return}this.editor.setOption(option,value)}_lintChanged(value){this.setOption("lint",value)}_valueChanged(value){if(!this.editor){return}if(this.editor.getValue()!==value&&value!==void 0&&null!==value){if("string"!==typeof value){value=value+""}this.editor.setValue(value)}else if(value===void 0||null===value){this.editor.setValue("")}}_modeChanged(val){if(!val||val.indexOf&&0===val.indexOf("application/json")){this.set("mode",{name:"javascript",json:!0});return}let mode,spec,info;const m=/.+\.([^.]+)$/.exec(val);if(m){info=CodeMirror.findModeByExtension(m[1]);if(info){mode=info.mode;spec=info.mime}}else if(/\//.test(val)){info=CodeMirror.findModeByMIME(val);if(info){mode=info.mode;spec=val}}else{mode=spec=val}if(!this.editor){if(!this._pendingOptions){this._pendingOptions=[]}this._pendingOptions.push({option:"mode",value:mode,post:function(){CodeMirror.autoLoadMode(this.editor,mode)}.bind(this)});return}if(!mode){this.setOption("mode",null);return}this.setOption("mode",spec);CodeMirror.autoLoadMode(this.editor,mode)}_onChangeHandler(){this.set("value",this.editor.getValue())}_onBeforeChangeHnalder(instance,changeObj){const ev=new CustomEvent("before-change",{detail:{change:changeObj},cancelable:!1,bubbles:!1,composed:!1});this.dispatchEvent(ev);if(ev.detail.change.canceled){this.set("value",this.editor.getValue())}}_getValidity(){if(this.required&&!this.value){return!1}return!0}_smartIndentChanged(value){this.setOption("smartIndent",value)}_readOnlyChanged(value){this.setOption("readOnly",value)}_showCursorWhenSelectingChanged(value){this.setOption("showCursorWhenSelecting",value)}_lineWiseCopyCutChanged(value){this.setOption("lineWiseCopyCut",value)}_autofocusChanged(value){this.setOption("autofocus",value)}_guttersChanged(value){this.setOption("gutters",value)}_historyEventDelayChanged(value){this.setOption("historyEventDelay",value)}_undoDepthChanged(value){this.setOption("undoDepth",value)}_lineWrappingChanged(value){this.setOption("lineWrapping",value)}_tabSizeChanged(value){this.setOption("tabSize",value)}_lineSeparatorChanged(value){this.setOption("lineSeparator",value)}_keyMapChanged(value){this.setOption("keyMap",value)}}window.customElements.define(CodeMirrorElement.is,CodeMirrorElement);</script></dom-module><dom-module id="code-mirror-hint-container" assetpath="bower_components/code-mirror-hint/"><template><style>:host{@apply --shadow-elevation-4dp;}</style><div class="container"><slot></slot></div></template><script>class CodeMirrorHintContainer extends Polymer.Element{static get is(){return"code-mirror-hint-container"}}window.customElements.define(CodeMirrorHintContainer.is,CodeMirrorHintContainer);</script></dom-module><script>(function(mod){if("object"===typeof exports&&"object"===typeof module){mod(require("../../lib/codemirror"))}else if("function"===typeof define&&define.amd){define(["../../lib/codemirror"],mod)}else{mod(CodeMirror)}})(function(CodeMirror){"use strict";CodeMirror.defineMode("http-headers",function(){function failRest(stream,state){stream.skipToEnd();state.cur=failRest;return"error"}function header(stream){if(stream.sol()&&!stream.eat(/[ \t]/)){if(stream.match(/^.*?:/)){return"atom"}else{stream.skipToEnd();return"error"}}else{stream.skipToEnd();return"string"}}return{token:function(stream,state){var cur=state.cur;if(!cur||cur!==header&&stream.eatSpace()){return null}return cur(stream,state)},blankLine:function(state){state.cur=failRest},startState:function(){return{cur:header}}}});CodeMirror.defineMIME("message/http-headers","http-headers")});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module){mod(require("./../lib/codemirror"))}else if("function"==typeof define&&define.amd){define(["../../lib/codemirror"],mod)}else{mod(CodeMirror)}})(function(CodeMirror){"use strict";var ACTIVE_HINT_ELEMENT_CLASS="iron-selected";CodeMirror.showHint=function(cm,getHints,options){if(!getHints){return cm.showHint(options)}if(options&&options.async){getHints.async=!0}var newOpts={hint:getHints};if(options){for(var prop in options){newOpts[prop]=options[prop]}}return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){if(1<this.listSelections().length||this.somethingSelected()){return}if(this.state.completionActive){this.state.completionActive.close()}var completion=this.state.completionActive=new Completion(this,options);if(!completion.options.hint){return}CodeMirror.signal(this,"startCompletion",this);completion.update(!0)});function Completion(cm,options){this.cm=cm;this.options=this.buildOptions(options);this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor();this.startLen=this.cm.getLine(this.startPos.line).length;var self=this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active()){return}this.cm.state.completionActive=null;this.tick=null;this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data){CodeMirror.signal(this.data,"close")}if(this.widget){this.widget.close()}CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i];if(completion.hint){completion.hint(this.cm,data,completion)}else{this.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete")}CodeMirror.signal(data,"pick",completion);this.close()},cursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var pos=this.cm.getCursor(),line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<this.startPos.ch||this.cm.somethingSelected()||pos.ch&&this.options.closeCharacters.test(line.charAt(pos.ch-1))){this.close()}else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});if(this.widget){this.widget.disable()}}},update:function(first){if(null==this.tick){return}if(this.data){CodeMirror.signal(this.data,"update")}if(!this.options.hint.async){this.finishUpdate(this.options.hint(this.cm,this.options),first)}else{var myTick=++this.tick,self=this;this.options.hint(this.cm,function(data){if(self.tick==myTick){self.finishUpdate(data,first)}},this.options)}},finishUpdate:function(data,first){this.data=data;var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget){this.widget.close()}if(data&&data.list.length){if(picked&&1==data.list.length){this.pick(data,0)}else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}},buildOptions:function(options){var editor=this.cm.options.hintOptions,out={};for(var prop in defaultOptions){out[prop]=defaultOptions[prop]}if(editor){for(var prop in editor){if(editor[prop]!==void 0){out[prop]=editor[prop]}}}if(options){for(var prop in options){if(options[prop]!==void 0){out[prop]=options[prop]}}}return out}};function getText(completion){if("string"===typeof completion){return completion}else{return completion.text}}function buildKeyMap(completion,handle){var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,!0)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,!0)},Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close},custom=completion.options.customKeys,ourMap=custom?{}:baseMap;function addBinding(key,val){var bound;if("string"!==typeof val){bound=function(cm){return val(cm,handle)}}else if(baseMap.hasOwnProperty(val)){bound=baseMap[val]}else{bound=val}ourMap[key]=bound}if(custom){for(var key in custom){if(custom.hasOwnProperty(key)){addBinding(key,custom[key])}}}var extra=completion.options.extraKeys;if(extra){for(var key in extra){if(extra.hasOwnProperty(key)){addBinding(key,extra[key])}}}return ourMap}function getHintElement(hintsElement,el){while(el&&el!=hintsElement){if("LI"===el.nodeName.toUpperCase()&&el.parentNode===hintsElement){return el}el=el.parentNode}}function Widget(completion,data){var _Mathmax=Math.max;this.completion=completion;this.data=data;this.picked=!1;var widget=this,cm=completion.cm,hints=this.hints=document.createElement("code-mirror-hint-container");hints.slot="hints";hints.className="CodeMirror-hints";this.selectedHint=data.selectedHint||0;var container=document.createElement("paper-listbox");container.selected=0;hints.appendChild(container);for(var completions=data.list,i=0;i<completions.length;++i){var elt=container.appendChild(document.createElement("paper-item")),cur=completions[i],className="CodeMirror-hint"+(i!==this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);if(null!==cur.className){className=cur.className?cur.className+" "+className:className}elt.className=className;if(cur.render){cur.render(elt,data,cur)}else{elt.appendChild(document.createTextNode(cur.displayText||getText(cur)))}elt.hintId=i}if("DIV"===hints.children[0].children[0].nodeName){this._indexOffset=1}else{this._indexOffset=0}var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null,"local"),left=pos.left,top=pos.bottom,below=!0;hints.style.left=left+"px";hints.style.top=top+"px";var winW=window.innerWidth||_Mathmax(document.body.offsetWidth,document.documentElement.offsetWidth),winH=window.innerHeight||_Mathmax(document.body.offsetHeight,document.documentElement.offsetHeight);(completion.options.container||document.body).appendChild(hints);var box=hints.getBoundingClientRect(),overlapY=box.bottom-winH;if(0<overlapY){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(0<curTop-height){hints.style.top=(top=pos.top-height)+"px";below=!1}else if(height>winH){hints.style.height=winH-5+"px";hints.style.top=(top=pos.bottom-box.top)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(0<overlapX){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX-=box.right-box.left-winW}hints.style.left=(left=pos.left-overlapX)+"px"}cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}var startScroll=cm.getScrollInfo();cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo(),editor=cm.getWrapperElement().getBoundingClientRect(),newTop=top+startScroll.top-curScroll.top,point=newTop-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(!below){point+=hints.offsetHeight}if(point<=editor.top||point>=editor.bottom){return completion.close()}hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints.children[0],e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints.children[0],e.target||e.srcElement);if(t&&null!=t.hintId){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick){widget.pick()}}});CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});CodeMirror.signal(data,"select",completions[0],hints.children[0].firstChild);return!0}Widget.prototype={close:function(){if(this.completion.widget!=this){return}this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var widget=this;this.keyMap={Enter:function(){widget.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,avoidWrap){if(i>=this.data.list.length){i=avoidWrap?this.data.list.length-1:0}else if(0>i){i=avoidWrap?0:this.data.list.length-1}if(this.selectedHint===i){return}var selectedHint=this.selectedHint+this._indexOffset,node=this.hints.children[0].children[selectedHint];node.classList.remove(ACTIVE_HINT_ELEMENT_CLASS);selectedHint=i+this._indexOffset;this.selectedHint=i;node=this.hints.children[0].children[selectedHint];node.classList.add(ACTIVE_HINT_ELEMENT_CLASS);if(node.offsetTop<this.hints.scrollTop){this.hints.scrollTop=node.offsetTop-3}else if(node.offsetTop+node.offsetHeight>this.hints.scrollTop+this.hints.clientHeight){this.hints.scrollTop=node.offsetTop+node.offsetHeight-this.hints.clientHeight+3}CodeMirror.signal(this.data,"select",this.data.list[selectedHint],node)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.children[0].children[0].offsetHeight)||1}};CodeMirror.registerHelper("hint","auto",function(cm,options){var helpers=cm.getHelpers(cm.getCursor(),"hint"),words;if(helpers.length){for(var i=0,cur;i<helpers.length;i++){cur=helpers[i](cm,options);if(cur&&cur.list.length){return cur}}}else if(words=cm.getHelper(cm.getCursor(),"hintWords")){if(words){return CodeMirror.hint.fromList(cm,{words:words})}}else if(CodeMirror.hint.anyword){return CodeMirror.hint.anyword(cm,options)}});CodeMirror.registerHelper("hint","fromList",function(cm,options){for(var cur=cm.getCursor(),token=cm.getTokenAt(cur),found=[],i=0,word;i<options.words.length;i++){word=options.words[i];if(word.slice(0,token.string.length)===token.string){found.push(word)}}if(found.length){return{list:found,from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)}}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};CodeMirror.defineOption("hintOptions",null)});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module){mod(require("../../lib/codemirror"))}else if("function"==typeof define&&define.amd){define(["../../lib/codemirror"],mod)}else{mod(CodeMirror)}})(function(CodeMirror){"use strict";var Pos=CodeMirror.Pos,authorizationHeaders=["Basic {base64 of user:password}","Bearer {OAuth2 bearer}"],authorizationParams={"base64 of user:password":{type:String,call:"authorizationBasic"},"OAuth2 bearer":{type:String,call:"authorizationGoogleOauth2"}},headersStructure=[{key:"Accept",values:["*/*","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","application/xml,application/xhtml+xml,text/html;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, "+"application/x-ms-xbap, application/x-shockwave-flash, application/msword, */*","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg,"+" image/gif, image/x-xbitmap, */*;q=0.1","image/png,image/*;q=0.8,*/*;q=0.5","audio/webm, audio/ogg, audio/wav, audio/*;q=0.9, application/ogg;q=0.7, video/*;q=0.6; "+"*/*;q=0.5","video/webm, video/ogg, video/*;q=0.9, application/ogg=0.7, audio/*;q=0.6; */*;q=0.5","application/javascript, */*;q=0.8","text/css,*/*;q=0.1","text/html, application/xml;q=0.9, application/xhtml+xml, image/png, image/webp, image/jpeg"+", image/gif, image/x-xbitmap, */*;q=0.1"]},{key:"Accept-Charset",values:["UTF-8","UTF-16","ISO-8859-1","ISO-8859-1,utf-8;q=0.7,*;q=0.7"]},{key:"Accept-Encoding",values:["compress","gzip","deflate","identity","br","*","gzip, deflate, sdch"]},{key:"Accept-Language",values:["en-US","cad","en-gb;q=0.8, en;q=0.7"]},{key:"Authorization",values:authorizationHeaders,params:authorizationParams},{key:"Access-Control-Request-Method",values:["GET","POST","PUT","DELETE"]},{key:"Access-Control-Request-Headers",values:["{list-of-headers}"],params:{"list-of-headers":{type:String}}},{key:"Cache-Control",values:["no-cache","no-store","max-age={seconds}","max-stale={seconds}","min-fresh={seconds}","no-transform","only-if-cached"],params:{seconds:{type:Number}}},{key:"Connection",values:["close","keep-alive"]},{key:"Content-MD5",values:["{md5-of-message}"],params:{"length-in-bytes":{type:String}}},{key:"Content-Length",values:["{length-in-bytes}"],params:{"length-in-bytes":{type:Number}}},{key:"Content-Type",values:["application/json","application/xml","application/atom+xml","multipart-form-data","application/x-www-form-urlencoded","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"]},{key:"Cookie",values:["{cookie name}={cookie value}","{cookie name}={cookie value}; expires={insert GMT date here}; domain={domain.com}; "+"path=/; secure"],params:{"*":{type:String,call:"cookie"}}},{key:"Date",values:["{insert GMT date here}"]},{key:"DNT",values:[0,1]},{key:"Expect",values:["200-OK","100-continue"]},{key:"From",values:["user@domain.com"]},{key:"Front-End-Https",values:["on","off"]},{key:"Host",values:["www.domain.com","www.domain.com:80"]},{key:"If-Match",values:["{insert entity tag}"]},{key:"If-Modified-Since",values:["{insert GMT date here}"]},{key:"If-None-Match",values:["{insert entity tag}"]},{key:"If-Range",values:["{insert entity tag}","{insert GMT date here}"]},{key:"If-Unmodified-Since",values:["{insert GMT date here}"]},{key:"Max-Forwards",values:["{number of forwards}"],params:{"number of forwards":{type:Number}}},{key:"Origin",values:[]},{key:"Pragma",values:["no-cache"]},{key:"Proxy-Authorization",values:authorizationHeaders,params:authorizationParams},{key:"Proxy-Connection",values:["close","keep-alive"]},{key:"Range",values:["bytes={from bytes}-{to bytes}","bytes=-{final bytes}"]},{key:"Referer",values:["{http://www.domain.com/}"]},{key:"TE",values:["{header name}","trailers, deflate;q=0.5"]},{key:"Upgrade",values:["HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11"]},{key:"User-Agent",values:[navigator.userAgent,"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20120101 Firefox/33.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:33.0) Gecko/20100101 Firefox/33.0","Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3) AppleWebKit/537.75.14 (KHTML, like Gecko)"+" Version/7.0.3 Safari/7046A194A","Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; WOW64; Trident/4.0; SLCC1)","Mozilla/5.0 (MSIE 10.0; Windows NT 6.1; Trident/5.0)","Mozilla/5.0 (iPhone; CPU iPhone OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gec"+"ko) Version/6.0 Mobile/10A5376e Safari/8536.25","Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) "+"Version/6.0 Mobile/10A5376e Safari/8536.25","Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, "+"like Gecko) Chrome/34.0.1847.114 Mobile Safari/537.36","Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM;"+" Touch; NOKIA; Lumia 920)"]},{key:"Via",values:[]},{key:"Warning",values:["{code} {agent} {message} {date}"],properties:{code:{type:Number},agent:{type:String},message:{type:String},date:{type:Date}}},{key:"X-ATT-DeviceId",values:[]},{key:"X-Forwarded-For",values:[]},{key:"X-Forwarded-Proto",values:["http","https"]},{key:"X-Requested-With",values:["XMLHttpRequest"]},{key:"X-Wap-Profile",values:[]}];function getToken(editor,cur){return editor.getTokenAt(cur)}var getKeywords=function(headersStructure){for(var keywords=[],clb=function(header,cm,data,completion){cm.replaceRange(completion.text+": ",data.from,data.to);CodeMirror.signal(cm,"header-key-selected",completion.text)},i=0;i<headersStructure.length;i++){keywords.push({text:headersStructure[i].key,hint:clb.bind(this,headersStructure[i])})}return keywords},getHeaderValuesFor=function(headersStructure,key){for(var keywords=[],clb=function(header,cm,data,completion){var _Mathmin=Math.min;cm.replaceRange(completion.text,data.from,data.to);CodeMirror.signal(cm,"header-value-selected",completion.text);if(header.params&&header.params["*"]&&header.params["*"].call){var fromChar=_Mathmin(data.from.ch,data.to.ch),charTo=fromChar+completion.text.length,line=data.from.line;cm.setSelection({line:line,ch:fromChar},{line:line,ch:charTo});CodeMirror.signal(cm,"header-value-support",{type:header.params["*"],key:header.key,value:completion.text})}else{var match=completion.text.match(/\{(.*?)\}/);if(match){if(header.params&&(match[1]in header.params)){var fromChar=_Mathmin(data.from.ch,data.to.ch),line=data.from.line;fromChar+=completion.text.indexOf("{");var charTo=fromChar+match[1].length+2;cm.setSelection({line:line,ch:fromChar},{line:line,ch:charTo});CodeMirror.signal(cm,"header-value-support",{type:header.params[match[1]],key:header.key,value:completion.text})}}}},i=0;i<headersStructure.length;i++){if(headersStructure[i].key.toLowerCase()===key){for(var valuesLenght=headersStructure[i].values&&headersStructure[i].values.length||0,j=0;j<valuesLenght;j++){var item=headersStructure[i].values[j],completion={text:item,hint:clb.bind(this,headersStructure[i])};keywords.push(completion)}break}}return keywords},cleanResults=function(text,keywords){var results=[],i=0;for(i=0;i<keywords.length;i++){if(keywords[i].text){if(keywords[i].text.toLowerCase().substring(0,text.length)===text){results.push(keywords[i])}}else{if(keywords[i].toLowerCase().substring(0,text.length)===text){results.push(keywords[i])}}}return results};CodeMirror.registerHelper("hint","http-headers",function(editor){var cur=editor.getCursor(),token=getToken(editor,cur),tokenString=!!token.string?"":token.string.trim(),keywords=[],i=0,fromCur={line:cur.line,ch:cur.ch+2},toCur={line:cur.line,ch:cur.ch},flagClean=!0,last=editor.getRange({line:cur.line,ch:cur.ch-1},cur),last2=editor.getRange({line:cur.line,ch:cur.ch-2},cur);if(":"===last||": "===last2||","===last||", "===last2){var key=editor.getRange({line:cur.line,ch:0},cur);if(!key){key=""}key=key.substr(0,key.indexOf(":")).trim().toLowerCase();keywords=getHeaderValuesFor(headersStructure,key)}else if(""!==editor.getRange({line:cur.line,ch:0},cur).trim()){var prev=editor.getRange({line:cur.line,ch:0},cur).trim();if(-1<prev.indexOf(":")){tokenString=prev.substr(prev.indexOf(":")+1).trim().toLowerCase();keywords=getHeaderValuesFor(headersStructure,key)}else{tokenString=prev.toLowerCase();keywords=getKeywords(headersStructure)}fromCur.ch=token.start}else{for(i=0;i<headersStructure.length;i++){keywords=getKeywords(headersStructure)}}if(!0===flagClean&&""===tokenString.trim()){flagClean=!1}if(flagClean){keywords=cleanResults(tokenString,keywords)}return{list:keywords,from:fromCur,to:toCur}})});</script><script>(function(global){"use strict";if(!global.ArcBehaviors){global.ArcBehaviors={}}const ERROR_MESSAGES={CONTENT_TYPE_MISSING:"Content-Type header is not defined",HEADER_NAME_EMPTY:"Header name can't be empty",HEADER_NAME_WHITESPACES:"Header name should not contain whitespaces",HEADER_VALUE_EMPTY:"Header value should not be empty"};ArcBehaviors.HeadersParserBehavior=Polymer.dedupingMixin(base=>{class HPBmixin extends base{static get properties(){return{isPayload:Boolean}}filterHeaders(headers){const _tmp={};headers.forEach(function(header){if(header.name in _tmp){if(!!header.value){_tmp[header.name]+=", "+header.value}}else{_tmp[header.name]=header.value}});const result=[];for(let _key in _tmp){result[result.length]={name:_key,value:_tmp[_key]}}return result}headersToString(headersArray){if("string"===typeof headersArray){return headersArray}if(!(headersArray instanceof Array)){headersArray=this.headersToJSON(headersArray)}if(0===headersArray.length){return""}headersArray=this.filterHeaders(headersArray);return headersArray.map(header=>this.headerItemToString(header)).join("\n")}headerItemToString(header){const key=header.name;let value=header.value;if(value instanceof Array){value=value.join(",")}let result="";if(key&&""!==key.trim()){result+=key+": ";if(value){result+=value}}return result}headersToJSON(headers){if("string"===typeof headers){return this._headersStringToJSON(headers)}return this._hedersToJSON(headers)}_headersStringToJSON(headersString){const result=[];if(!headersString){return result}if("string"!==typeof headersString){throw new Error("Headers must be an instance of String.")}if(""===headersString.trim()){return result}const headers=headersString.split(/\n(?=[^ \t]+)/gim);for(let i=0,len=headers.length;i<len;i++){const line=headers[i].trim();if(""===line){continue}const sepPosition=line.indexOf(":");if(-1===sepPosition){result[result.length]={name:line,value:""};continue}const name=line.substr(0,sepPosition),value=line.substr(sepPosition+1).trim();result.push({name:name,value:value})}return result}_hedersToJSON(headers){if(!headers){return[]}headers=new Headers(headers);const _tmp={};headers.forEach(function(value,name){if(_tmp[name]){_tmp[name]+=", "+value}else{_tmp[name]=value}});return Object.keys(_tmp).map(function(key){let value=_tmp[key];if(value&&-1!==value.indexOf(",")){value=value.split(",").map(part=>part.trim()).join(", ")}return{name:key,value:value}})}_oldCombine(headers,encoding){if(!(headers instanceof Array)){throw new Error("Headers must be an array")}encoding=encoding+"";const ct=headers.filter(item=>"content-type"===item.name.toLowerCase());if(0===ct.length){headers.push({name:"Content-Type",value:encoding.trim()});return!0}return!1}getContentType(headers){if("string"!==typeof headers){headers=this.headersToString(headers)}headers=headers.trim();if(""===headers){return null}const re=/^content-type:\s?(.*)$/im,match=headers.match(re);if(!match){return null}let ct=match[1].trim();if(-1===ct.indexOf("multipart")){const index=ct.indexOf("; ");if(0<index){ct=ct.substr(0,index)}}return ct}replaceHeaderValue(headers,name,value){let origType="headers";if(headers instanceof Array){origType="array"}else if("string"===typeof headers){origType="string"}if("array"!==origType){headers=this.headersToJSON(headers)}const _name=name.toLowerCase();let found=!1;headers.forEach(function(header){if(header.name.toLowerCase()===_name){header.value=value;found=!0}});if(!found){headers.push({name:name,value:value})}if("array"===origType){return headers}else if("string"===origType){return this.headersToString(headers)}const obj={};headers.forEach(function(header){obj[header.name]=header.value});return new Headers(obj)}getHeaderError(input){if(!input){if(this.isPayload){return ERROR_MESSAGES.CONTENT_TYPE_MISSING}return null}if(!(input instanceof Array)){input=this.headersToJSON(input)}const msg=[];let hasContentType=!1;for(let i=0,len=input.length;i<len;i++){const name=input[i].name,value=input[i].value;if("content-type"===name.toLowerCase()){hasContentType=!0}if(!name||!name.trim()){msg[msg.length]=ERROR_MESSAGES.HEADER_NAME_EMPTY}else if(/\s/.test(name)){msg[msg.length]=ERROR_MESSAGES.HEADER_NAME_WHITESPACES}if(!value||!value.trim()){msg[msg.length]=ERROR_MESSAGES.HEADER_VALUE_EMPTY}}if(this.isPayload&&!hasContentType){msg[msg.length]=ERROR_MESSAGES.CONTENT_TYPE_MISSING}if(0<msg.length){return msg.join("\n")}return null}}return HPBmixin})})(window);</script><dom-module id="api-headers-editor" assetpath="bower_components/api-headers-editor/"><template><style include="api-form-styles">:host{display:block;position:relative;@apply --api-headers-editor;}paper-icon-button[active]{background-color:var(--api-headers-editor-panel-button-active-background-color, var(--raml-body-editor-panel-button-active-background-color, #e0e0e0));border-radius:50%;@apply --raml-body-editor-panel-button-active;@apply --api-headers-editor-panel-button-active;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-view-model-transformer amf-model="[[amfModel]]" shape="[[amfHeaders]]" view-model="{{viewModel}}" id="transformer" events-target="[[_transformerTarget]]" no-docs="[[noDocs]]"></api-view-model-transformer><div class="content"><div class="editor-actions"><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-tap="_copyToClipboard" title="Copy headers value to clipboard"></paper-icon-button><paper-icon-button class="action-icon" icon="arc:code" toggles="" active="{{sourceMode}}" title="Toggle source edit mode"></paper-icon-button><slot name="content-actions"></slot></div><div id="editor"><template is="dom-if" if="[[!sourceMode]]" restamp="true"><api-headers-form model="{{viewModel}}" narrow="[[narrow]]" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" data-headers-panel="" on-value-changed="_editorValueChanged" invalid="{{invalid}}" no-docs="[[noDocs]]" readonly="[[readonly]]"></api-headers-form></template></div></div><clipboard-copy content="[[value]]"></clipboard-copy></template><script>class ApiHeadersEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(ArcBehaviors.EventsTargetBehavior(ArcBehaviors.HeadersParserBehavior(ApiElements.AmfHelperMixin(Polymer.Element))))){static get is(){return"api-headers-editor"}static get properties(){return{aware:String,amfModel:Object,amfHeaders:Array,value:{type:String,notify:!0,observer:"_valueChanged"},viewModel:Array,contentType:{type:String,notify:!0,observer:"_onContentTypeChanged"},sourceMode:{type:Boolean,observer:"_sourceModeChanged"},_transformerTarget:{type:Object,value:function(){return this}},_contentTypeRe:{type:Object,value:function(){return /^[\t\r]*content\-type[\t\r]*:[\t\r]*([^\n]*)$/gim}},noDocs:Boolean,readonly:{type:Boolean,observer:"_readonlyChanged"},autoValidate:Boolean}}get currentPanel(){if(!this.shadowRoot){return}const panel=this.shadowRoot.querySelector("code-mirror");if(panel){return panel}return this.shadowRoot.querySelector("api-headers-form")}constructor(){super();this._editorValueChanged=this._editorValueChanged.bind(this);this._cmKeysHandler=this._cmKeysHandler.bind(this);this._headersChangedHandler=this._headersChangedHandler.bind(this);this._headerChangedHandler=this._headerChangedHandler.bind(this);this._contentTypeChangedHandler=this._contentTypeChangedHandler.bind(this);this._headerDeletedHandler=this._headerDeletedHandler.bind(this)}_attachListeners(node){node.addEventListener("request-headers-changed",this._headersChangedHandler);node.addEventListener("request-header-changed",this._headerChangedHandler);node.addEventListener("content-type-changed",this._contentTypeChangedHandler);node.addEventListener("request-header-deleted",this._headerDeletedHandler)}_detachListeners(node){node.removeEventListener("request-headers-changed",this._headersChangedHandler);node.removeEventListener("request-header-changed",this._headerChangedHandler);node.removeEventListener("content-type-changed",this._contentTypeChangedHandler);node.removeEventListener("request-header-deleted",this._headerDeletedHandler)}_sourceModeChanged(isSource){if(isSource){this._attachSourceEditor();setTimeout(()=>{const panel=this.currentPanel;panel.setOption("extraKeys",{"Ctrl-Space":this._cmKeysHandler});panel.value=this.modelToValue(this.viewModel)},50)}else{const panel=this.currentPanel;if(panel){panel.removeEventListener("value-changed",this._editorValueChanged);panel.parentNode.removeChild(panel)}this._modelFromValue()}const ev=new CustomEvent("send-analytics",{detail:{type:"event",category:"Usage",action:"Click",label:"Toggle source mode "+(isSource+"")},bubbles:!0,composed:!0});this.dispatchEvent(ev)}_attachSourceEditor(){const cm=document.createElement("code-mirror");cm.mode="http-headers";cm.setAttribute("data-headers-panel",!0);cm.addEventListener("value-changed",this._editorValueChanged);if(this.readonly){cm.readOnly=!0}this.$.editor.appendChild(cm)}_readonlyChanged(value){if(!this.sourceMode){return}const panel=this.currentPanel;if(!panel){return}panel.readOnly=value}_editorValueChanged(e){const value=e.detail.value;if(value!==this.value){this._innerEditorValueChanged=!0;this.set("value",value);this._innerEditorValueChanged=!1}}modelToValue(model){if(!model){model=this.viewModel}if(!model||!model.length){return""}const data=[],disbleAllowed=this.allowDisableParams;model.forEach(item=>{if(!item||disbleAllowed&&item.schema&&!1===item.schema.enabled){return}data.push({name:item.name,value:item.value})});return this.headersToString(data)}_cmKeysHandler(cm){CodeMirror.showHint(cm,CodeMirror.hint["http-headers"],{container:this.currentPanel})}_modelFromValue(value){value=value||this.value;if(value===void 0){if(!this.model){return}else{value=""}}let model=this.viewModel;if(!model){model=[]}const parsedValue=this.filterHeaders(this.headersToJSON(value+"")),tmp={},appendCustom=[],disbleAllowed=this.allowDisableParams;for(let i=0,len=parsedValue.length;i<len;i++){const item=parsedValue[i],index=this._findModelIndex(model,item.name);if(-1===index){appendCustom.push(this.createCustom(item))}else{tmp[item.name]=!0;if(model[index].value!==item.value){if(model[index].schema.isArray){this.set(["viewModel",index,"value"],item.value.split(","))}else{this.set(["viewModel",index,"value"],item.value)}}if(!model[index].schema.enabled){this.set(["viewModel",index,"schema","enabled"],!0)}}}for(let i=model.length-1;0<=i;i--){if(model[i].name in tmp){continue}if(model[i].schema.isCustom){this.splice("viewModel",i,1)}else if(disbleAllowed){this.set(["viewModel",i,"schema","enabled"],!1)}else{if(model[i].schema.isArray){this.set(["viewModel",i,"value"],[])}else{this.set(["viewModel",i,"value"],"")}}}if(!this.viewModel||!this.viewModel.length){this.viewModel=appendCustom}else{appendCustom.forEach(item=>this.push("viewModel",item))}}_findModelIndex(model,name){for(let i=0,len=model.length;i<len;i++){if(model[i].name===name){return i}}return-1}createCustom(defaults){const data=Object.assign({},defaults);if(!data.schema){data.schema={}}data.schema.isCustom=!0;if(!data.schema.type){data.schema.type="string"}if(!data.schema.enabled){data.schema.enabled=!0}if(!data.schema.inputLabel){data.schema.inputLabel="Header value"}this.$.transformer.buildProperty(data);return data}_headersChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const value=e.detail.value;this._setValues(value)}_headerChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}const name=e.detail.name;if(!name){console.warn("request-header-changed fired without the name.");return}const value=e.detail.value,arr=this.headersToJSON(this.value);let updated=!1;for(let i=0,len=arr.length;i<len;i++){if(arr[i].name.toLowerCase()===name.toLowerCase()){arr[i].value=value;updated=!0;break}}if(!updated){arr.push({name:name,value:value})}const headers=this.headersToString(arr);this._setValues(headers)}_contentTypeChangedHandler(e){if(e.composedPath()[0]===this||e.defaultPrevented){return}this.__cancelContentTypeNotification=!0;this.set("contentType",e.detail.value);this.__cancelContentTypeNotification=!1}_headerDeletedHandler(e){if(e.defaultPrevented){return}const name=e.detail.name;if(!name){console.warn("request-header-deleted fired without the name.");return}const arr=this.headersToJSON(this.value);let updated=!1;for(let i=arr.length-1;0<=i;i--){if(arr[i].name.toLowerCase()===name.toLowerCase()){arr.splice(i,1);updated=!0;break}}if(!updated){return}const headers=this.headersToString(arr);this._setValues(headers)}_detectContentType(value){if(!value){value=""}this._contentTypeRe.lastIndex=0;const matches=this._contentTypeRe.exec(value);let ctValue;if(!matches){ctValue=""}else{ctValue=matches[1]}if(!ctValue){if(this.contentType){this.set("contentType",void 0)}}else{ctValue=ctValue.trim();if(this.contentType!==ctValue){this.set("contentType",ctValue)}}}_valueChanged(value){if(this.autoValidate){this.validate()}this._detectContentType(value);if(this._cacncelChangeEvent){if(!this._innerEditorValueChanged){this._modelFromValue(value)}return}if(this._innerEditorValueChanged){if(this.readonly){return}this.dispatchEvent(new CustomEvent("request-headers-changed",{detail:{value:value},cancelable:!0,bubbles:!0,composed:!0}))}else{this._modelFromValue(value)}}_onContentTypeChanged(currentCt){if(this.readonly){return}if(!currentCt){this._notifyContentType("");return}const arr=this.headersToJSON(this.value);let updated=!1;for(let i=0,len=arr.length;i<len;i++){if("content-type"!==arr[i].name.toLowerCase()){continue}updated=!0;if(arr[i].value!==currentCt){arr[i].value=currentCt}break}if(!updated){arr.push({name:"Content-Type",value:currentCt})}const headers=this.headersToString(arr);if(!this._innerEditorValueChanged){this._setValues(headers);this._modelFromValue(headers)}this._notifyContentType(currentCt)}_notifyContentType(type){if(this.__cancelContentTypeNotification){return}const ev=new CustomEvent("content-type-changed",{detail:{value:type},cancelable:!1,bubbles:!0,composed:!0});this.dispatchEvent(ev)}_setValues(value){this._cacncelChangeEvent=!0;this.set("value",value);this._cacncelChangeEvent=!1;if(!this._innerEditorValueChanged&&this.sourceMode){const panel=this.currentPanel;if(panel){panel.value=value}}}_copyToClipboard(){const button=this.shadowRoot.querySelector(".copy-icon"),copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{this._resetCopyButtonState(button)},1e3);const ev=new CustomEvent("send-analytics",{detail:{type:"event",category:"Usage",action:"Click",label:"Headers editor clipboard copy"},bubbles:!0,composed:!0});this.dispatchEvent(ev)}_resetCopyButtonState(button){button.icon="arc:content-copy"}_getValidity(){if(this.sourceMode||!this.shadowRoot){return!0}const form=this.shadowRoot.querySelector("api-headers-form");return form?form.validate():!0}refresh(){if(!this.sourceMode){return}const panel=this.currentPanel;panel.editor.refresh()}}window.customElements.define(ApiHeadersEditor.is,ApiHeadersEditor);</script></dom-module><script>(function(global){"use strict";if(!global.ArcBehaviors){global.ArcBehaviors={}}ArcBehaviors.PayloadParserBehavior=Polymer.dedupingMixin(base=>{class PPBmixin extends base{static get properties(){return{AMP_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/&/g)}},GT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/>/g)}},LT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/</g)}},SQUOT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/'/g)}},QUOT_RE:{type:RegExp,readOnly:!0,value:function(){return new RegExp(/"/g)}}}}htmlEscape(html){if(-1!==html.indexOf("&")){html=html.replace(this.AMP_RE,"&amp;")}if(-1!==html.indexOf("<")){html=html.replace(this.LT_RE,"&lt;")}if(-1!==html.indexOf(">")){html=html.replace(this.GT_RE,"&gt;")}if(-1!==html.indexOf("\"")){html=html.replace(this.QUOT_RE,"&quot;")}if(-1!==html.indexOf("'")){html=html.replace(this.SQUOT_RE,"&apos;")}return html}formArrayToString(arr){if(!arr){return[]}const result=[];arr.forEach(item=>{const data=this._modelItemToFormDataString(item);if(data){result[result.length]=data}});return result.join("&")}_modelItemToFormDataString(model){if(model.schema&&!1===model.schema.enabled){return}const name=this._paramValue(model.name);let value=model.value;if(value&&value instanceof Array){return value.map(item=>name+"="+this._paramValue(item)).join("&")}value=this._paramValue(value);if(!name&&!value){return}if(!value&&!1===model.required){return}return name+"="+value}stringToArray(input){if("string"!==typeof input||!input.trim()){return[]}const htmlInputCheck=/^([^\\=]{1,})=(.*)$/m;if(!htmlInputCheck.test(input)){input=input.replace(/^([^\\:]{1,}):(.*)$/gm,"$1=$2&").replace(/\n/gm,"");input=input.substr(0,input.length-1)}return this._createParamsArray(input)}_createParamsArray(input){let result=[];if(!input){return result}let state=0,i=0,_tmpName="",_tmpValue="";while(!0){const ch=input[i++];if(ch===void 0){if(_tmpValue||_tmpName){result=this._appendArrayResult(result,_tmpName,_tmpValue)}break}if("="===ch){if(1!==state){state=1;continue}}if("&"===ch){state=0;result=this._appendArrayResult(result,_tmpName,_tmpValue);_tmpName="";_tmpValue="";continue}if(0===state){_tmpName+=ch}else if(1===state){_tmpValue+=ch}}return result}_appendArrayResult(array,name,value){for(let i=0,len=array.length;i<len;i++){if(array[i].name===name){if(array[i].value instanceof Array){array[i].value.push(value)}else{array[i].value=[array[i].value,value]}return array}}array.push({name:name,value:value});return array}encodeUrlEncoded(input){if(!input||!input.length){return input}const isArray=input instanceof Array;if(!isArray){input=this.stringToArray(input)}input.forEach(obj=>{obj.name=this.encodeQueryString(obj.name);obj.value=this._encodeValue(obj.value)});if(isArray){return input}return this.formArrayToString(input)}_encodeValue(value){if(value instanceof Array){for(let i=0,len=value.length;i<len;i++){value[i]=this.encodeQueryString(value[i])}return value}return this.encodeQueryString(value)}decodeUrlEncoded(input){if(!input||!input.length){return input}const isArray=input instanceof Array;if(!isArray){input=this.stringToArray(input)}input.forEach(obj=>{obj.name=this.decodeQueryString(obj.name);obj.value=this._decodeValue(obj.value)});if(isArray){return input}return this.formArrayToString(input)}_decodeValue(value){if(value instanceof Array){for(let i=0,len=value.length;i<len;i++){value[i]=this.decodeQueryString(value[i])}return value}return this.decodeQueryString(value)}_paramValue(input){if(!input){return String()}input=input+"";input=input.trim();return input}_paramLineToFormObject(input){if(!input){return}const _tmp=input.split("="),name=_tmp[0].trim();if(!name&&1===_tmp.length){return}let value;if(1===_tmp.length){value=""}else{value=_tmp[1].trim()}return{name:name,value:value}}encodeQueryString(str){if(!str){return str}const regexp=/%20/g;return encodeURIComponent(str).replace(regexp,"+")}decodeQueryString(str){if(!str){return str}const regexp=/\+/g;return decodeURIComponent(str.replace(regexp,"%20"))}}return PPBmixin})})(window);</script><dom-module id="form-data-editor-item" assetpath="bower_components/form-data-editor/"><template strip-whitespace=""><style include="api-form-styles"></style><style include="markdown-styles"></style><style>:host{display:block;@apply --form-data-editor-item;}.custom-inputs,
    .value-field{@apply --layout-horizontal;@apply --layout-start;}.narrow .custom-inputs{display:block;}.name-field,
    .value-field,
    .param-name,
    .custom-inputs,
    api-property-form-item{@apply --layout-flex;}api-property-form-item[is-array]{margin-top:8px;}.param-name{margin-right:12px;@apply --api-form-name-input;}.narrow .param-name{margin-right:0;@apply --api-form-name-input-narrow;}[hidden]{display:none !important;}.hint-icon{margin-top:16px;}.form-item.narrow{@apply --layout-horizontal;}.form-item.narrow .delete-icon{margin-top:16px;}</style><div class$="form-item [[_computeNarrowClass(narrow)]]"><template is="dom-if" if="[[!isCustom]]"><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="typed" required$="[[required]]"></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" title="Display documentation" icon="arc:help" on-tap="toggleDocumentation"></paper-icon-button></template></div></template><template is="dom-if" if="[[isCustom]]"><div class="custom-inputs"><div class="name-field"><paper-input value="{{name}}" label="Parameter name" class="param-name" no-label-float="[[noLabelFloat]]" required="" auto-validate=""></paper-input></div><div class="value-field"><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" data-type="custom" required$="[[required]]" no-label-float="[[noLabelFloat]]"></api-property-form-item></div></div><paper-icon-button title="Remove parameter" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_remove"></paper-icon-button></template></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></template><script>class FormDataEditorItem extends Polymer.Element{static get is(){return"form-data-editor-item"}static get properties(){return{name:{notify:!0,type:String},value:{notify:!0,type:String},model:Object,narrow:{type:Boolean,value:!1,reflectToAttribute:!0},docsOpened:Boolean,noLabelFloat:{type:Boolean,value:!0,computed:"_computeNoLabelFloat(narrow)"},isCustom:{type:Boolean,value:!1},isArray:{type:Boolean,reflectToAttribute:!0},required:Boolean}}_computeNarrowClass(narrow){return narrow?"narrow":void 0}_computeNoLabelFloat(narrow){return!narrow}toggleDocumentation(){this.docsOpened=!this.docsOpened}_remove(){this.dispatchEvent(new CustomEvent("remove",{bubbles:!1}))}}window.customElements.define(FormDataEditorItem.is,FormDataEditorItem);</script></dom-module><dom-module id="form-data-editor" assetpath="bower_components/form-data-editor/"><template><style include="api-form-styles">:host{display:block;@apply --form-data-editor;}.form-item-row{@apply --layout-horizontal;@apply --layout-start;}form-data-editor-item{@apply --layout-flex;}.option-pane{margin:8px 0;@apply --layout-horizontal;@apply --layout-center;@apply --form-data-editor-encode-buttons;}.option-pane paper-checkbox{margin-left:12px;}.enable-checkbox{margin-top:32px;margin-right:8px;}.form-item-row.is-custom .enable-checkbox{margin-top:16px;}.form-item-row.is-narrow.is-custom paper-icon-button{margin-top:16px;}.form-item-row.is-narrow.is-custom paper-checkbox{margin-top:32px;}</style><div class="option-pane"><paper-button title="Encodes payload to x-www-form-urlencoded data" on-tap="_encodePaylod">Encode payload</paper-button><paper-button title="Decodes payload to human readable form" on-tap="_decodePaylod">Decode payload</paper-button><template is="dom-if" if="[[renderOptionalCheckbox]]"><div class="optional-checkbox"><paper-checkbox class="toggle-checkbox" checked="{{optionalOpened}}" title="Shows or hides optional properties">Show optional properties</paper-checkbox></div></template></div><iron-form><form enctype="application/json"><template is="dom-repeat" items="{{model}}"><div class$="[[_computeItemClass(item, narrow, allowHideOptional, optionalOpened, allowDisableParams)]]" data-optional$="[[computeIsOptional(hasOptional, item)]]"><template is="dom-if" if="[[allowDisableParams]]"><paper-checkbox class="enable-checkbox" checked="{{item.schema.enabled}}" title="Enable/disable this header"></paper-checkbox></template><form-data-editor-item narrow="[[narrow]]" name="{{item.name}}" value="{{item.value}}" model="[[item]]" required$="[[item.required]]" is-custom="[[item.schema.isCustom]]" is-array="[[item.schema.isArray]]" no-label-float="" on-remove="_removeCustom"></form-data-editor-item></div></template></form></iron-form><template is="dom-if" if="[[allowCustom]]"><div class="add-action"><paper-button class="action-button" on-tap="add" title="Adds empty parameter to the form"><iron-icon class="action-icon" icon="arc:add-circle-outline" alt="Add parameter icon"></iron-icon>Add parameter</paper-button></div></template></template><script>class FormDataEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(ArcBehaviors.PayloadParserBehavior(Polymer.Element))){static get is(){return"form-data-editor"}static get properties(){return{value:{type:String,notify:!0,observer:"_valueChanged"}}}static get observers(){return["_modelChanged(model.*)"]}add(){if(!this.allowCustom){return}this.addCustom("query",{inputLabel:"Parameter value"})}_modelChanged(record){if(!record||!record.path){return}if("model.length"===record.path){return}this._updateValue(record.base)}_encodePaylod(){this.encodeUrlEncoded(this.model);this.__postEncodeDecode()}_decodePaylod(){this.decodeUrlEncoded(this.model);this.__postEncodeDecode()}__postEncodeDecode(){const model=this.model;if(!model){return}this.__internalChange=!0;for(let i=0,len=model.length;i<len;i++){this.notifyPath(["model",i,"name"]);this.notifyPath(["model",i,"value"])}this.__internalChange=!1}_computeItemClass(item,narrow,allowHideOptional,optionalOpened,allowDisableParams){let cls="form-item form-item-row ";cls+=this.computeFormRowClass(item,allowHideOptional,optionalOpened,allowDisableParams);if(item&&item.schema.isCustom){cls+=" is-custom"}if(narrow){cls+=" is-narrow"}return cls}_updateValue(model){const hasModel=!!(model&&model.length),value=hasModel?this.formArrayToString(model):"";this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}_valueChanged(value){if(this.__internalChange){return}this.model=void 0;const params=this.stringToArray(value);if(!params||!params.length){return}params.forEach(item=>this._paramToModel(item))}_paramToModel(param){const name=this.decodeQueryString(param.name),value=this.decodeQueryString(param.value);this.addCustom("query",{inputLabel:"Parameter value",name:name,value:value})}}window.customElements.define(FormDataEditor.is,FormDataEditor);</script></dom-module><custom-style><style is="custom-style">.CodeMirror-lint-markers{width:16px;}.CodeMirror-lint-tooltip{background-color:infobackground;border:1px solid black;border-radius:4px 4px 4px 4px;color:infotext;font-family:monospace;font-size:10pt;overflow:hidden;padding:2px 5px;position:fixed;white-space:pre;white-space:pre-wrap;z-index:100;max-width:600px;opacity:0;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s;}.CodeMirror-lint-mark-error,
  .CodeMirror-lint-mark-warning{background-position:left bottom;background-repeat:repeat-x;}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");}.CodeMirror-lint-marker-error,
  .CodeMirror-lint-marker-warning{background-position:center center;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;width:16px;vertical-align:middle;position:relative;}.CodeMirror-lint-message-error,
  .CodeMirror-lint-message-warning{padding-left:18px;background-position:top left;background-repeat:no-repeat;}.CodeMirror-lint-marker-error,
  .CodeMirror-lint-message-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");}.CodeMirror-lint-marker-warning,
  .CodeMirror-lint-message-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");}.CodeMirror-lint-marker-multiple{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:right bottom;width:100%;height:100%;}</style></custom-style><script>var jsonlint=function(){var parser={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\x0B").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=+yytext;break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(str){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token=self.lexer.lex()||1;if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null==symbol)symbol=lex();action=table[state]&&table[state][symbol]}_handle_error:if("undefined"===typeof action||!action.length||!action[0]){if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}var errStr="";if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(3==recovering){if(symbol==1){throw new Error(errStr||"Parsing halted.")}yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex()}while(1){if(TERROR.toString()in table[state]){break}if(0==state){throw new Error(errStr||"Parsing halted.")}popStack(1);state=stack[stack.length-1]}preErrorSymbol=symbol;symbol=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}if(action[0]instanceof Array&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0;}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch},unput:function(ch){this._input=ch+this._input;return this},more:function(){this._more=!0;return this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return"INVALID";break;}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return lexer}();parser.lexer=lexer;return parser}();if("undefined"!==typeof require&&"undefined"!==typeof exports){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments)};exports.main=function(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");if("undefined"!==typeof process){var source=require("fs").readFileSync(require("path").join(process.cwd(),args[1]),"utf8")}else{var cwd=require("file").path(require("file").cwd()),source=cwd.join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if("undefined"!==typeof module&&require.main===module){exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args)}}</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var GUTTER_ID="CodeMirror-lint-markers";function showTooltip(e,content){var tt=document.createElement("div");tt.className="CodeMirror-lint-tooltip";tt.appendChild(content.cloneNode(!0));document.body.appendChild(tt);function position(e){if(!tt.parentNode)return CodeMirror.off(document,"mousemove",position);tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px";tt.style.left=e.clientX+5+"px"}CodeMirror.on(document,"mousemove",position);position(e);if(null!=tt.style.opacity)tt.style.opacity=1;return tt}function rm(elt){if(elt.parentNode)elt.parentNode.removeChild(elt)}function hideTooltip(tt){if(!tt.parentNode)return;if(null==tt.style.opacity)rm(tt);tt.style.opacity=0;setTimeout(function(){rm(tt)},600)}function showTooltipFor(e,content,node){var tooltip=showTooltip(e,content);function hide(){CodeMirror.off(node,"mouseout",hide);if(tooltip){hideTooltip(tooltip);tooltip=null}}var poll=setInterval(function(){if(tooltip)for(var n=node;;n=n.parentNode){if(n&&11==n.nodeType)n=n.host;if(n==document.body)return;if(!n){hide();break}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,options,hasGutter){this.marked=[];this.options=options;this.timeout=null;this.hasGutter=hasGutter;this.onMouseOver=function(e){onMouseOver(cm,e)};this.waitingFor=0}function parseOptions(_cm,options){if(options instanceof Function)return{getAnnotations:options};if(!options||!0===options)options={};return options}function clearMarks(cm){var state=cm.state.lint;if(state.hasGutter)cm.clearGutter(GUTTER_ID);for(var i=0;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function makeMarker(labels,severity,multiple,tooltips){var marker=document.createElement("div"),inner=marker;marker.className="CodeMirror-lint-marker-"+severity;if(multiple){inner=marker.appendChild(document.createElement("div"));inner.className="CodeMirror-lint-marker-multiple"}if(!1!=tooltips)CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(e,labels,inner)});return marker}function getMaxSeverity(a,b){if("error"==a)return a;else return b}function groupByLine(annotations){for(var lines=[],i=0;i<annotations.length;++i){var ann=annotations[i],line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;if(!severity)severity="error";var tip=document.createElement("div");tip.className="CodeMirror-lint-message-"+severity;if("undefined"!=typeof ann.messageHTML){tip.innerHTML=ann.messageHTML}else{tip.appendChild(document.createTextNode(ann.message))}return tip}function lintAsync(cm,getAnnotations,passOptions){var state=cm.state.lint,id=++state.waitingFor;function abort(){id=-1;cm.off("change",abort)}cm.on("change",abort);getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);if(state.waitingFor!=id)return;if(arg2&&annotations instanceof CodeMirror)annotations=arg2;cm.operation(function(){updateLinting(cm,annotations)})},passOptions,cm)}function startLinting(cm){var state=cm.state.lint,options=state.options,passOptions=options.options||options,getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");if(!getAnnotations)return;if(options.async||getAnnotations.async){lintAsync(cm,getAnnotations,passOptions)}else{var annotations=getAnnotations(cm.getValue(),passOptions,cm);if(!annotations)return;if(annotations.then)annotations.then(function(issues){cm.operation(function(){updateLinting(cm,issues)})});else cm.operation(function(){updateLinting(cm,annotations)})}}function updateLinting(cm,annotationsNotSorted){clearMarks(cm);for(var state=cm.state.lint,options=state.options,annotations=groupByLine(annotationsNotSorted),line=0,anns;line<annotations.length;++line){anns=annotations[line];if(!anns)continue;for(var maxSeverity=null,tipLabel=state.hasGutter&&document.createDocumentFragment(),i=0;i<anns.length;++i){var ann=anns[i],severity=ann.severity;if(!severity)severity="error";maxSeverity=getMaxSeverity(maxSeverity,severity);if(options.formatAnnotation)ann=options.formatAnnotation(ann);if(state.hasGutter)tipLabel.appendChild(annotationTooltip(ann));if(ann.to)state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark-"+severity,__annotation:ann}))}if(state.hasGutter)cm.setGutterMarker(line,GUTTER_ID,makeMarker(tipLabel,maxSeverity,1<anns.length,state.options.tooltips))}if(options.onUpdateLinting)options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;if(!state)return;clearTimeout(state.timeout);state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay||500)}function popupTooltips(annotations,e){for(var target=e.target||e.srcElement,tooltip=document.createDocumentFragment(),i=0,ann;i<annotations.length;i++){ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(!/\bCodeMirror-lint-mark-/.test(target.className))return;for(var box=target.getBoundingClientRect(),x=(box.left+box.right)/2,y=(box.top+box.bottom)/2,spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client")),annotations=[],i=0,ann;i<spans.length;++i){ann=spans[i].__annotation;if(ann)annotations.push(ann)}if(annotations.length)popupTooltips(annotations,e)}CodeMirror.defineOption("lint",!1,function(cm,val,old){if(old&&old!=CodeMirror.Init){clearMarks(cm);if(!1!==cm.state.lint.options.lintOnChange)cm.off("change",onChange);CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver);clearTimeout(cm.state.lint.timeout);delete cm.state.lint}if(val){for(var gutters=cm.getOption("gutters"),hasLintGutter=!1,i=0;i<gutters.length;++i)if(gutters[i]==GUTTER_ID)hasLintGutter=!0;var state=cm.state.lint=new LintState(cm,parseOptions(cm,val),hasLintGutter);if(!1!==state.options.lintOnChange)cm.on("change",onChange);if(!1!=state.options.tooltips&&"gutter"!=state.options.tooltips)CodeMirror.on(cm.getWrapperElement(),"mouseover",state.onMouseOver);startLinting(cm)}});CodeMirror.defineExtension("performLint",function(){if(this.state.lint)startLinting(this)})});</script><script>(function(mod){if("object"==typeof exports&&"object"==typeof module)mod(require("../../lib/codemirror"));else if("function"==typeof define&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.registerHelper("lint","json",function(text){var found=[];if(!window.jsonlint){if(window.console){window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.")}return found}var jsonlint=window.jsonlint.parser||window.jsonlint;jsonlint.parseError=function(str,hash){var loc=hash.loc;found.push({from:CodeMirror.Pos(loc.first_line-1,loc.first_column),to:CodeMirror.Pos(loc.last_line-1,loc.last_column),message:str})};try{jsonlint.parse(text)}catch(e){}return found})});</script><dom-module id="raw-payload-editor" assetpath="bower_components/raw-payload-editor/"><template><style>:host{display:block;@apply --raw-payload-editor;}.action-buttons{margin:8px 0;@apply --raw-payload-editor-encode-buttons;@apply --raw-payload-editor-action-buttons;}*[hidden]{display:none !important;}</style><template is="dom-if" if="[[encodeEnabled]]"><div class="action-buttons" data-type="form"><paper-button on-tap="encodeValue" title="Encodes payload to x-www-form-urlencoded data">Encode payload</paper-button><paper-button on-tap="decodeValue" title="Decodes payload to human readable form">Decode payload</paper-button></div></template><template is="dom-if" if="[[isJson]]"><div class="action-buttons" data-type="json"><paper-button on-tap="formatValue" data-action="format-json" title="Formats JSON input.">Format JSON</paper-button><paper-button on-tap="minifyValue" data-action="minify-json" title="Removed whitespaces from the input">Minify JSON</paper-button></div></template><code-mirror mode="application/json" on-value-changed="_editorValueChanged" on-paste="_onPaste" lint="[[_lintObject]]" gutters="[[_cmGutters]]"></code-mirror><paper-toast id="invalidJsonToast">JSON value is invalid. Cannot parse value.</paper-toast></template><script>class RawPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronResizableBehavior],ArcBehaviors.PayloadParserBehavior(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"raw-payload-editor"}static get properties(){return{value:{type:String,notify:!0,observer:"_valueChanged"},contentType:{type:String,observer:"_onContentTypeChanged"},encodeEnabled:{type:Boolean,computed:"_computeEncodeEnabled(contentType)",value:!1},isJson:{type:Boolean,computed:"_computeIsJson(contentType)",value:!1},_cmGutters:{type:Array,value:["CodeMirror-lint-markers"]},_lintObject:{type:Object,value:function(){return!1}},_customStylesList:Array}}constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this);this._resizeHandler=this._resizeHandler.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler);this.addEventListener("iron-resize",this._resizeHandler)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler);this.removeEventListener("iron-resize",this._resizeHandler)}ready(){super.ready();this.refresh()}refresh(){var elm=this.shadowRoot.querySelector("code-mirror");if(!elm){return}elm.editor.refresh()}_onContentTypeChanged(ct){this._setupLinter(ct);if(!ct){return}if(ct.indexOf&&-1!==ct.indexOf(";")){ct=ct.substr(0,ct.indexOf(";"))}this.shadowRoot.querySelector("code-mirror").mode=ct}_computeEncodeEnabled(ct){return this.__computeIs(ct,"x-www-form-urlencoded")}_computeIsJson(ct){return this.__computeIs(ct,"/json")}__computeIs(ct,needle){if(!ct){return!1}if(ct.indexOf&&-1!==ct.indexOf(needle)){return!0}return!1}_contentTypeHandler(e){const ct=e.detail.value;this.set("contentType",ct)}_valueChanged(value){if(this.__editorValueChange||!this.shadowRoot){return}this.shadowRoot.querySelector("code-mirror").value=value}_editorValueChanged(e){e.stopPropagation();this.__editorValueChange=!0;this.set("value",e.detail.value);this.__editorValueChange=!1}_onPaste(e){if("application/json"!==this.contentType){return}let len;if(this.value){len=this.value.length}if(this._cancelPaste(len)){return}let data=e.clipboardData.getData("text");try{data=JSON.parse(data);data=JSON.stringify(data,null,2);e.preventDefault();this.set("value",data)}catch(e){}}_cancelPaste(inputSize){if(!inputSize){return!1}const el=document.activeElement;let start=0,end=0;if(el){if("number"===typeof el.selectionStart){start=el.selectionStart}if("number"===typeof el.selectionEnd){end=el.selectionEnd}}if(0===start&&0===end){const selection=window.getSelection();if(0===selection.rangeCount){return!1}const range=selection.getRangeAt(0);start=range.startOffset;end=range.endOffset}if(0===start&&end===inputSize){return!1}return!0}_setupLinter(ct){if(!ct||ct.indexOf&&-1===ct.indexOf("/json")){this.set("_lintObject",!1);this.set("_customStylesList",void 0)}else{this.set("_lintObject",CodeMirror.lint.json);this.set("_customStylesList",["code-mirror-lint"])}const editor=this.shadowRoot.querySelector("code-mirror").editor;if(editor){editor.refresh()}}formatValue(){try{let value=this.value;value=JSON.parse(value);value=JSON.stringify(value,null,2);this.set("value",value);this.refresh()}catch(e){this.$.invalidJsonToast.opened=!0;console.log(e)}}minifyValue(){try{let value=this.value;value=JSON.parse(value);value=JSON.stringify(value);this.set("value",value);this.refresh()}catch(e){this.$.invalidJsonToast.opened=!0;console.log(e)}}_resizeHandler(){this.refresh()}encodeValue(){const value=this.encodeUrlEncoded(this.value);this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}decodeValue(){const value=this.decodeUrlEncoded(this.value);this.__internalChange=!0;this.set("value",value);this.__internalChange=!1}}window.customElements.define(RawPayloadEditor.is,RawPayloadEditor);</script></dom-module><script>class MultipartPayloadTransformer extends Polymer.Element{static get is(){return"multipart-payload-transformer"}static get properties(){return{formData:Object,boundary:{type:String,notify:!0},contentType:{type:String,notify:!0}}}generateMessage(){const request=new Request("/",{method:"POST",body:this.formData}),ct=request.headers.get("content-type");this._processContentType(ct);if(!request.arrayBuffer){return Promise.reject(new Error("Your browser do not support this method."))}return request.arrayBuffer()}_processContentType(contentType){this.set("contentType",contentType);this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,detail:{value:contentType}}));const match=contentType.match(/boundary=(.*)/);if(!match){return}const boundary=match[1];this.set("boundary",boundary);this.dispatchEvent(new CustomEvent("multipart-boundary-changed",{bubbles:!0,composed:!0,detail:{value:boundary}}))}generatePreview(){if(!this.formData){return Promise.reject(new Error("The FormData property is not set."))}return this.generateMessage().then(ab=>this.arrayBufferToString(ab))}arrayBufferToString(buffer){if(!!buffer.buffer){const b=buffer.slice(0);buffer=b.buffer}if("TextDecoder"in window){const view=new DataView(buffer),decoder=new TextDecoder("utf-8");return decoder.decode(view)}const array=new Uint8Array(buffer);let str="";for(let i=0;i<array.length;++i){str+=String.fromCharCode(array[i])}return str}}window.customElements.define(MultipartPayloadTransformer.is,MultipartPayloadTransformer);</script><dom-module id="multipart-text-form-item" assetpath="bower_components/multipart-payload-editor/"><template><style include="markdown-styles"></style><style include="api-form-styles"></style><style>:host{display:block;@apply --layout-flex;}.multipart-item{@apply --layout-vertical;@apply --layout-flex;}.mime-selector{position:relative;}.value-selector{@apply --layout-horizontal;@apply --layout-center;}api-property-form-item{@apply --layout-flex;margin-left:12px;}.mime-selector paper-input{max-width:360px;}.name-field{max-width:360px;@apply --layout-flex;}paper-autocomplete{top:34px;}</style><div class="multipart-item"><template is="dom-if" if="[[hasFormData]]"><div class="mime-selector"><paper-input label="Content type (Optional)" value="{{type}}" no-label-float=""></paper-input><paper-autocomplete target="[[_mimeInput]]" source="[[suggestions]]" open-on-focus=""></paper-autocomplete></div></template><div class="value-selector"><paper-input class="name-field" label="Field name" error-message="The name is required" required="" auto-validate="" value="{{name}}" no-label-float=""></paper-input><api-property-form-item model="[[model]]" name="[[name]]" value="{{value}}" no-label-float=""></api-property-form-item><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleDocumentation" title="Display documentation"></paper-icon-button></template></div></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></template><script>class MultipartTextFormItem extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"multipart-text-form-item"}static get properties(){return{name:{type:String,notify:!0},value:{type:String,notify:!0},model:Object,docsOpened:Boolean,_mimeInput:{type:HTMLElement},type:{type:String,notify:!0},suggestions:{type:Array,value:function(){return["multipart-form-data","application/x-www-form-urlencoded","application/json","application/xml","application/base64","application/octet-stream","text/plain","text/css","text/html","application/javascript"]}},hasFormData:{type:Boolean,observer:"_hasFormDataChanged"}}}toggleDocumentation(){this.docsOpened=!this.docsOpened}ready(){super.ready();if(this.hasFormData){this._setAutocompleteTarget()}}_getValidity(){return!!(this.name&&this.value)}_hasFormDataChanged(hasFormData){if(hasFormData){this._setAutocompleteTarget()}else{this.set("_mimeInput",void 0)}}_setAutocompleteTarget(){Polymer.RenderStatus.afterNextRender(this,function(){this.set("_mimeInput",this.$$(".mime-selector paper-input"))})}}window.customElements.define(MultipartTextFormItem.is,MultipartTextFormItem);</script></dom-module><dom-module id="multipart-file-form-item" assetpath="bower_components/multipart-payload-editor/"><template><style include="markdown-styles"></style><style include="api-form-styles">:host{display:block;@apply --layout-flex;}*[hidden]{display:none !important;}.file-row{margin:8px 0;}.controls{@apply --layout-horizontal;@apply --layout-flex;@apply --layout-center;}.controls > *:not(:last-child){margin-right:12px;}.file-trigger,
    .param-name{margin-right:12px;}.file-trigger{color:var(--multipart-payload-editor-file-trigger-color, var(--accent-color, #FF5722));}.files-counter-message{color:rgba(0, 0, 0, 0.74);@apply --layout-flex;@apply --arc-font-body1;}.name-field{max-width:360px;@apply --layout-flex;}</style><div class="file-row"><div class="controls"><paper-input error-message="The name is required" label="Field name" required="" auto-validate="" value="{{name}}" class="name-field"></paper-input><paper-button raised="" on-tap="_selectFile" class="file-trigger">Choose file</paper-button><template is="dom-if" if="[[hasFile]]"><span class="files-counter-message" hidden$="[[!hasFile]]">[[value.name]] ([[value.size]] bytes)</span></template><template is="dom-if" if="[[model.hasDescription]]"><paper-icon-button class="hint-icon" icon="arc:help" on-tap="toggleDocumentation" title="Display documentation"></paper-icon-button></template></div><template is="dom-if" if="[[model.hasDescription]]" restamp=""><div class="docs"><iron-collapse opened="[[docsOpened]]"><marked-element markdown="[[model.description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></iron-collapse></div></template></div><input type="file" hidden="" on-change="_fileObjectChanged" accept$="[[_computeAccept(model)]]"></template><script>class MultipartFileFormItem extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"multipart-file-form-item"}static get properties(){return{hasFile:{type:Boolean,computed:"_computeHasFile(value)"},name:{type:String,notify:!0},value:{type:String,notify:!0},model:Object,docsOpened:Boolean}}toggleDocumentation(){this.docsOpened=!this.docsOpened}_getValidity(){return!!(this.name&&this.value instanceof Blob)}_computeHasFile(value){return!!(value&&value instanceof Blob)}_selectFile(){const file=this.shadowRoot.querySelector("input[type=\"file\"]");file.click()}_fileObjectChanged(e){this.set("value",e.target.files[0])}_computeAccept(model){if(!model){return}if(model.fileTypes&&model.fileTypes.length&&"string"===typeof model.fileTypes[0]){return model.fileTypes.join(",")}if(model.fixedFacets){if(model.fixedFacets.fileTypes&&model.fixedFacets.fileTypes.length){return model.fixedFacets.fileTypes.join(",")}}}}window.customElements.define(MultipartFileFormItem.is,MultipartFileFormItem);</script></dom-module><dom-module id="multipart-payload-editor" assetpath="bower_components/multipart-payload-editor/"><template strip-whitespace=""><style include="prism-theme-default"></style><style include="api-form-styles"></style><style>:host{display:block;@apply --multipart-payload-editor;}[hidden]{display:none !important;}.form-item{@apply --layout-horizontal;margin:8px 0;}.delete-action{display:block;margin-top:20px;}.form-item:not([data-file]) .delete-action{margin-top:42px;}multipart-text-form-item,
    multipart-file-form-item{margin-bottom:8px;}code{@apply --arc-font-code1;white-space:pre-line;word-break:break-all;overflow:auto;@apply --multipart-payload-editor-code-preview;}.editor-actions{@apply --layout-horizontal;@apply --layout-center;@apply --view-action-bar;@apply --multipart-payload-editor-action-bar;}paper-icon-button[active]{background-color:var(--body-editor-panel-button-active-background-color, #e0e0e0);border-radius:50%;@apply --body-editor-panel-button-active;}</style><template is="dom-if" if="[[hasFormDataSupport]]"><div class="editor-actions"><paper-icon-button id="previewIcon" icon="[[_computeToggleIcon(previewOpened)]]" class="action-icon" toggles="" active="{{previewOpened}}" disabled="[[generatingPreview]]" title="Toggles generated payload message preview"></paper-icon-button><paper-icon-button id="copyIcon" icon="arc:content-copy" class="action-icon" on-tap="_copyToClipboard" disabled="[[generatingPreview]]" hidden$="[[!previewOpened]]" title="Copy payload message"></paper-icon-button><paper-spinner alt="Loading preview" active="[[generatingPreview]]"></paper-spinner></div></template><section hidden$="[[previewOpened]]"><iron-form><form enctype="multipart/form-data" method="post"><template is="dom-repeat" id="list" items="{{model}}" observe="value"><div class="form-item" data-file$="[[item.schema.isFile]]"><template is="dom-if" if="[[item.schema.isFile]]"><multipart-file-form-item name="{{item.name}}" value="{{item.value}}" model="[[item]]" required="" auto-validate=""></multipart-file-form-item></template><template is="dom-if" if="[[!item.schema.isFile]]"><multipart-text-form-item has-form-data="[[hasFormDataSupport]]" name="{{item.name}}" value="{{item.value}}" type="{{item.contentType}}" model="[[item]]" required="" auto-validate=""></multipart-text-form-item></template><span class="delete-action"><paper-icon-button title="Remove parameter" class="action-icon delete-icon" icon="arc:remove-circle-outline" on-tap="_removeCustom"></paper-icon-button></span></div></template></form></iron-form><div class="add-actions"><paper-button on-tap="addFile" class="action-button">Add file part</paper-button><paper-button on-tap="addText" class="action-button">Add text part</paper-button></div></section><section hidden$="[[!previewOpened]]"><code></code></section><prism-highlighter></prism-highlighter><multipart-payload-transformer></multipart-payload-transformer><clipboard-copy content="[[messagePreview]]"></clipboard-copy><paper-toast horizontal-align="right"></paper-toast></template><script>class MultipartPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],ArcBehaviors.ApiFormMixin(Polymer.Element)){static get is(){return"multipart-payload-editor"}static get properties(){return{value:{type:Object,notify:!0,observer:"_valueChanged"},hasFormDataSupport:{type:Boolean,value:function(){try{const fd=new FormData;fd.append("test",new Blob(["."],{type:"image/jpg"}),"test.jpg");return"entries"in fd}catch(e){return!1}}},previewOpened:{type:Boolean,value:!1,observer:"_previewOpenedChanged"},generatingPreview:Boolean,messagePreview:String}}static get observers(){return["_modelChanged(model.*)"]}ready(){super.ready();if(!this.model){this.addFile()}}addFile(){this.addCustom("type",{inputLabel:"Property value"});const index=this.model.length-1;this.set(`model.${index}.schema.isFile`,!0);this.set(`model.${index}.schema.type`,"file")}addText(){this.addCustom("type",{inputLabel:"Property value"});const index=this.model.length-1;this.set(`model.${index}.schema.isFile`,!1);this.set(`model.${index}.schema.type`,"string");if(this.hasFormDataSupport){this.set(`model.${index}.contentType`,"")}}_valueChanged(value){if(!(value instanceof FormData)){return}const currentModel=this.model;if(currentModel){if(!this._modelAndValueMatch(currentModel,value)){this._restoreFormData(value)}}else if(value){this._restoreFormData(value)}}_restoreFormData(data){if(!this.hasFormDataSupport){return}let textParts;if(data._arcMeta&&data._arcMeta.textParts){textParts=data._arcMeta.textParts}const it=data.entries();return this._modelForParts(it,textParts).then(model=>{this._cancelModelChange=!0;this.set("model",model);this._cancelModelChange=!1})}_modelForParts(entries,textParts,result){result=result||[];const item=entries.next();if(item.done){return Promise.resolve(result)}const part=item.value;let modelItem={name:part[0]},restoreBlobValue=!1;if("string"===typeof part[1]){modelItem.type="text"}else{if(textParts&&-1!==textParts.indexOf(modelItem.name)){modelItem.type="text";restoreBlobValue=!0}else{modelItem.type="file"}}let promise;if(restoreBlobValue){promise=this._blobToString(part[1])}else{promise=Promise.resolve({result:part[1]})}return promise.then(value=>{modelItem.value=value.result;modelItem=this._createModelObject(modelItem,{});if(!modelItem.schema){modelItem.schema={}}modelItem.schema.isFile="file"===modelItem.type?!0:!1;if(modelItem.schema.isFile){modelItem.value=part[1]}if(restoreBlobValue){modelItem.contentType=value.type}result.push(modelItem);return this._modelForParts(entries,textParts,result)})}_createModelObject(defs){const e=new CustomEvent("api-property-model-build",{bubbles:!0,composed:!0,cancelable:!0,detail:defs});this.dispatchEvent(e);return e.detail}_blobToString(blob){return new Promise(function(resolve){const reader=new FileReader;reader.addEventListener("loadend",function(e){resolve({result:e.target.result,type:blob.type})});reader.addEventListener("error",function(){resolve({result:"Unable to restore part value",type:""})});reader.readAsText(blob)})}_modelAndValueMatch(model,value){if(!this.hasFormDataSupport){return!0}if((!model||!model.length)&&value){return!1}if(!value){return!0}const it=value.keys(),modelSize=model.length;while(!0){const item=it.next();if(item.done){return!0}let fasItem=!1;for(let i=0;i<modelSize;i++){if(model[i].name===item.value){fasItem=!0;break}}if(!fasItem){return!1}}}_previewOpenedChanged(opened){if(!opened){return}if(!this.value){const toast=this.shadowRoot.querySelector("paper-toast");toast.text="Add a valid form items first";toast.opened=!0;this.previewOpened=!1;return}this._generatePreview().then(preview=>{if(!preview){this.previewOpened=!1;return}const e=new CustomEvent("syntax-highlight",{bubbles:!0,composed:!0,detail:{code:preview,lang:"http"}});this.dispatchEvent(e);this.shadowRoot.querySelector("code").innerHTML=e.detail.code||preview})}_computeToggleIcon(previewOpened){return previewOpened?"arc:visibility-off":"arc:visibility"}_modelChanged(record){if(this._cancelModelChange){return}if(!record||!record.path){return}if("model.splices"===record.path){return}const formData=this.createFormData(record.base);this.set("value",formData)}createFormData(model){if(this.hasFormDataSupport){return this._getFormData(model)}else{return this._getLegacyFormData(model)}}_getFormData(model){if(!model||!model.length){return}const fd=new FormData;let hasValue=!1;model.forEach(item=>{if(!item.name){return}if(item.schema.isFile){if(!item.value){return}fd.append(item.name,item.value);hasValue=!0}else{if(item.contentType){var blob=new Blob([item.value],{type:item.contentType});fd.append(item.name,blob);if(!fd._arcMeta){fd._arcMeta={}}if(!fd._arcMeta.textParts){fd._arcMeta.textParts=[]}fd._arcMeta.textParts.push(item.name)}else{fd.append(item.name,item.value)}hasValue=!0}});return hasValue?fd:void 0}_getLegacyFormData(model){if(!model||!model.length){return}let hasValue=!1;for(var i=0,len=model.length;i<len;i++){if(model[i].value){hasValue=!0}}return hasValue?new FormData(this._getForm()):void 0}_generatePreview(){this.set("messagePreview",void 0);this.set("generatingPreview",!0);const transformer=this.shadowRoot.querySelector("multipart-payload-transformer");transformer.formData=this.value;return transformer.generatePreview().then(preview=>{this.set("generatingPreview",!1);this.set("messagePreview",preview);return preview}).catch(cause=>{this.set("generatingPreview",!1);const toast=this.shadowRoot.querySelector("paper-toast");toast.text=cause.message;toast.opened=!0})}_copyToClipboard(){const elm=this.shadowRoot.querySelector("clipboard-copy");if(elm.copy()){this.shadowRoot.querySelector("#copyIcon").icon="arc:done"}else{this.shadowRoot.querySelector("#copyIcon").icon="arc:error";const toast=this.shadowRoot.querySelector("paper-toast");toast.text="Copy command is disabled in your browser.";toast.opened=!0}if(this.__copyButtonAsync){clearTimeout(this.__copyButtonAsync)}this.__copyButtonAsync=setTimeout(()=>{this.shadowRoot.querySelector("#copyIcon").icon="arc:content-copy";this.__copyButtonAsync=void 0},1e3)}}window.customElements.define(MultipartPayloadEditor.is,MultipartPayloadEditor);</script></dom-module><dom-module id="files-payload-editor" assetpath="bower_components/files-payload-editor/"><template><style>:host{display:block;padding:12px 0;@apply --files-payload-editor;}.selector{@apply --layout-horizontal;@apply --layout-center;}.list{margin:0 0.29em;display:inline-block;margin-top:12px;}paper-material{padding:0.4em 0.57em;@apply --layout-horizontal;@apply --layout-center;@apply --files-payload-editor-file-item;}.file-trigger{margin-right:12px;color:var(--files-payload-editor-file-trigger-color, var(--accent-color, #FF5722));}.files-counter-message{@apply --layout-flex;@apply --arc-font-body1;color:var(--files-payload-editor-file-summary-color, rgba(0,0,0,0.74));}.file-icon{color:var(--files-payload-editor-selected-file-icon-color, var(--accent-color, #2196F3));}.delete-icon{color:var(--inline-fom-action-icon-color, rgba(0, 0, 0, 0.74));transition:color 0.2s linear;}.delete-icon:hover{color:var(--inline-fom-action-icon-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}.file-name{@apply --arc-font-body1;margin-left:8px;color:var(--files-payload-editor-selected-file-name-color, rgba(0,0,0,0.74));}.card{@apply --shadow-elevation-2dp;}</style><div class="selector"><paper-button raised="" on-tap="_selectFile" class="file-trigger">Choose a file</paper-button><template is="dom-if" if="[[hasFile]]"><span class="files-counter-message" hidden$="[[!hasFile]]">1 file selected, [[fileSize]] bytes</span></template></div><template is="dom-if" if="[[hasFile]]"><div class="list"><div class="card"><iron-icon class="file-icon" icon="arc:insert-drive-file"></iron-icon><span class="file-name">[[fileName]]</span><paper-icon-button class="action-icon delete-icon" icon="arc:remove-circle-outline" hidden$="[[!hasFile]]" title="Clear file" on-tap="removeFile"></paper-icon-button></div></div></template><input type="file" hidden="" on-change="_fileObjectChanged"></template><script>let latestFile;class FilesPayloadEditor extends Polymer.mixinBehaviors([Polymer.IronValidatableBehavior],Polymer.Element){static get is(){return"files-payload-editor"}static get properties(){return{hasFile:{type:Boolean,readOnly:!0},base64Encode:Boolean,fileName:String,fileSize:Number,value:{type:Object,notify:!0,observer:"_valueChnaged"}}}_getInput(){return this.shadowRoot.querySelector("input[type=\"file\"]")}_valueChnaged(value){if(!value){return}if(value instanceof Blob){this.set("fileName",value.name||"blob");this.set("fileSize",value.size);this._setHasFile(!0);latestFile=value}else{this._setHasFile(!1)}if(!this.fileName||!this.fileSize&&0!==this.fileSize){this._updateFileMeta(value);return}let type;if(value.type){type=value.type}else{type="application/octet-stream"}setTimeout(()=>{this._informContentType(type)})}_updateFileMeta(value){if(!value||"string"!==typeof value){if(latestFile){this.value=latestFile;return}this._setHasFile(!1);return}let type;if(0===value.indexOf("data:")){value=value.substr(5);const comaIndex=value.indexOf(",");type=value.substr(0,value.indexOf(";"));value=value.substr(comaIndex+1)}let byteChars;try{byteChars=atob(value);this._setHasFile(!0)}catch(e){if(latestFile){this.value=latestFile;return}this._setHasFile(!1)}type=type||"application/octet-stream";this._informContentType(type);this.set("fileName","blob");this.set("fileSize",byteChars?byteChars.length:-1)}_informContentType(ct){const e=new CustomEvent("content-type-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{value:ct}});this.dispatchEvent(e)}_selectFile(){const file=this._getInput();file.click()}_fileObjectChanged(e){this._setFileValue(e.target.files[0]);this._getInput().blur()}_setFileValue(file){if(!file){this.set("value",void 0);return}if(!this.base64Encode){this.set("value",file);return}const reader=new FileReader,context=this;reader.addEventListener("load",function(){const typed=new Uint8Array(reader.result),result=btoa(String.fromCharCode.apply(null,typed));context.set("value",result);context.__informBase64Conversion()});reader.addEventListener("error",function(){console.warn("File value processing error");context.set("value","Invalid file");context.__informBase64Conversion()});reader.readAsArrayBuffer(file)}__informBase64Conversion(){const e=new CustomEvent("base64-value-set",{bubbles:!1,cancelable:!0});this.dispatchEvent(e)}_getValidity(){return this._computeHasFile(this.value)}_computeHasFile(file){if(!file){return!1}const enc=this.base64Encode;if(enc){return!!file}return file instanceof Blob}removeFile(){this.value=void 0;this.fileName=void 0;this.fileSize=void 0;this._setHasFile(!1);const file=this._getInput();file.value=""}clearCache(){latestFile=void 0}}window.customElements.define(FilesPayloadEditor.is,FilesPayloadEditor);</script></dom-module><dom-module id="content-type-selector" assetpath="bower_components/content-type-selector/"><template><style>:host{display:block;@apply --content-type-selector;}paper-item{@apply --content-type-selector-item;}paper-item:hover{@apply --paper-item-hover;@apply --content-type-selector-item-hover;}</style><paper-dropdown-menu label="Body content type"><paper-listbox slot="dropdown-content" on-iron-select="_contentTypeSelected" selected="[[selected]]" selectable="[data-type]"><paper-item data-type="application/json">application/json</paper-item><paper-item data-type="application/xml">application/xml</paper-item><paper-item data-type="application/atom+xml">application/atom+xml</paper-item><paper-item data-type="multipart/form-data">multipart/form-data</paper-item><paper-item data-type="multipart/alternative">multipart/alternative</paper-item><paper-item data-type="multipart/mixed">multipart/mixed</paper-item><paper-item data-type="application/x-www-form-urlencoded">application/x-www-form-urlencoded</paper-item><paper-item data-type="application/base64">application/base64</paper-item><paper-item data-type="application/octet-stream">application/octet-stream</paper-item><paper-item data-type="text/plain">text/plain</paper-item><paper-item data-type="text/css">text/css</paper-item><paper-item data-type="text/html">text/html</paper-item><paper-item data-type="application/javascript">application/javascript</paper-item><slot name="item"></slot></paper-listbox></paper-dropdown-menu></template><script>class ContentTypeSelector extends ArcBehaviors.EventsTargetBehavior(Polymer.Element){static get is(){return"content-type-selector"}static get properties(){return{contentType:{type:String,notify:!0,observer:"_contentTypeChanged"},selected:Number}}constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler)}_contentTypeChanged(contentType){this.__cancelSelectedEvents=!0;if(!contentType){this.set("selected",void 0);this.__cancelSelectedEvents=!1;return}const index=contentType.indexOf(";");if(0<index){contentType=contentType.substr(0,index)}contentType=contentType.toLowerCase();const supported=this.__getDropdownChildrenTypes(),selected=supported.findIndex(item=>item.toLowerCase()===contentType);if(-1!==selected){this.set("selected",selected)}else{this.set("selected",void 0)}this.__cancelSelectedEvents=!1}_contentTypeHandler(e){if(e.defaultPrevented||e.composedPath()[0]===this){return}const ct=e.detail.value;if(ct!==this.contentType){this.set("contentType",ct)}}_contentTypeSelected(e){if(this.__cancelSelectedEvents){return}const selected=e.target.selected;if(this.selected!==selected){this.set("selected",selected)}const ct=e.detail.item.dataset.type;if(this.contentType!==ct){this.__cancelSelectedEvents=!0;this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,cancelable:!1,detail:{value:ct}}));this.set("contentType",ct);this.__cancelSelectedEvents=!1}}__getDropdownChildrenTypes(){let children=Array.from(this.shadowRoot.querySelectorAll("paper-listbox paper-item"));const slot=this.shadowRoot.querySelector("slot[name=\"item\"]"),lightChildren=slot.assignedNodes();children=children.concat(lightChildren);const result=[];children.forEach(item=>{if(!item.dataset||!item.dataset.type){return}result[result.length]=item.dataset.type});return result}}window.customElements.define(ContentTypeSelector.is,ContentTypeSelector);</script></dom-module><script>(function(global){"use strict";if(!global.ApiElements){global.ApiElements={}}ApiElements.ApiBodyEditorAmfOverlay=Polymer.dedupingMixin(base=>{class ABEAOmixin extends base{static get properties(){return{aware:String,amfBody:{type:Object},_effectiveModel:Object,hasAmfBody:{type:Boolean,value:!1,computed:"_computeHasAmf(_effectiveModel)"},mimeTypes:{type:Array,readOnly:!0},singleMimeType:{type:Object,readOnly:!0}}}static get observers(){return["_updatePanelAmf(hasAmfBody, contentType)","_amfChanged(amfBody, amfModel)"]}_computeHasAmf(amf){return!!amf}_clearAmfSettings(){this._effectiveModel=void 0}_amfChanged(){if(this.__bodyChangeDebouncer){return}this.__bodyChangeDebouncer=!0;Polymer.RenderStatus.afterNextRender(this,()=>{this.__bodyChangeDebouncer=!1;this.__amfChanged(this.amfBody)})}__amfChanged(bodyShape){this._clearAmfSettings();if(!bodyShape||bodyShape instanceof Array&&!bodyShape.length){const panel=this.currentPanel;if(panel){panel.model=void 0;panel.value=""}return}bodyShape=this._ensurePayloadModel(bodyShape);if(!bodyShape){return}this._updateAmfMediaTypes(bodyShape);this._selectDefaultMediaType(bodyShape);this._effectiveModel=bodyShape}_ensurePayloadModel(model){if(model instanceof Array){if(this._hasType(model[0],this.ns.raml.vocabularies.http+"Payload")){return model}model=model[0]}if(!this._hasType(model,this.ns.w3.hydra.core+"Operation")){return}const opKey=this._getAmfKey(this.ns.w3.hydra.core+"expects");model=model[opKey];if(model instanceof Array){model=model[0]}if(!this._hasType(model,this.ns.raml.vocabularies.http+"Request")){return}const pKey=this._getAmfKey(this.ns.raml.vocabularies.http+"payload");return this._ensureArray(model[pKey])}_updateAmfMediaTypes(model){this._setMimeTypes(void 0);const ns=this.ns.raml.vocabularies,key=ns.http+"mediaType",mediaTypes=model.map(item=>this._getValue(item,key));this._setMimeTypes(mediaTypes);this._setSingleMimeType(mediaTypes&&1===mediaTypes.length)}_selectDefaultMediaType(model){const types=this.mimeTypes;if(!types||!types[0]){return}const ns=this.ns.raml.vocabularies,schemaKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let shape=model[0][schemaKey];if(shape instanceof Array){shape=shape[0]}this.set("contentType",void 0);let ct;if(this._hasType(shape,ns.shapes+"FileShape")){this.set("fileAccept",types);ct="application/octet-stream"}else{if(this.fileAccept){this.set("fileAccept",void 0)}const index=types.indexOf(this.contentType);ct=-1===index?types[0]:types[index]}this.set("contentType",ct);this._notifyContentTypeChange(ct)}_updatePanelAmf(hasAmfBody,contentType){if(!hasAmfBody||!contentType){return}const panel=this.currentPanel;if(!panel){return}const schema=this._schemaForMedia(contentType);if(!schema){return}this._updatePanelModel(panel,contentType,schema);this._updatePanelValue(panel,contentType,schema)}_schemaForMedia(mediaType){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"mediaType");for(let i=0,len=this._effectiveModel.length;i<len;i++){const payload=this._effectiveModel[i];let itemMedia=payload[key];if(!itemMedia){continue}if(itemMedia instanceof Array){itemMedia=itemMedia[0]}if("string"!==typeof itemMedia){itemMedia=itemMedia["@value"]}if(itemMedia===mediaType){const sKey=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=payload[sKey];if(schema instanceof Array){schema=schema[0]}this._resolve(schema);return schema}}}_typeHasModel(contentType){return-1!==["application/x-www-form-urlencoded","multipart/form-data"].indexOf(contentType)}_updatePanelModel(panel,contentType,schema){if(!this._typeHasModel(contentType)){return}let data;if(this._hasType(schema,this.ns.raml.vocabularies.shapes+"UnionShape")){data=this._getUnionObjectProperties(schema)}else if(this._hasType(schema,this.ns.w3.shacl.name+"NodeShape")){const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");data=this._ensureArray(schema[pKey])}if(!data){return}const model=this.$.transformer.computeViewModel(data);panel.model=model}_getUnionObjectProperties(schema){const key=this._getAmfKey(this.ns.raml.vocabularies.shapes+"anyOf"),list=this._ensureArray(schema[key]);if(!list){return}const pKey=this._getAmfKey(this.ns.w3.shacl.name+"property");for(let i=0,len=list.length,item;i<len;i++){item=list[i];if(item instanceof Array){item=item[0]}if(this._hasType(item,this.ns.w3.shacl.name+"NodeShape")){item=this._resolve(item);const data=this._ensureArray(item[pKey]);if(data){return data}}}}_updatePanelValue(panel,type,schema){const examples=this.$.exampleGenerator.computeExamples(schema,type);if(!examples){return}for(let i=0,len=examples.length;i<len;i++){const item=examples[i];if("undefined"!==typeof item.value){panel.value=item.value;return}if(item.values){panel.value=item.values[0].value}}}}return ABEAOmixin})})(window);</script><dom-module id="api-body-editor" assetpath="bower_components/api-body-editor/"><template><style include="api-form-styles">:host{display:block;@apply --api-body-editor;}[hidden]{display:none !important;}.content-actions{@apply --layout-horizontal;@apply --layout-center;@apply --api-body-editor-content-actions;}paper-dropdown-menu{margin-right:12px;@apply --payload-editor-dropdown;}paper-dropdown-menu.type{margin:0 12px;min-width:280px;@apply --payload-editor-dropdown-type;}.single-ct-label{@apply --arc-font-body1;margin:0;color:var(--api-body-editor-single-media-type-label);}paper-item:hover{@apply --paper-item-hover;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div class="content-actions"><paper-icon-button icon="arc:content-copy" class="action-icon copy-action" on-click="_copyToClipboard" title="Copy current editor value to clipboard"></paper-icon-button><template is="dom-if" if="[[hasAmfBody]]"><template is="dom-if" if="[[!singleMimeType]]"><paper-dropdown-menu class="amf-types" label="Select content type" no-label-float=""><paper-listbox slot="dropdown-content" attr-for-selected="data-mime" selected="{{contentType}}" on-selected-changed="_typeSelectedChanged"><template is="dom-repeat" items="[[mimeTypes]]"><paper-item data-mime$="[[item]]">[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><template is="dom-if" if="[[singleMimeType]]"><p class="single-ct-label">Media type: [[contentType]]</p></template></template><template is="dom-if" if="[[!hasAmfBody]]"><content-type-selector content-type="{{contentType}}" events-target="[[eventsTarget]]"><paper-item data-type="application/octet-stream">Any file data</paper-item></content-type-selector><paper-dropdown-menu class="type" label="Editor view" hidden$="[[editorSelectorHidden]]"><paper-listbox slot="dropdown-content" selected="{{selected}}"><paper-item data-source="raw" hidden$="[[noTextInput]]">Raw input</paper-item><paper-item data-source="urlencode" hidden$="[[noFormData]]">Form data (www-url-form-encoded)</paper-item><paper-item data-source="multipart" hidden$="[[noMultipart]]">Multipart form data (multipart/form-data)</paper-item><paper-item data-source="file" hidden$="[[noFile]]">Single file</paper-item></paper-listbox></paper-dropdown-menu></template></div><section class="body-panel"></section><clipboard-copy></clipboard-copy><api-view-model-transformer amf-model="[[amfModel]]" id="transformer"></api-view-model-transformer><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>class ApiBodyEditor extends ApiElements.ApiBodyEditorAmfOverlay(ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element))){static get is(){return"api-body-editor"}static get properties(){return{selected:{type:Number,value:0,observer:"_selectedChanged"},value:{type:String,value:"",notify:!0,observer:"_valueChanged"},contentType:{type:String,observer:"_contentTypeChanged"},noTextInput:Boolean,noFormData:Boolean,noMultipart:Boolean,noFile:Boolean,editorSelectorHidden:{type:Boolean,readOnly:!0,value:!0},allowHideOptional:{type:Boolean,observer:"_allowHideOptionalChanged"},allowDisableParams:{type:Boolean,observer:"_allowDisableParamsChanged"},allowCustom:{type:Boolean,observer:"_allowCustomChanged"},narrow:{type:Boolean,observer:"_narrowChanged"},readonly:{type:Boolean,observer:"_readonlyChanged"}}}get currentPanel(){if(!this.shadowRoot){return}return this.shadowRoot.querySelector("[data-body-panel]")}constructor(){super();this._contentTypeHandler=this._contentTypeHandler.bind(this);this._payloadKeyDown=this._payloadKeyDown.bind(this);this._panelValueChanged=this._panelValueChanged.bind(this)}_attachListeners(node){node.addEventListener("content-type-changed",this._contentTypeHandler);this.addEventListener("keydown",this._payloadKeyDown)}_detachListeners(node){node.removeEventListener("content-type-changed",this._contentTypeHandler);this.removeEventListener("keydown",this._payloadKeyDown)}_contentTypeHandler(e){if(this.readonly){return}this.set("contentType",e.detail.value)}_contentTypeChanged(contentType,oldValue){this._updateEditorsState(contentType,oldValue);this._updateEditorSelectorHidden(contentType);this._propertyChangeHandler("contentType",contentType)}_hideAllEditors(){this.noTextInput=!0;this.noFormData=!0;this.noMultipart=!0;this.noFile=!0}_renderAllEditors(){this.noTextInput=!1;this.noFormData=!1;this.noMultipart=!1;this.noFile=!1}_updateEditorsState(contentType,oldValue){if(!contentType){this._renderAllEditors();return}const value=this.value;this._hideAllEditors();if(0===contentType.indexOf("multipart/form-data")){this.noTextInput=!1;this.noMultipart=!1;this.selected=2;return}if(oldValue&&0===oldValue.indexOf("multipart/form-data")){this.value=""}if("application/octet-stream"===contentType||value instanceof Blob&&oldValue!==void 0){this.noFile=!1;this.selected=3;return}if(-1!==contentType.indexOf("json")){this.noTextInput=!1;this.selected=0;return}if("application/x-www-form-urlencoded"===contentType){this.noTextInput=!1;this.noFormData=!1;this.selected=1;return}this.noTextInput=!1;this.selected=0}_selectedChanged(selected,oldValue){this.__removeExistingPanel();if(-1===selected||selected===void 0||null===selected){this._notifyBodyChanged();return}if(oldValue!==void 0){this._analyticsEvent("api-body-editor","usage-selection",selected)}this.__createBodyPanel(selected)}_notifyBodyChanged(value){if(this.readonly){return}const e=new CustomEvent("body-value-changed",{detail:{value:value},bubbles:!0,composed:!0});this.dispatchEvent(e)}__removeExistingPanel(){const panel=this.currentPanel;if(!panel){return}const events=this.__currentListeners;if(events&&events.size){for(let[type,fn]of events.entries()){panel.removeEventListener(type,fn);events.delete(type)}this.__currentListeners=void 0}panel.parentNode.removeChild(panel)}__createBodyPanel(selected){switch(selected){case 0:this._createRawPanel();break;case 1:this._createFormDataPanel();break;case 2:this._createMultipartPanel();break;case 3:this._createFilePanel();break;}this._attachValues()}__addCommonProperties(panel,type){panel.eventsTarget=this.eventsTarget;panel.dataset.type=type;panel.dataset.bodyPanel=!0;panel.allowDisableParams=this.allowDisableParams;panel.allowCustom=this.allowCustom;panel.narrow=this.narrow;panel.contentType=this.contentType;panel.allowHideOptional=this.allowHideOptional}_createRawPanel(){const panel=document.createElement("raw-payload-editor");this.__addCommonProperties(panel,"raw");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}_createFormDataPanel(){const panel=document.createElement("form-data-editor");this.__addCommonProperties(panel,"urlencode");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}_createFilePanel(){const panel=document.createElement("files-payload-editor");this.__addCommonProperties(panel,"file");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}_createMultipartPanel(){const panel=document.createElement("multipart-payload-editor");this.__addCommonProperties(panel,"formdata");this.shadowRoot.querySelector(".body-panel").appendChild(panel)}_panelValueChanged(e){if(this.readonly){return}this._cancelValueSetOnPanel=!0;this.value=e.detail.value;this._cancelValueSetOnPanel=!1;this._notifyBodyChanged(e.detail.value)}_attachValues(){const panel=this.currentPanel;this.__currentListeners=new Map;this.__currentListeners.set("value-changed",this._panelValueChanged);panel.addEventListener("value-changed",this._panelValueChanged);if(!this.hasAmfBody){panel.value=this.value}}_analyticsEvent(category,action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:category,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}_payloadKeyDown(e){if("Enter"!==e.key){return}const actionKey="MacIntel"===navigator.platform?"metaKey":"ctrlKey";if(!e[actionKey]){return}this.dispatchEvent(new CustomEvent("send-request",{cancelable:!0,bubbles:!0,composed:!0}))}_updateEditorSelectorHidden(contentType){let result;const value=this.value;if(!contentType){result=!1}else if(value instanceof Blob){result=!0}else if(-1!==contentType.indexOf("json")){result=!0}else if(-1!==contentType.indexOf("x-www-form-urlencoded")){result=!1}else if(-1!==contentType.indexOf("multipart/")){result=!1}else{result=!0}this._setEditorSelectorHidden(result)}_propertyChangeHandler(prop,value){const panel=this.currentPanel;if(!panel){return}panel[prop]=value}_valueChanged(value){if(this._cancelValueSetOnPanel){return}this._propertyChangeHandler("value",value)}_allowHideOptionalChanged(value){this._propertyChangeHandler("allowHideOptional",value)}_allowDisableParamsChanged(value){this._propertyChangeHandler("allowDisableParams",value)}_allowCustomChanged(value){this._propertyChangeHandler("allowCustom",value)}_narrowChanged(value){this._propertyChangeHandler("narrow",value)}_readonlyChanged(value){this._propertyChangeHandler("readonly",value)}_copyToClipboard(e){const button=e.target,copy=this.shadowRoot.querySelector("clipboard-copy");copy.content=this.value;if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error";this.dispatchEvent(new CustomEvent("send-analytics",{cancelable:!0,bubbles:!0,composed:!0,detail:{type:"exception",description:"Copy to clipboard error - raml-body-editor",fatal:!1}}))}setTimeout(()=>this._resetCopyButtonState(button),1e3);this._analyticsEvent("api-body-editor","Copy to clipboard")}_resetCopyButtonState(button){button.icon="arc:content-copy"}_notifyContentTypeChange(type){if(this.readonly){return}this.dispatchEvent(new CustomEvent("content-type-changed",{bubbles:!0,composed:!0,detail:{value:type}}))}_typeSelectedChanged(e){if(!e.detail.value){return}this._notifyContentTypeChange(e.detail.value)}refreshPanel(){switch(this.selected){case 0:const panel=this.currentPanel;if(panel){panel.refresh()}break;}}}window.customElements.define(ApiBodyEditor.is,ApiBodyEditor);</script></dom-module><script>class UuidGenerator extends Polymer.Element{static get is(){return"uuid-generator"}static get properties(){return{lastUuid:{type:String,notify:!0},auto:{type:Boolean,observer:"_autoChanged"},_lut:{type:Array,readOnly:!0,value:function(){const result=[];for(let i=0;256>i;i++){result[i]=(16>i?"0":"")+i.toString(16)}return result}}}}_autoChanged(state){if(!state){return}this.generate()}_hash(){var d0=0|4294967295*Math.random(),d1=0|4294967295*Math.random(),d2=0|4294967295*Math.random(),d3=0|4294967295*Math.random(),lut=this._lut;return lut[255&d0]+lut[255&d0>>8]+lut[255&d0>>16]+lut[255&d0>>24]+"-"+lut[255&d1]+lut[255&d1>>8]+"-"+lut[64|15&d1>>16]+lut[255&d1>>24]+"-"+lut[128|63&d2]+lut[255&d2>>8]+"-"+lut[255&d2>>16]+lut[255&d2>>24]+lut[255&d3]+lut[255&d3>>8]+lut[255&d3>>16]+lut[255&d3>>24]}generate(){this.lastUuid=this._hash();return this.lastUuid}}window.customElements.define(UuidGenerator.is,UuidGenerator);</script><dom-module id="api-request-editor" assetpath="bower_components/api-request-editor/"><template><style include="api-form-styles">:host{display:block;@apply --arc-font-body1;@apply --api-request-editor;}.content{height:100%;@apply --layout-vertical;@apply --api-request-editor-container;}[hidden]{display:none !important;}.panel-warning{width:16px;height:16px;margin-left:4px;color:var(--error-color, #FF7043);}.invalid-info{@apply --arc-font-body2;color:var(--error-color);margin-left:12px;}paper-spinner{margin-right:8px;}iron-pages>*{border:1px var(--api-request-editor-editors-border-color, transparent) solid;min-height:120px;}.action-bar{@apply --layout-horizontal;@apply --layout-center;margin-top:8px;}.send-button{background-color:var(--primary-button-background-color, var(--primary-color));color:var(--primary-button-color, #fff);@apply --action-button;}.send-button:not([disabled]):hover{background-color:var(--primary-button-hover-background-color, var(--primary-color));color:var(--primary-button-hover-color, #fff);@apply --action-button-hover;}.send-button[disabled]{background-color:var(--primary-button-disabled-background-color, rgb(234, 234, 234));color:var(--primary-button-disabled-color, #a8a8a8);@apply --action-button-disabled;}.send-button:not([disabled]):hover{@apply --api-request-editor-send-button-hover;}.send-button.abort{@apply --api-request-editor-abort-button;}.send-button.abort:hover{@apply --api-request-editor-abort-button-hover;}.url-editor{@apply --layout-horizontal;@apply --layout-center;}api-url-editor{@apply --layout-flex;}:host([narrow]) .content{@apply --layout-vertical;@apply --api-request-editor-container-narrow;}:host([narrow]) api-url-editor{width:auto;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><api-url-data-model amf-model="[[amfModel]]" base-uri="[[baseUri]]" endpoint-path="{{endpointPath}}" api-base-uri="{{apiBaseUri}}" selected="[[selected]]" path-model="{{pathModel}}" query-model="{{queryModel}}"></api-url-data-model><div class="content"><div class="url-editor" hidden$="[[noUrlEditor]]"><api-url-editor required="" auto-validate="" invalid="{{urlInvalid}}" base-uri="[[apiBaseUri]]" endpoint-path="[[endpointPath]]" query-model="{{queryModel}}" path-model="{{pathModel}}" events-target="[[eventsTarget]]" value="{{url}}"></api-url-editor></div><paper-tabs selected="{{selectedTab}}"><paper-tab hidden$="[[authNotRequired]]">Authorization<iron-icon icon="arc:warning" class="panel-warning" hidden$="[[authValid]]" title="Fill up missing authorization data"></iron-icon></paper-tab><paper-tab>Parameters<template is="dom-if" if="[[paramsInvalid]]"><iron-icon icon="arc:warning" class="panel-warning" title="Fill up missing parameter"></iron-icon></template></paper-tab><paper-tab>Headers<template is="dom-if" if="[[headersInvalid]]"><iron-icon icon="arc:warning" class="panel-warning" title="Fill up missing headers"></iron-icon></template></paper-tab><paper-tab hidden$="[[!isPayloadRequest]]">Body</paper-tab></paper-tabs><iron-pages selected="{{selectedTab}}"><authorization-panel amf-model="[[amfModel]]" events-target="[[eventsTarget]]" hidden$="[[authNotRequired]]" secured-by="[[securedBy]]" redirect-uri="[[redirectUri]]" auth-required="{{authRequired}}" auth-valid="{{authValid}}" no-docs="[[noDocs]]"></authorization-panel><api-url-params-editor uri-model="{{pathModel}}" query-model="{{queryModel}}" narrow="[[narrow]]" allow-custom="[[allowCustom]]" invalid="{{paramsInvalid}}" no-docs="[[noDocs]]"></api-url-params-editor><api-headers-editor events-target="[[eventsTarget]]" amf-model="[[amfModel]]" amf-headers="[[apiHeaders]]" narrow="[[narrow]]" content-type="{{contentType}}" is-payload="[[isPayloadRequest]]" value="{{headers}}" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" auto-validate="" invalid="{{headersInvalid}}" no-docs="[[noDocs]]"></api-headers-editor><api-body-editor events-target="[[eventsTarget]]" amf-model="[[amfModel]]" amf-body="[[apiPayload]]" narrow="[[narrow]]" hidden$="[[!isPayloadRequest]]" content-type="{{contentType}}" value="{{payload}}" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]"></api-body-editor></iron-pages><div class="action-bar"><template is="dom-if" if="[[!loadingRequest]]"><paper-button class="send-button" on-click="_sendHandler" disabled="[[_computeSendDisabled(urlInvalid, paramsInvalid, headersInvalid)]]">[[_computeSendLabel(authValid)]]</paper-button></template><template is="dom-if" if="[[loadingRequest]]"><paper-button class="send-button abort" on-click="_abortRequest">Abort</paper-button></template><template is="dom-if" if="[[invalid]]"><span class="invalid-info">Fill in required parameters</span></template><paper-spinner alt="Loading request" active="[[loadingRequest]]"></paper-spinner></div></div><paper-toast text="Authorization for this endpoint is required" id="authFormError" horizontal-align="right" horizontal-offset="12"></paper-toast><uuid-generator id="uuid"></uuid-generator></template><script>(function(){class ApiRequestEditor extends ApiElements.AmfHelperMixin(ArcBehaviors.EventsTargetBehavior(Polymer.Element)){static get is(){return"api-request-editor"}static get properties(){return{aware:String,selected:String,amfModel:Object,_webApi:{type:Object,computed:"_computeWebApi(amfModel)"},_methodModel:{type:Object,computed:"_computeMethodModel(_webApi, selected)"},noUrlEditor:Boolean,baseUri:String,httpMethod:{type:Boolean,value:!1,computed:"_computeHttpMethod(_methodModel)",notify:!0},headers:{type:String,notify:!0},payload:{type:String,notify:!0},url:{type:String,notify:!0,observer:"_urlChanged"},selectedTab:{type:Number,value:0,notify:!0,observer:"_selectedTabChanged"},contentType:{type:String,notify:!0},securedBy:{type:Array,computed:"_computeSecuredBy(_methodModel)"},apiHeaders:{type:Array,computed:"_computeHeaders(_methodModel)"},apiPayload:{type:Array,computed:"_computeApiPayload(_methodModel)"},isPayloadRequest:{type:Boolean,value:!1,notify:!0,computed:"_computeIsPayloadRequest(httpMethod)",observer:"_isPayloadChanged"},redirectUri:String,authRequired:{type:Boolean,notify:!0},authValid:{type:Boolean,notify:!0},narrow:{type:Boolean,reflectToAttribute:!0},authNotRequired:{type:Boolean,value:!0,notify:!0,computed:"_computeNoAuth(securedBy)",observer:"_noAuthChanged"},loadingRequest:{type:Boolean,notify:!0,value:!1},allowHideOptional:Boolean,allowDisableParams:Boolean,allowCustom:Boolean,authMethod:String,authSettings:Object,requestId:String,queryModel:{type:Array,notify:!0},pathModel:{type:Array,notify:!0},paramsInvalid:{type:Boolean,notify:!0},headersInvalid:{type:Boolean,notify:!0},noDocs:Boolean,invalid:{type:Boolean,notify:!0,observer:"_invalidChnaged",computed:"_computeInvalid(urlInvalid, paramsInvalid, headersInvalid, authValid, authNotRequired)"},urlInvalid:{type:Boolean,notify:!0}}}static get observers(){return["_pathModelChanged(pathModel.*)","_queryModelChanged(queryModel.*)"]}constructor(){super();this._authSettingsChanged=this._authSettingsChanged.bind(this);this._responseHandler=this._responseHandler.bind(this);this._authRedirectChangedHandler=this._authRedirectChangedHandler.bind(this)}_attachListeners(node){this.addEventListener("authorization-settings-changed",this._authSettingsChanged);window.addEventListener("api-response",this._responseHandler);node.addEventListener("oauth2-redirect-uri-changed",this._authRedirectChangedHandler)}_detachListeners(node){this.removeEventListener("authorization-settings-changed",this._authSettingsChanged);window.removeEventListener("api-response",this._responseHandler);node.removeEventListener("oauth2-redirect-uri-changed",this._authRedirectChangedHandler)}_dispatch(type,detail,cancelable){if("boolean"!==typeof cancelable){cancelable=!0}const e=new CustomEvent(type,{bubbles:!0,composed:!0,cancelable,detail});this.dispatchEvent(e);return e}_sendGaEvent(action,label){return this._dispatch("send-analytics",{type:"event",category:"Request editor",action,label},!1)}clearRequest(){this.set("url","");this.set("headers","");this.set("payload","");this.shadowRoot.querySelector("authorization-panel").clear();this.selectedTab=0;this._dispatch("request-clear-state");this._sendGaEvent("Clear request")}_computeSecuredBy(model){if(!model){return}const key=this._getAmfKey(this.ns.raml.vocabularies.security+"security");let data=model[key];if(data&&!(data instanceof Array)){data=[data]}return data}_computeHeaders(model){if(!model){return}const expects=this._computeExpects(model);if(!expects){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"header");let headers=expects[key];if(headers&&!(headers instanceof Array)){headers=[headers]}return headers}_computeNoAuth(model){return!(model&&model[0])}_computeHttpMethod(model){return this._getValue(model,this.ns.w3.hydra.core+"method")}_computeApiPayload(model){if(!model){return}const expects=this._computeExpects(model);if(!expects){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"payload");let payload=expects[key];if(payload&&!(payload instanceof Array)){payload=[payload]}return payload}_computeIsPayloadRequest(method){return-1===["get","head"].indexOf(method)}_noAuthChanged(value){if(!value&&2===this.selectedTab){this.selectedTab=0}else if(value&&0===this.selectedTab){this.selectedTab=1}this._refreshTabs();this._sendGaEvent("no-auth-changed",value+"")}_selectedTabChanged(selected){if(3===selected){Polymer.RenderStatus.afterNextRender(this,()=>{this.shadowRoot.querySelector("api-body-editor").refreshPanel()})}this._sendGaEvent("tab-changed",selected)}_isPayloadChanged(state){if(!state){this.payload=void 0}if(!state&&3===this.selectedTab){this.selectedTab=1}this._refreshTabs()}_refreshTabs(){const tabs=this.shadowRoot&&this.shadowRoot.querySelector("paper-tabs");if(!tabs){return}tabs.notifyResize()}_sendHandler(){if(this.authValid){this.execute()}else{this.authAndExecute()}}authAndExecute(){this.__requestAuthAwaiting=!0;const panel=this.shadowRoot.querySelector("authorization-panel");let result;if(panel){result=panel.forceTokenAuthorization()}if(!result){if(0!==this.selectedTab){this.selectedTab=0}this.$.authFormError.opened=!0}}execute(){this.loadingRequest=!0;const request=this.serializeRequest();this.requestId=this.$.uuid.generate();request.id=this.requestId;this._dispatch("api-request",request);this._sendGaEvent("request-execute","true")}abort(){this._dispatch("abort-api-request",{url:this.url,id:this.requestId});this._sendGaEvent("request-abort","true");this.loadingRequest=!1;this.requestId=void 0}_abortRequest(){this.abort()}serializeRequest(){const result={method:(this.httpMethod||"get").toUpperCase(),url:this.url,headers:this.headers||"",payload:this.payload,queryModel:this.queryModel,pathModel:this.pathModel,headersModel:this.shadowRoot.querySelector("api-headers-editor").viewModel};if(this.authMethod&&this.authSettings){result.auth=this.authSettings;result.authType=this.authMethod}return result}_authSettingsChanged(e){this.authMethod=e.detail.type;this.authSettings=e.detail.settings;if(e.detail.valid&&this.__requestAuthAwaiting){this.__requestAuthAwaiting=!1;this.execute()}}_responseHandler(e){if(!e.detail||e.detail.id!==this.requestId){return}this.loadingRequest=!1}_authRedirectChangedHandler(e){this.redirectUri=e.detail.value}_pathModelChanged(record){const model=record.base,path=record.path;if(!model||!path){return}if("pathModel"===path||/^pathModel\.\d+\.(name|value|schema\.enabled)$/.test(path)){this._notifyModelChanged("path",model)}}_queryModelChanged(record){const model=record.base,path=record.path;if(!model||!path){return}if("queryModel"===path||"queryModel.length"===path||/^queryModel\.\d+\.(name|value|schema\.enabled)$/.test(path)){this._notifyModelChanged("query",model)}}_notifyModelChanged(type,model){const result=[];if(model){model.forEach(item=>{if(!item.name){return}result.push({name:item.name,value:item.value,enabled:item.schema.enabled})})}this._dispatch("request-"+type+"-model-changed",{value:result})}_urlChanged(value){this._dispatch("url-value-changed",{value})}_computeInvalid(urlInvalid,paramsInvalid,headersInvalid,authValid,authNotRequired){if(urlInvalid||paramsInvalid||headersInvalid){return!0}return!1===authNotRequired&&!1===authValid}_invalidChnaged(invalid){if(invalid){this.setAttribute("invalid",!0);this.setAttribute("aria-invalid",!0)}else{this.removeAttribute("invalid");this.removeAttribute("aria-invalid")}}_computeSendLabel(authValid){return authValid?"Send":"Authorize and send"}_computeSendDisabled(urlInvalid,paramsInvalid,headersInvalid){if(urlInvalid||paramsInvalid||headersInvalid){return!0}return!1}}window.customElements.define(ApiRequestEditor.is,ApiRequestEditor)})();</script></dom-module><dom-module id="date-time" assetpath="bower_components/date-time/"><template><style>:host{display:inline;@apply --date-time;}</style><time datetime$="[[iso]]">[[display]]</time></template><script>class DateTime extends Polymer.Element{static get is(){return"date-time"}static get properties(){return{locales:{type:String,observer:"_update"},date:{type:Date,observer:"_update"},display:String,year:{type:String,observer:"_update"},month:{type:String,observer:"_update"},day:{type:String,observer:"_update"},hour:{type:String,observer:"_update"},minute:{type:String,observer:"_update"},second:{type:String,observer:"_update"},weekday:{type:String,observer:"_update"},timeZoneName:{type:String,observer:"_update"},era:{type:String,observer:"_update"},timeZone:{type:String,observer:"_update"},hour12:{type:Boolean,observer:"_update"},iso:{type:String,readOnly:!0},isReady:Boolean}}ready(){super.ready();this.isReady=!0;this._update()}_update(){if(!this.isReady){return}let date=this.date;if(!date){date=new Date}else if("string"===typeof date){try{date=new Date(date);let _test=date.getDate();if(_test!==_test){date=new Date}}catch(e){date=new Date}}else if(!isNaN(date)){date=new Date(date)}else if(!(date instanceof Date)){date=new Date}if("undefined"===typeof Intl){this.set("display",date.toString());this._setIso(date.toISOString());return}const options={};if(this.year){options.year=this.year}if(this.month){options.month=this.month}if(this.day){options.day=this.day}if(this.hour){options.hour=this.hour}if(this.minute){options.minute=this.minute}if(this.second){options.second=this.second}if(this.weekday){options.weekday=this.weekday}if(this.era){options.era=this.era}if(this.timeZoneName){options.timeZoneName=this.timeZoneName}if(this.timeZone){options.timeZone=this.timeZone}if(this.hour12!==void 0){options.hour12=this.hour12}let locales;if(this.locales){locales=this.locales}const value=new Intl.DateTimeFormat(locales,options).format(date);this.set("display",value);this._setIso(date.toISOString())}}window.customElements.define(DateTime.is,DateTime);</script></dom-module><dom-module id="request-timings" assetpath="bower_components/request-timings/"><template strip-whitespace=""><style>:host{display:block;--paper-progress-height:var(--request-timings-progress-height, 12px);--paper-progress-container-color:var(--request-timings-progress-background, #F5F5F5);--paper-progress-active-color:var(--request-timings-progress-background, #F5F5F5);--paper-progress-secondary-color:var(--request-timings-progress-color, #4a4);@apply --request-timings;}.row{@apply --layout-horizontal;@apply --layout-center;}.flex,
    paper-progress{@apply --layout-flex;}.label,
    .date-value{@apply --select-text;@apply --form-label;}.timing-label{width:var(--request-timings-label-width, 160px);@apply --form-label;}.timing-value{width:var(--request-timings-value-width, 120px);text-align:right;@apply --select-text;}.total{margin-top:12px;padding-top:12px;font-weight:500;border-top:2px var(--paper-grey-200, rgba(255, 0, 0, 0.74)) solid;}.row.is-total{@apply --layout-end-justified;}</style><dom-if if="[[_hasStartTime]]"><template><div class="row" data-type="start-time"><span class="label">Start date</span>:<date-time year="numeric" month="numeric" day="numeric" hour="numeric" minute="numeric" second="numeric" class="date-value" date="[[startTime]]"></date-time></div></template></dom-if><dom-if if="[[_hasBlockedTime]]"><template><div class="row" data-type="block-time"><div class="timing-label label">Queueing:</div><paper-progress aria-label="Queueing time" value="0" secondary-progress="[[blocked]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundBlocked]] ms</span></div></template></dom-if><dom-if if="[[_hasDnsTime]]"><template><div class="row" data-type="dns-time"><div class="timing-label label">DNS Lookup:</div><paper-progress aria-label="DNS lookup time" value="[[_blockedProgressValue]]" secondary-progress="[[_ttcProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundDns]] ms</span></div></template></dom-if><dom-if if="[[_hasConnectTime]]"><template><div class="row" data-type="ttc-time"><div class="timing-label label">Time to connect:</div><paper-progress aria-label="Time to connect" value="[[_ttcProgressValue]]" secondary-progress="[[_sslProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundConnect]] ms</span></div></template></dom-if><dom-if if="[[_hasSslTime]]"><template><div class="row" data-type="ssl-time"><div class="timing-label label">SSL negotiation:</div><paper-progress aria-label="SSL negotiation time" value="[[_sslProgressValue]]" secondary-progress="[[_sendProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundSsl]] ms</span></div></template></dom-if><dom-if if="[[_hasSendTime]]"><template><div class="row" data-type="send-time"><div class="timing-label label">Send time:</div><paper-progress aria-label="Send time" value="[[_sendProgressValue]]" secondary-progress="[[_ttfbProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundSend]] ms</span></div></template></dom-if><dom-if if="[[_hasWaitTime]]"><template><div class="row" data-type="ttfb-time"><div class="timing-label label">Wait time (TTFB):</div><paper-progress aria-label="Time to first byte" value="[[_ttfbProgressValue]]" secondary-progress="[[_receiveProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundWait]] ms</span></div></template></dom-if><dom-if if="[[_hasReceiveTime]]"><template><div class="row" data-type="receive-time"><div class="timing-label label">Content download:</div><paper-progress aria-label="Receiving time" value="[[_receiveProgressValue]]" secondary-progress="[[_receive2ProgressValue]]" max="[[fullTime]]" step="0.0001"></paper-progress><span class="timing-value">[[roundReceive]] ms</span></div></template></dom-if><div class="row is-total"><span class="timing-value total">[[roundFullTime]] ms</span></div></template><script>class RequestTimings extends Polymer.Element{static get is(){return"request-timings"}static get properties(){return{timings:{type:Object,observer:"_update"},startTime:String,fullTime:{type:Number,readOnly:!0},roundFullTime:{type:Number,computed:"_round(fullTime)"},connect:{type:Number,readOnly:!0},roundConnect:{type:Number,computed:"_round(connect)"},receive:{type:Number,readOnly:!0},roundReceive:{type:Number,computed:"_round(receive)"},send:{type:Number,readOnly:!0},roundSend:{type:Number,computed:"_round(send)"},wait:{type:Number,readOnly:!0},roundWait:{type:Number,computed:"_round(wait)"},blocked:{type:Number,readOnly:!0},roundBlocked:{type:Number,computed:"_round(blocked)"},dns:{type:Number,readOnly:!0},roundDns:{type:Number,computed:"_round(dns)"},ssl:{type:Number,readOnly:!0},roundSsl:{type:Number,computed:"_round(ssl)"},_hasStartTime:{type:Boolean,computed:"_hasValue(startTime)"},_hasBlockedTime:{type:Boolean,computed:"_hasValue(blocked)"},_hasDnsTime:{type:Boolean,computed:"_hasValue(dns)"},_hasConnectTime:{type:Boolean,computed:"_hasValue(connect)"},_hasSslTime:{type:Boolean,computed:"_hasValue(ssl)"},_hasSendTime:{type:Boolean,computed:"_hasValue(send)"},_hasWaitTime:{type:Boolean,computed:"_hasValue(wait)"},_hasReceiveTime:{type:Boolean,computed:"_hasValue(receive)"},_blockedProgressValue:{type:Number,computed:"_computeSum(blocked)"},_ttcProgressValue:{type:Number,computed:"_computeSum(blocked, dns)"},_sslProgressValue:{type:Number,computed:"_computeSum(_ttcProgressValue, connect)"},_sendProgressValue:{type:Number,computed:"_computeSum(_sslProgressValue, ssl)"},_ttfbProgressValue:{type:Number,computed:"_computeSum(_sendProgressValue, send)"},_receiveProgressValue:{type:Number,computed:"_computeSum(_ttfbProgressValue, wait)"},_receive2ProgressValue:{type:Number,computed:"_computeSum(_receiveProgressValue, receive)"}}}_update(){const timings=this.timings||{};let fullTime=0,connect=+timings.connect,receive=+timings.receive,send=+timings.send,wait=+timings.wait,blocked=+timings.blocked,dns=+timings.dns,ssl=+timings.ssl;if(connect!==connect||0>connect){connect=0}if(receive!==receive||0>receive){receive=0}if(send!==send||0>send){send=0}if(wait!==wait||0>wait){wait=0}if(dns!==dns||0>dns){dns=-1}if(blocked!==blocked||0>blocked){blocked=-1}if(ssl!==ssl||0>ssl){ssl=-1}fullTime+=connect+receive+send+wait;if(0<dns){fullTime+=dns}if(0<blocked){fullTime+=blocked}if(0<ssl){fullTime+=ssl}this._setFullTime(fullTime);this._setConnect(connect);this._setReceive(receive);this._setSend(send);this._setWait(wait);this._setDns(dns);this._setBlocked(blocked);this._setSsl(ssl);if(timings.startTime){this.set("startTime",timings.startTime)}else{this.set("startTime",this.startTime||-1)}}_round(value){value=+value;if(value!==value){return"unknown"}let factor=10000;return Math.round(value*factor)/factor}_computeSum(a,b){if(a===void 0){a=0}else{a=+a;if(0>a){a=0}}if(b===void 0){b=0}else{b=+b;if(0>b){b=0}}return a+b}_hasValue(num){if(num===void 0){return!1}if("string"===typeof num){return!!num}return 0<num}}window.customElements.define(RequestTimings.is,RequestTimings);</script></dom-module><dom-module id="request-timings-panel" assetpath="bower_components/request-timings/"><template><style>:host{display:block;@apply --request-timings-panel;}.status-row,
    .timings-row{@apply --layout-horizontal;@apply --layout-center;min-height:56px;}.status-row{@apply --layout-horizontal;@apply --layout-end-justified;}.sub-title{@apply --arc-font-subhead;}.status-label{width:60px;font-size:var(--request-timings-panel-timing-total-size, 16px);font-weight:var(--request-timings-panel-timing-total-weigth, 400);@apply --arc-font-subhead;}.text{-webkit-user-select:text;cursor:text;}.redirect-value{margin-top:12px;@apply --layout-flex;}</style><template is="dom-if" if="[[hasRedirects]]"><section class="redirects"><h3 class="sub-title">Redirects</h3><template is="dom-repeat" items="[[redirectTimings]]"><div class="timings-row"><div class="status-label text">#<span>{{_computeIndexName(index)}}</span></div><div class="redirect-value"><request-timings timings="[[item]]"></request-timings></div></div></template><h3 class="sub-title">Final request</h3><div class="timings-row"><div class="redirect-value"><request-timings timings="[[timings]]"></request-timings></div></div><div class="status-row"><div class="flex"></div><span class="timing-value total text">[[requestTotalTime]] ms</span></div></section></template><template is="dom-if" if="[[!hasRedirects]]"><request-timings timings="[[timings]]"></request-timings></template></template><script>class RequestTimingsPanel extends Polymer.Element{static get is(){return"request-timings-panel"}static get properties(){return{hasRedirects:{type:Boolean,value:!1,readOnly:!0,computed:"_computeHasRedirects(redirectTimings.*)"},redirectTimings:Array,timings:Object,requestTotalTime:{type:Number,value:0,computed:"_computeRequestTime(redirectTimings.*, timings.*)"}}}_computeHasRedirects(record){return!!(record&&record.base&&record.base.length)}_computeRequestTime(redirectsRecord,timingsRecord){const redirects=redirectsRecord.base,timings=timingsRecord.base;let time=0;if(redirects&&redirects.length){redirects.forEach(timing=>time+=this._computeHarTime(timing))}let add=this._computeHarTime(timings);if(add){time+=add}time=Math.round(1e4*time)/1e4;return time}_computeIndexName(index){return index+1}_computeHarTime(har){let fullTime=0;if(!har){return fullTime}let connect=+har.connect,receive=+har.receive,send=+har.send,wait=+har.wait,blocked=+har.blocked,dns=+har.dns,ssl=+har.ssl;if(connect!==connect||0>connect){connect=0}if(receive!==receive||0>receive){receive=0}if(send!==send||0>send){send=0}if(wait!==wait||0>wait){wait=0}if(dns!==dns||0>dns){dns=-1}if(blocked!==blocked||0>blocked){blocked=-1}if(ssl!==ssl||0>ssl){ssl=-1}fullTime+=connect+receive+send+wait;if(0<dns){fullTime+=dns}if(0<blocked){fullTime+=blocked}if(0<ssl){fullTime+=ssl}return fullTime}}window.customElements.define(RequestTimingsPanel.is,RequestTimingsPanel);</script></dom-module><script>(function(){"use strict";Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0},_modalChanged:function(modal,readied){if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},_onDialogClick:function(event){for(var path=Polymer.dom(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute("dialog-dismiss")||target.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(target.hasAttribute("dialog-confirm"));this.close();event.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><dom-module id="paper-dialog-shared-styles" assetpath="bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host > ::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host > ::slotted(.paper-dialog-buttons),
      :host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}});</script><dom-module id="paper-dialog-scrollable" assetpath="bower_components/paper-dialog-scrollable/"><template><style>:host{display:block;@apply --layout-relative;}:host(.is-scrolled:not(:first-child))::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--divider-color);}:host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--divider-color);}.scrollable{padding:0 24px;@apply --layout-scroll;@apply --paper-dialog-scrollable;}.fit{@apply --layout-fit;}</style><div id="scrollable" class="scrollable" on-scroll="updateScrollState"><slot></slot></div></template></dom-module><script>Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){this.dialogElement=this.dialogElement||this.parentElement;if(this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)){this.dialogElement.sizingTarget=this.scrollTarget;this.scrollTarget.classList.remove("fit")}else if(this.dialogElement){this.scrollTarget.classList.add("fit")}}});</script><dom-module id="headers-list-view" assetpath="bower_components/headers-list-view/"><template><style>:host{display:block;@apply --headers-list-view;}.dialog-header-example{@apply --arc-font-body1;margin-top:16px;}.dialog-header-desc{@apply --arc-font-body2;}.list-item{min-height:var(--headers-list-item-min-height, 20px);-webkit-user-select:text;word-break:break-all;@apply --arc-font-code1;}.list-item > span{display:inline-block;}.header-name{margin-right:8px;}.auto-link{@apply --arc-link;}</style><div class="container" on-dblclick="_displayHeaderInfo"></div><paper-dialog id="headerInfo"><h2>[[_hdTitle]]</h2><paper-dialog-scrollable><section class="dialog-header-desc">[[_hdBody]]</section><section class="dialog-header-example"><span>Example:</span> <span>[[_hdExample]]</span></section></paper-dialog-scrollable><div class="buttons"><paper-button dialog-confirm="" autofocus="">Close</paper-button></div></paper-dialog></template><script>class HeadersListView extends ArcBehaviors.HeadersParserBehavior(Polymer.Element){static get is(){return"headers-list-view"}static get properties(){return{headers:{type:String,observer:"_headersChanged"},_headers:Array,type:{type:String,value:"response"},_hdTitle:String,_hdBody:String,_hdExample:String,_linkR:{type:Object,value:function(){return /(https?:\/\/([^" >]*))/gim}}}}get container(){if(!this.shadowRoot){return}if(!this.$){this.$={}}if(!this.$.container){this.$.container=this.shadowRoot.querySelector(".container")}return this.$.container}_headersChanged(headers){this._clearList();if(!headers){return}const list=this.headersToJSON(headers),markup=list.map(item=>this._getMarkup(item)).join("\n");this.container.innerHTML=markup}_clearList(){this.container.innerHTML=""}_getMarkup(item){let result=`<div class="list-item" data-name="${item.name}">`;result+="<span class=\"header-name\">";result+=item.name+": </span>";result+="<span class=\"header-value\">";result+=this._autoLink(item.value);result+="</span>";result+="</div>";return result}_displayHeaderInfo(e){const path=e.composedPath();let target;while(!0){target=path.shift();if(!target){return}if(!target.dataset||!target.dataset.name){continue}break}const header=target.dataset.name.toLowerCase(),headers=this._headersQueryEvent(header).headers;if(headers&&headers.length){const result=headers[0];this._hdTitle=result.key;this._hdBody=result.desc;this._hdExample=result.example;this.$.headerInfo.open()}this._analyticsEvent("Headers list","Display header info dialog")}_headersQueryEvent(header){const ev=new CustomEvent("query-headers",{detail:{type:this.type,query:header},bubbles:!0,composed:!0,cancelable:!0});this.dispatchEvent(ev);return ev.detail}_analyticsEvent(action,label){const e=new CustomEvent("send-analytics",{detail:{type:"event",category:HeadersListView.is,action:action,label:label},bubbles:!0,composed:!0});this.dispatchEvent(e)}_autoLink(input){if("string"!==typeof input){return input}const matches=input.match(this._linkR);input=input.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(!matches){return input}let index=input.indexOf(matches[0]),result=input.substr(0,index);result+="<a target=\"_blank\" class=\"auto-link\" href=\"";result+=matches[0];result+="\">";result+=matches[0];result+="</a>";index+=matches[0].length;result+=input.substr(index);return result}}window.customElements.define(HeadersListView.is,HeadersListView);</script></dom-module><dom-module id="http-source-message-view" assetpath="bower_components/response-status-view/"><template><style>:host{margin:16px 16px 0 16px;overflow:auto;display:block;@apply --http-source-message-view;}pre{word-break:break-all;@apply --select-text;@apply --arc-font-code1;@apply --http-source-message;margin-bottom:0;}h5{margin:0;display:inline-block;cursor:pointer;@apply --http-source-message-view-title;}</style><h5 on-tap="toggle">Source message<paper-icon-button icon="[[_computeIcon(opened)]]"></paper-icon-button></h5><iron-collapse id="collapse" opened="{{opened}}"><pre>[[message]]</pre></iron-collapse></template><script>class HttpSourceMessageView extends Polymer.Element{static get is(){return"http-source-message-view"}static get properties(){return{message:String,opened:Boolean}}toggle(){this.opened=!this.opened}_computeIcon(opened){return opened?"arc:expand-less":"arc:expand-more"}}window.customElements.define(HttpSourceMessageView.is,HttpSourceMessageView);</script></dom-module><script>(function(global){"use strict";if(!global.ArcBehaviors){global.ArcBehaviors={}}global.ArcBehaviors.ResponseStatusMixin=Polymer.dedupingMixin(base=>{return class extends base{_computeStatusClass(code){var cls="status-code-value";if(500<=code||0===code){cls+=" error"}if(400<=code&&500>code){cls+=" warning"}if(300<=code&&400>code){cls+=" info"}return cls}_handleLink(e){e.preventDefault();const path=e.composedPath();if("A"===path[0].nodeName){const ev=new CustomEvent("action-link-change",{detail:{url:path[0].href},bubbles:!0,composed:!0,cancelable:!0});this.dispatchEvent(ev)}}}})})(window);</script><dom-module id="response-status-styles" assetpath="bower_components/response-status-view/"><template><style>.status-row{@apply --layout-horizontal;@apply --arc-font-subhead;@apply --layout-center;min-height:56px;border-bottom:1px var(--response-status-view-status-info-border-color, #e5e5e5) solid;}.status-value{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --response-status-view-status-container;}.status-value > span{display:block;}.status-value.status.text > span:not(:first-child){margin-left:8px;}.text{@apply --select-text;}headers-list-view{margin-top:12px;}.status-code-value{padding:4px 8px;color:var(--response-status-view-code-value-color, #fff);border-radius:3px;display:block;background-color:var(--arc-status-code-color-200, rgba(56, 142, 60, 1));}.info.status-code-value{background-color:var(--arc-status-code-color-300, rgba(48, 63, 159, 1));}.warning.status-code-value{background-color:var(--arc-status-code-color-400, rgba(245, 124, 0, 1));}.error.status-code-value{background-color:var(--arc-status-code-color-500, rgba(211, 47, 47, 1));}.no-info-container{@apply --layout-vertical;@apply --layout-center;}.no-info{@apply --no-info-message;}</style></template></dom-module><dom-module id="response-redirects-panel" assetpath="bower_components/response-status-view/"><template><style include="response-status-styles">.status-label{width:40px;@apply --arc-font-subhead;}.redirect-value{margin-top:12px;@apply --layout-flex;}.redirect-location{margin-left:8px;}.auto-link{color:var(--arc-link);@apply --arc-link;}</style><template is="dom-if" if="[[!hasRedirects]]"><div class="no-info-container"><p class="no-info">There is no redirects information to display</p></div></template><template is="dom-if" if="[[hasRedirects]]"><template is="dom-repeat" items="[[redirects]]"><div class="status-row"><div class="status-label text">#<span>[[_computeIndexName(index)]]</span></div><div class="redirect-value" on-tap="_handleLink"><div class="status-value status text"><span class$="[[_computeStatusClass(item.status)]]">[[item.status]] [[item.statusText]]</span> <span class="redirect-location">to: <a href="[[_computeRedirectLocation(item.headers)]]" class="auto-link">[[_computeRedirectLocation(item.headers)]]</a></span></div><headers-list-view headers="[[item.headers]]"></headers-list-view></div></div></template></template></template><script>class ResponseRedirectsPanel extends ArcBehaviors.ResponseStatusMixin(Polymer.Element){static get is(){return"response-redirects-panel"}static get properties(){return{redirects:Array,hasRedirects:{type:Boolean,value:!1,computed:"_computeHasRedirects(redirects.*)"}}}_computeIndexName(index){return index+1}_computeRedirectLocation(headers){let def="unknown";if(!headers){return def}if("string"===typeof headers){const match=headers.match(/^location: (.*)$/im);if(!match){return def}return match[1]}const location=headers.get("location");return location||def}_computeHasRedirects(record){return!!(record&&record.base&&record.base.length)}}window.customElements.define(ResponseRedirectsPanel.is,ResponseRedirectsPanel);</script></dom-module><script>class StatusMessage{getMessage(code){code=+code;let message;switch(code){case 0:message="Request error";break;case 100:message="Continue";break;case 101:message="Switching Protocols";break;case 200:message="OK";break;case 201:message="Created";break;case 202:message="Accepted";break;case 203:message="Non-Authoritative Information";break;case 204:message="No Content";break;case 205:message="Reset Content";break;case 206:message="Partial Content";break;case 300:message="Multiple Choices";break;case 301:message="Moved Permanently";break;case 302:message="Found";break;case 303:message="See Other";break;case 304:message="Not Modified";break;case 305:message="Use Proxy";break;case 306:message="(Unused)";break;case 307:message="Temporary Redirect";break;case 400:message="Bad Request";break;case 401:message="Unauthorized";break;case 402:message="Payment Required";break;case 403:message="Forbidden";break;case 404:message="Not Found";break;case 405:message="Method Not Allowed";break;case 406:message="Not Acceptable";break;case 407:message="Proxy Authentication Required";break;case 408:message="Request Timeout";break;case 409:message="Conflict";break;case 410:message="Gone";break;case 411:message="Length Required";break;case 412:message="Precondition Failed";break;case 413:message="Request Entity Too Large";break;case 414:message="Request-URI Too Long";break;case 415:message="Unsupported Media Type";break;case 416:message="Requested Range Not Satisfiable";break;case 417:message="Expectation Failed";break;case 500:message="Internal Server Error";break;case 501:message="Not Implemented";break;case 502:message="Bad Gateway";break;case 503:message="Service Unavailable";break;case 504:message="Gateway Timeout";break;case 505:message="HTTP Version Not Supported";break;}return message}}</script><dom-module id="response-status-view" assetpath="bower_components/response-status-view/"><template><style include="response-status-styles">:host{@apply --layout-vertical;@apply --response-status-view;}.badge{display:block;background-color:var(--response-status-view-badge-background, var(--accent-color));color:var(--response-status-view-badge-color, #fff);width:20px;height:20px;border-radius:50%;font-size:12px;margin-left:12px;@apply --layout-horizontal;@apply --layout-center-center;}.badge.empty{background-color:var(--response-status-view-empty-badge-background, #9e9e9e);color:var(--response-status-view-empty-badge-color, #fff);}.response-time{color:var(--response-status-view-loading-time-color, rgba(0, 0, 0, 0.54));margin-left:8px;display:block;@apply --response-status-view-time;}.status-info{@apply --layout-horizontal;@apply --layout-center;@apply --layout-flex;padding:0 4px;}.toggle-button{color:var(--response-status-view-toggle-icon-color, rgba(0, 0, 0, 0.54));transition:color 0.25s linear;}.toggle-icon{transform:rotateZ(0deg);transition:transform 0.3s linear;}.toggle-icon.opened{transform:rotateZ(-180deg);}.toggle-button:hover{color:var(--response-status-view-toggle-icon-hover-color, rgba(0, 0, 0, 0.78));}.xhr-title{@apply --layout-horizontal;@apply --layout-center;padding:0px 16px;@apply --arc-font-subhead;}.response-error-label{margin-left:12px;color:var(--arc-status-code-color-500, rgba(211, 47, 47, 1));}.status-url{@apply --arc-font-body1;@apply --layout-horizontal;@apply --layout-center;padding-top:12px;padding-bottom:12px;font-size:120%;padding-left:16px;background:var(--response-status-view-request-url-background-color, #6B6C6D);color:var(--response-status-view-request-url-color, #fff);@apply --arc-font-code;@apply --response-status-view-request-url-info;}.http-method{margin-right:12px;}.request-url{word-break:break-all;}.no-info{padding-left:16px;@apply --no-info-message;}[hidden]{display:none !important;}</style><div class="status-row"><div class="status-value status"><template is="dom-if" if="[[!isError]]"><div class="status-info text"><span class$="[[_computeStatusClass(statusCode)]]">[[statusCode]] [[statusMessage]]</span> <span class="response-time" hidden$="[[!loadingTime]]">[[_roundTime(loadingTime)]] ms</span></div><div class="status-details"><paper-button on-tap="toggleCollapse" class="toggle-button" title="Toogles response headers">Details<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(opened)]]"></iron-icon></paper-button></div></template><template is="dom-if" if="[[isError]]"><span class="error status-code-value">0</span> <span class="response-time" hidden$="[[!loadingTime]]">[[_roundTime(loadingTime)]] ms</span><p class="response-error-label">Error in the response.</p></template></div></div><iron-collapse opened="[[opened]]"><template is="dom-if" if="[[requestUrl]]"><div class="status-url"><span class="http-method" hidden$="[[!requestMethod]]">[[requestMethod]]</span> <span class="request-url">[[requestUrl]]</span></div></template><paper-tabs selected="{{selectedTab}}"><paper-tab><span>Response headers</span> <span class$="[[_computeBageClass(responseHeaders)]]">[[_computeHeadersLength(responseHeaders)]]</span></paper-tab><paper-tab><span>Request headers</span> <span class$="[[_computeBageClass(requestHeaders)]]">[[_computeHeadersLength(requestHeaders)]]</span></paper-tab><template is="dom-if" if="[[!isXhr]]"><paper-tab><span>Redirects</span> <span class$="[[_computeBageClass(redirects.length)]]">[[redirects.length]]</span></paper-tab><paper-tab>Timings</paper-tab></template></paper-tabs><iron-pages selected="[[selectedTab]]"><section class="response-headers-panel"><template is="dom-if" if="[[hasResponseHeaders]]"><headers-list-view type="response" on-tap="_handleLink" headers="[[responseHeaders]]" data-source="response-headers"></headers-list-view></template><template is="dom-if" if="[[!hasResponseHeaders]]"><div class="no-info-container"><p class="no-info">Nothing to display here</p></div></template></section><section class="request-headers-panel"><template is="dom-if" if="[[hasRequestHeaders]]"><headers-list-view type="request" on-tap="_handleLink" headers="[[requestHeaders]]" data-source="request-headers"></headers-list-view></template><template is="dom-if" if="[[!hasRequestHeaders]]"><div class="no-info-container"><p class="no-info">Nothing to display here</p></div></template><template is="dom-if" if="[[hasHttpMessage]]"><http-source-message-view message="[[httpMessage]]"></http-source-message-view></template></section><template is="dom-if" if="[[!isXhr]]"><response-redirects-panel redirects="[[redirects]]"></response-redirects-panel><request-timings-panel redirect-timings="[[redirectTimings]]" timings="[[timings]]"></request-timings-panel></template></iron-pages></iron-collapse></template><script>class ResponseStatusView extends ArcBehaviors.ResponseStatusMixin(Polymer.Element){static get is(){return"response-status-view"}static get properties(){return{statusCode:{type:Number,observer:"_statusCodeChanged"},statusMessage:String,loadingTime:{type:Number,value:0},responseHeaders:String,hasResponseHeaders:{type:String,value:!1,computed:"_computeHasHeaders(responseHeaders)"},requestHeaders:String,hasRequestHeaders:{type:String,value:!1,computed:"_computeHasHeaders(requestHeaders)"},httpMessage:{type:String},hasHttpMessage:{type:Boolean,readOnly:!0,computed:"_computeHasHttpMessage(httpMessage)"},responseError:{type:Object},isError:{type:Boolean,value:!1,readOnly:!0,computed:"_computeIsError(responseError)",observer:"_isErrorChanged"},redirects:Array,redirectTimings:Array,selectedTab:{type:Number,value:0},timings:{type:Object,notify:!0},isXhr:{type:Boolean,observer:"_isXhrChanged",value:!1},opened:{type:Boolean,value:!1},requestUrl:String,requestMethod:String}}attached(){if(this.statusCode){this._statusCodeChanged()}}_statusCodeChanged(){if(this.statusCode===void 0){this.statusCode=0}this.assignStatusMessage()}_computeIsError(responseError){return!!responseError}_computeBageClass(input){const cls="badge",clsEmpty=cls+" empty";if(input===void 0){return clsEmpty}if("string"===typeof input){return!!input?cls:clsEmpty}return 0===input?clsEmpty:cls}_computeHeadersLength(headers){if(!headers){return 0}return headers.split("\n").length}_computeHasHttpMessage(message){return!!message}_roundTime(num){num=+num;if(num!==num){return""}return num.toFixed(2)}toggleCollapse(){this.opened=!this.opened}_computeToggleIconClass(opened){var clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}assignStatusMessage(){setTimeout(()=>{if(this.statusMessage){return}const msg=new StatusMessage;this.statusMessage=msg.getMessage(this.statusCode)},100)}_isXhrChanged(value){if(value===void 0){return}if(value&&1<this.selectedTab){this.selectedTab=0}const tabs=this.shadowRoot.querySelector("paper-tabs");if(!tabs){console.warn("Tabs panel not found in DOM");return}tabs.notifyResize()}_computeHasHeaders(requestHeaders){return!!requestHeaders}_isErrorChanged(error){if(error){this.opened=!1}}}window.customElements.define(ResponseStatusView.is,ResponseStatusView);</script></dom-module><dom-module id="response-error-view" assetpath="bower_components/response-error-view/"><template><style>:host{@apply --layout-vertical;@apply --layout-flex;-webkit-user-select:text;margin:0 16px;@apply --response-error-view;}.message-wrapper{@apply --layout-horizontal;@apply --layout-center;}.error-icon{width:128px;height:128px;color:var(--error-message-icon-color, rgba(0, 0, 0, 0.56));@apply --error-message-icon;}.error-desc{@apply --arc-font-subhead;color:var(--error-message-color, #db4437);@apply --error-message-text;}.error-code{color:var(--error-message-code-color, #9e9e9e);}.inherit{color:inherit !important;background-color:inherit !important;text-decoration:inherit !important;}p,
    h3{cursor:text;}</style><div class="message-wrapper"><div><iron-icon class="error-icon" icon="[[icon]]"></iron-icon></div><div class="error-desc"><iron-pages selected="[[detailsPage]]"><section><h3>The requested URL can't be reached</h3><p>The service might be temporarily down or it may have moved permanently to a new web address.</p><p class="error-code">[[message]]</p></section><section><h3>Install self signed certificate in Chrome</h3><p>The app can't work if the self-signed certificate is not installed in Chrome.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service refused to connect.</p><p>Please, check if:</p><ul><li>you and remote machine are connected to the internet,</li><li>all required services (like www) are up and running on server</li><li>port number is correct</li><li>url is correct</li></ul><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20102" target="_blank">chrome network error 102</a></p><p class="error-code">[[message]]</p></section><section><h3>Certificate is invalid for given domain</h3><p>Certificate presented to the app has different CN (common name) than the domain of the request.</p><p>Please, generate certificate again with valid domain name or use free certificate service like <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a> to get a new certificate.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><a class="inherit" href="https://bugs.chromium.org/p/chromium/issues/detail?id=603104" target="_blank"><paper-button raised="">See CR bug</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>Abort / timeout</h3><p>The request has been aborted manually or because of the conection timeout. There were no response from the server but the connection wasn't closed.</p><p>You can adjust timeout in settings.</p><p>Try to:</p><ul><li>add "Connection: close" header which should be used by the server to close the connection after it finish generating response</li></ul><p>Please, check if:</p><ul><li>all required services (like www) are up and running on server</li><li>method is correct</li><li>port number is correct</li><li>url is correct</li><li>all required headers and/or payload has been added to the request</li></ul><h4>Example</h4><p>Sometimes it may happen when you use <b>http</b> protocol instead of <b>https</b>. Also it may happen when you use different URL (port / protocol) and the server is not configured properly.</p></section><section><h3>The requested URL can't be reached</h3><p>The service is unreachable.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20109" target="_blank">chrome network error 109</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p><b>The URL</b> didn’t accept your login certificate or your login certificate may have expired.</p><p>Try contacting the system admin.</p><p class="error-code">[[message]]</p></section><section><h3>The URL is blocked</h3><p>The person who set up this computer has chosen to block this site.</p><p>Try contacting the system admin.</p><p><b>Check your administrator's policies</b></p><p>Visit <b>chrome://policy</b> to see the list of blacklisted URLs and other policies enforced by your system administrator.</p><p class="error-code">[[message]]</p></section><section><h3>The URL is blocked</h3><p>Requests to the server have been blocked by an extension.</p><p>Try</p><ul><li>Again...</li><li>Disabling your extensions</li></ul><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>Chrome OS hasn’t completed its initial setup.</p><ul><li>Fix your connection using the <a href="data:text/html,chromewebdata#buttons" target="_blank">diagnostics app</a></li><li>Sign out and complete setup</li></ul><p class="error-code">[[message]]</p></section><section><h3>Certificate error</h3><p>Certificate presented to the app is invalid.</p><p>Please, generate certificate again or use free certificate service like <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a> to get a new certificate.</p><a class="inherit" href="http://restforchrome.blogspot.co.uk/2016/04/advanced-rest-client.html" target="_blank"><paper-button raised="">Tell me more</paper-button></a><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service unexpectedly closed the connection.</p><p>Try</p><ul><li>Again...</li><li>Checking the connection</li><li>Checking the proxy and the firewall</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow Chrome to access the network in your firewall or antivirus settings.</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL can't be reached</h3><p>The service is unreachable.</p><p>Search Google for <a href="https://www.google.co.uk/search?q=chrome%20network%20error%20104" target="_blank">chrome network error 104</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service refused to connect.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20102" target="_blank">chrome network error 102</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service took too long to respond.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20118" target="_blank">chrome network error 118</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL isn’t working</h3><p>The service unexpectedly closed the connection.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL was not found</h3><p>It may have been moved or deleted.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t be reached</h3><p>This site on the company, organisation or school intranet has the same URL as an external website.</p><p>Try contacting your system administrator.</p><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>Your computer is offline.</p><p>Try:</p><ul><li>Checking the network cable or router</li><li>Resetting the modem or router</li><li>Reconnecting to Wi-Fi</li></ul><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service's server DNS address could not be found.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20105" target="_blank">chrome network error 105</a></p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service might be temporarily down or it may have moved permanently to a new web address.</p><p>Search Google for <a href="https://www.google.com/search?q=chrome%20network%20error%20137" target="_blank">chrome network error 137</a></p><p class="error-code">[[message]]</p></section><section><h3>Your Internet access is blocked</h3><p>Firewall or antivirus software may have blocked the connection.</p><p>Try:</p><ul><li>Checking the connection</li><li>Checking firewall and antivirus configurations</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow Chrome to access the network in your firewall or antivirus settings</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p></section><section><h3>Your connection was interrupted</h3><p>A network change was detected.</p><p class="error-code">[[message]]</p></section><section><h3>Your connection was interrupted</h3><p>Your computer went to sleep. Zzzzzzz.</p><p class="error-code">[[message]]</p></section><section><h3>There is no Internet connection</h3><p>There is something wrong with the proxy server or the address is incorrect.</p><p>Try:</p><ul><li>Checking the proxy address</li><li>Contacting the system admin</li></ul><p class="error-code">[[message]]</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL isn’t working</h3><p>The service sent an invalid response.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p><b>The URL</b> sent an invalid response.</p><p><a href="https://support.google.com/chrome?p=ir_ssl_error" target="_blank">Learn more</a> about this problem.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server presented a certificate that doesn't match built-in expectations. These expectations are included for certain, high-security websites in order to protect you.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server doesn't adhere to security standards.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server uses an unsupported protocol.</p><p class="error-code">[[message]]</p><p><b>Unsupported protocol</b></p><p>The client and server don't support a common SSL protocol version or cipher suite. This is likely to be caused when the server needs RC4, which is no longer considered secure.</p></section><section><h3>The requested URL can’t provide a secure connection</h3><p>The server doesn't adhere to security standards.</p><p><a href="https://support.google.com/chrome?p=dh_error&amp;" target="_blank">Learn more</a> about this problem.</p><p class="error-code">[[message]]</p></section><section><h3>Access to network-error was denied</h3><p>The server hosting the web page might be overloaded or under maintenance. In order to avoid generating too much traffic and make the situation worse, requests to this URL have been temporarily disallowed.</p><p class="error-code">[[message]]</p></section><section><h3>The requested URL can't be reached</h3><p>The service took too long to respond.</p><p>Try</p><ul><li>Again...</li><li>Checking the connection</li><li>Checking the proxy and the firewall</li></ul><p class="error-code">[[message]]</p><p><b>Check your Internet connection</b></p><p>Check any cables and reboot any routers, modems or other network devices you may be using.</p><p><b>Allow the browser to access the network in your firewall or antivirus settings.</b></p><p>If it is already listed as a program allowed to access the network, try removing it from the list and adding it again.</p><p><b>If you use a proxy server...</b></p><p>Check your proxy settings or contact your network administrator to make sure that the proxy server is working. If you don't believe you should be using a proxy server: Go to the Chrome menu &gt; Settings &gt; + Show advanced settings &gt; Change proxy settings... and make sure your configuration is set to "no proxy" or "direct."</p></section><section><h3>The requested URL isn’t working</h3><p>The service redirected you too many times.</p><p>Try</p><ul><li>Again...</li><li>Clearing your cookies</li></ul><p class="error-code">[[message]]</p><p><b>Clearing your cookies</b></p><p>Go to app's settings and click on "Clear cookies".</p></section></iron-pages></div></div></template><script>class ResponseErrorView extends Polymer.Element{static get is(){return"response-error-view"}static get properties(){return{message:{type:String,observer:"_messageChanged"},icon:{type:String,value:"arc:sentiment-very-dissatisfied"},detailsPage:Number}}ready(){super.ready();if(this.detailsPage===void 0){this.detailsPage=0}}_messageChanged(msg){if(msg){msg=msg.trim()}switch(msg){case"net::ERR_CERT_AUTHORITY_INVALID":this.detailsPage=1;break;case"net::ERR_CONNECTION_REFUSED":this.detailsPage=2;break;case"net::ERR_CERT_COMMON_NAME_INVALID":this.detailsPage=3;break;case"Request aborted":this.detailsPage=4;break;case"net::ERR_ADDRESS_UNREACHABLE":this.detailsPage=5;break;case"net::ERR_BAD_SSL_CLIENT_AUTH_CERT":this.detailsPage=6;break;case"net::ERR_BLOCKED_BY_ADMINISTRATOR":this.detailsPage=7;break;case"net::ERR_BLOCKED_BY_CLIENT":this.detailsPage=8;break;case"net::ERR_BLOCKED_ENROLLMENT_CHECK_PENDING":this.detailsPage=9;break;case"net::ERR_CERT_CONTAINS_ERRORS":case"net::ERR_CERT_DATE_INVALID":case"net::ERR_CERT_END":case"net::ERR_CERT_ERROR_IN_SSL_RENEGOTIATION":case"net::ERR_CERT_INVALID":case"net::ERR_CERT_NAME_CONSTRAINT_VIOLATION":case"net::ERR_CERT_NON_UNIQUE_NAME":case"net::ERR_CERT_NO_REVOCATION_MECHANISM":case"net::ERR_CERT_REVOKED":case"net::ERR_CERT_UNABLE_TO_CHECK_REVOCATION":case"net::ERR_CERT_VALIDITY_TOO_LONG":case"net::ERR_CERT_WEAK_KEY":case"net::ERR_CERT_WEAK_SIGNATURE_ALGORITHM":this.detailsPage=10;break;case"net::ERR_CONNECTION_CLOSED":case"net::ERR_CONNECTION_RESET":this.detailsPage=11;break;case"net::ERR_CONNECTION_FAILED":this.detailsPage=12;break;case"net::ERR_CONNECTION_REFUSED":this.detailsPage=13;break;case"net::ERR_CONNECTION_TIMED_OUT":this.detailsPage=14;break;case"net::ERR_CONTENT_LENGTH_MISMATCH":case"net::ERR_INCOMPLETE_CHUNKED_ENCODING":this.detailsPage=15;break;case"net::ERR_FILE_NOT_FOUND":this.detailsPage=16;break;case"net::ERR_ICANN_NAME_COLLISION":this.detailsPage=17;break;case"net::ERR_INTERNET_DISCONNECTED":this.detailsPage=18;break;case"net::ERR_NAME_NOT_RESOLVED":this.detailsPage=19;break;case"net::ERR_NAME_RESOLUTION_FAILED":this.detailsPage=20;break;case"net::ERR_NETWORK_ACCESS_DENIED":this.detailsPage=21;break;case"net::ERR_NETWORK_CHANGED":this.detailsPage=22;break;case"net::ERR_NETWORK_IO_SUSPENDED":this.detailsPage=23;break;case"net::ERR_PROXY_CONNECTION_FAILED":this.detailsPage=24;break;case"net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_DISPOSITION":case"net::ERR_RESPONSE_HEADERS_MULTIPLE_CONTENT_LENGTH":case"net::ERR_RESPONSE_HEADERS_MULTIPLE_LOCATION":this.detailsPage=25;break;case"net::ERR_SSL_FALLBACK_BEYOND_MINIMUM_VERSION":case"net::ERR_SSL_PROTOCOL_ERROR":this.detailsPage=26;break;case"net::ERR_SSL_PINNED_KEY_NOT_IN_CERT_CHAIN":this.detailsPage=27;break;case"net::ERR_SSL_SERVER_CERT_BAD_FORMAT":this.detailsPage=28;break;case"net::ERR_SSL_VERSION_OR_CIPHER_MISMATCH":this.detailsPage=29;break;case"net::ERR_SSL_WEAK_SERVER_EPHEMERAL_DH_KEY":this.detailsPage=30;break;case"net::ERR_TEMPORARY_BACKOFF":this.detailsPage=31;break;case"net::ERR_TIMED_OUT":this.detailsPage=32;break;case"net::ERR_TOO_MANY_REDIRECTS":this.detailsPage=33;break;default:this.detailsPage=0;break;}}}window.customElements.define(ResponseErrorView.is,ResponseErrorView);</script></dom-module><dom-module id="response-raw-viewer" assetpath="bower_components/response-raw-viewer/"><template><style>:host{display:block;overflow:overlay;width:100%;@apply --response-raw-viewer;}.raw-content{@apply --arc-font-code1;-webkit-user-select:text;user-select:text;white-space:pre;width:100%;min-height:52px;display:block;overflow:auto;max-width:100%;@apply --response-raw-viewer-code;}:host([wrap-text]) .raw-content{white-space:pre-wrap;word-wrap:break-word;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}.actions-panel.hidden{display:none;}.no-info{@apply --no-info-message;}</style><div class$="[[_computeActionsPanelClass(hasResponse)]]"><slot name="content-action"></slot></div><code id="rawContent" class="raw-content" hidden$="[[!hasResponse]]"></code><p class="no-info" hidden$="[[hasResponse]]">Nothing to display.</p></template><script>class ResponseRawViewer extends ArcBehaviors.PayloadParserBehavior(Polymer.Element){static get is(){return"response-raw-viewer"}static get properties(){return{responseText:{type:String,observer:"_responseChanged"},hasResponse:{type:Boolean,value:!1,computed:"_computeHasResponse(responseText)"},wrapText:{type:Boolean,reflectToAttribute:!0}}}_responseChanged(response){if(!response){this.$.rawContent.innerHTML=""}else{const value=this._responseValue(response);this.$.rawContent.innerHTML=value?this.htmlEscape(value):""}}_responseValue(response){if(!response){return response}if("string"===typeof response){return response}switch(response.type){case"Buffer":let str="";for(let i=0,len=response.data.length;i<len;i++){str+=String.fromCharCode(response.data[i])}return str;}return""}_computeHasResponse(responseText){return!!responseText}_computeActionsPanelClass(hasResponse){let klas="actions-panel";if(!hasResponse){klas+=" hidden"}return klas}}window.customElements.define(ResponseRawViewer.is,ResponseRawViewer);</script></dom-module><dom-module id="error-message" assetpath="bower_components/error-message/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --error-message;}.error-icon{width:128px;height:128px;color:var(--error-message-icon-color, rgba(0, 0, 0, 0.56));@apply --error-message-icon;}.error-desc ::slotted(*){@apply --arc-font-subhead;color:var(--error-message-color, var(--google-red-500));@apply --error-message-text;}</style><div><iron-icon class="error-icon" icon="[[icon]]"></iron-icon></div><div class="error-desc"><slot></slot></div></template><script>class ErrorMessage extends Polymer.Element{static get is(){return"error-message"}static get properties(){return{icon:{type:String,value:"arc:sentiment-very-dissatisfied"}}}}window.customElements.define(ErrorMessage.is,ErrorMessage);</script></dom-module><dom-module id="xml-viewer" assetpath="bower_components/xml-viewer/"><template><style>:host{display:block;color:black;cursor:text;-webkit-user-select:text;user-select:text;overflow:auto;word-wrap:break-word;@apply --xml-viewer;}[hidden]{display:none !important;}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;}.prettyPrint{font-family:monospace;font-size:15px;}.arrowEmpty{}.node{margin:1px 0px;}.opened{}.comment{color:var(--xml-viewer-comment-color, #236E25);}.punctuation{color:var(--xml-viewer-punctuation-color, black);}.tagname{color:var(--xml-viewer-tag-name-color, #881280);}.attname{color:var(--xml-viewer-attribute-name-color, #994500);}.attribute{color:var(--xml-viewer-attribute-value-color, #1A1AA6);}.cdata{color:var(--xml-viewer-cdata-color, #48A);}.cdata *[collapsible]{white-space:pre;}.arrowExpanded,
    .arrowEmpty{display:inline-block;width:24px;height:18px;}.processing{color:var(--xml-viewer-document-declaration-color, #999);}.inline,
    .inline>div{display:inline-block;text-indent:0px;}.node.opened>. arrowEmpty{text-indent:0;font-size:10px;letter-spacing:0.1em;width:21px;margin-left:3px;margin-right:3px;}.nodeMargin{margin-left:44px;}.collapseIndicator{display:none;margin:0px 1px;text-indent:0px;}*[colapse-marker]{-webkit-user-select:none;cursor:pointer;}*[less]{display:inline-block;}*[more]{display:none;}*[data-expanded="false"] .arrowEmpty{display:none;}*[data-expanded="false"] *[less]{display:none;}*[data-expanded="false"] *[more]{display:inline-block;}*[data-expanded="false"] *[collapsible]{display:none !important;}*[data-expanded="false"] *[collapse-indicator]{display:inline-block !important;}.value.number,
    .value.null,
    .value.boolean{color:var(--xml-viewer-constant-color, #283593);}.arc-search-mark.selected{background-color:#ff9632;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-highlighter-action-bar;}.actions-panel.hidden{display:none;}.spinner{position:relative;}paper-spinner{position:absolute;}.deprecation{color:#9E9E9E;}</style><p hidden$="[[hideDeprecationMessage]]" class="deprecation">This view is retired and will be replaced around June 2019. <a target="_blank" href="https://restforchrome.blogspot.com/2019/02/deprecation-of-xml-viewer-component.html">Learn more.</a></p><div class$="[[_computeActionsPanelClass(showOutput)]]"><slot name="content-action"></slot></div><div class="spinner"><paper-spinner active="[[working]]"></paper-spinner></div><error-message hidden$="[[!isError]]"><p>There was an error parsing XML.</p><p>[[errorMessage]]</p><p>Rendering unprocessed data.</p></error-message><output id="output" hidden$="[[!showOutput]]" on-click="_handleDisplayClick"></output></template><script>const SafeHtmlUtils={AMP_RE:new RegExp(/&/g),GT_RE:new RegExp(/>/g),LT_RE:new RegExp(/</g),SQUOT_RE:new RegExp(/'/g),QUOT_RE:new RegExp(/"/g),htmlEscape:function(s){if(-1!==s.indexOf("&")){s=s.replace(SafeHtmlUtils.AMP_RE,"&amp;")}if(-1!==s.indexOf("<")){s=s.replace(SafeHtmlUtils.LT_RE,"&lt;")}if(-1!==s.indexOf(">")){s=s.replace(SafeHtmlUtils.GT_RE,"&gt;")}if(-1!==s.indexOf("\"")){s=s.replace(SafeHtmlUtils.QUOT_RE,"&quot;")}if(-1!==s.indexOf("'")){s=s.replace(SafeHtmlUtils.SQUOT_RE,"&#39;")}return s}};class XmlViewer extends Polymer.Element{static get is(){return"xml-viewer"}static get properties(){return{xml:{type:Object,observer:"_changed"},isError:{type:Boolean,readOnly:!0,value:!1,notify:!0},working:{type:Boolean,readOnly:!0,value:!1,notify:!0},showOutput:{type:Boolean,readOnly:!0,value:!1,computed:"_computeShowOutput(working, xml)"},errorMessage:{type:String,readOnly:!0},hideDeprecationMessage:Boolean,cssPrefix:{type:String,value:"xml-viewer style-scope "}}}_changed(xml){if(!xml){this.reset();return}this.render(xml)}reset(){this._setWorking(!1);this._setIsError(!1);this._setErrorMessage(null);this.$.output.innerText=""}render(xml){this.reset();this._setWorking(!0);try{const data=this._processData(xml);this._setWorking(!1);this.$.output.innerHTML=data}catch(e){this._parsingError(e,xml)}}_parsingError(e,xml){this._setIsError(!0);this._setWorking(!1);const message=e.message||"Invalid XML value.",err=message.replace("Uncaught Error: ","");this._setErrorMessage(err);this.$.output.innerText=xml||""}_computeShowOutput(working,xml){return!working&&!!xml}_handleDisplayClick(e){if(!e.target){return}let target=e.target;if(!target.getAttribute("colapse-marker")){target=target.parentNode;if(!target||!target.getAttribute("colapse-marker")){return}}target=target.parentNode;let expanded=target.dataset.expanded;if(!expanded||"true"===expanded){target.dataset.expanded="false"}else{target.dataset.expanded="true"}}_computeActionsPanelClass(showOutput){let clazz="actions-panel";if(!showOutput){clazz+=" hidden"}return clazz}_processData(xml){const parser=new DOMParser,result=parser.parseFromString(xml,"application/xml"),err=result.querySelector("parsererror");if(err){const message=err.innerText;throw new Error(message)}return this._getHTML(result)}_getHTML(doc){const nodes=doc.childNodes,nodesCnt=nodes.length;if(0===nodesCnt){return"no xml"}let result="<div class=\""+this.cssPrefix+"prettyPrint\" data-expanded=\"true\">";for(let i=0;i<nodesCnt;i++){result+=this._parse(nodes.item(i))}result+="</div>";return result}_parse(node){const cssPrefix=this.cssPrefix;let parsed="",type=node.nodeType;switch(type){case 1:parsed+=this._parseElement(node);break;case 3:let value=node.nodeValue;value=SafeHtmlUtils.htmlEscape(value);if(""===value){return""}parsed+=this._parseValue(value);break;case 4:parsed+="<span colapse-marker=\"true\" class=\""+cssPrefix+"\"><iron-icon more icon=\"arc:expand-more\" class=\""+cssPrefix+"\"></iron-icon>"+"<iron-icon less icon=\"arc:expand-less\" class=\""+cssPrefix+"\"></iron-icon></span>";parsed+="<span class=\""+cssPrefix+"cdata\">&lt;![CDATA[</span>";parsed+="<div collapsible class=\""+cssPrefix+"\">";parsed+=SafeHtmlUtils.htmlEscape(node.nodeValue);parsed+="</div><span class=\""+cssPrefix+"cdata\">]]&gt;</span>";break;case 7:parsed+="<div class=\""+cssPrefix+"processing\">&lt;?xml "+node.nodeValue+" ?&gt;</div>";break;case 8:parsed+="<div class=\""+cssPrefix+"comment\">&lt;--";parsed+=node.nodeValue;parsed+="--&gt</div>";break;}parsed="<div class=\""+cssPrefix+"node\">"+parsed+"</div>";return parsed}_parseValue(value){value=value.trim();let css="value";if(!isNaN(value)){css+=" number"}else if("true"===value||"false"===value){css+=" boolean"}else if("null"===value){css+=" null"}value="<span class=\""+this.cssPrefix+css+"\">"+value+"</span>";return value}_parseElement(node){const cssPrefix=this.cssPrefix,childrenCount=node.childNodes.length;let parsed="",showArrows=!1;if(1<childrenCount){parsed+="<span colapse-marker=\"true\" class=\""+cssPrefix+"\"><iron-icon more icon=\"arc:expand-more\" class=\""+cssPrefix+"\"></iron-icon>"+"<iron-icon less icon=\"arc:expand-less\" class=\""+cssPrefix+"\"></iron-icon></span>";showArrows=!0}parsed+="<span class=\""+cssPrefix+"punctuation\">&lt;</span>";parsed+="<span class=\""+cssPrefix+"tagname\">"+node.nodeName+"</span>";parsed+=this._parseAttributes(node);if(0<childrenCount){const children=node.childNodes;parsed+="<span class=\""+cssPrefix+"punctuation\">&gt;</span>";let showInline=!1;if(1===childrenCount&&3===children.item(0).nodeType){showInline=!0}if(showInline){parsed+="<div class=\""+cssPrefix+"inline\">"}else{parsed+="<div collapse-indicator colapse-marker=\"true\" class=\""+cssPrefix+"collapseIndicator\">...</div>";parsed+="<div collapsible class=\""+cssPrefix+"nodeMargin\">"}for(let i=0;i<childrenCount;i++){parsed+=this._parse(children.item(i))}parsed+="</div>";if(showArrows){parsed+="<span arrowEmpty class=\""+cssPrefix+"arrowEmpty\">&nbsp;</span>"}parsed+="<span class=\""+cssPrefix+"punctuation end\">&lt;/</span>";parsed+="<span class=\""+cssPrefix+"tagname end\">"+node.nodeName+"</span>";parsed+="<span class=\""+cssPrefix+"punctuation\">&gt;</span>"}else{parsed+="<span class=\""+cssPrefix+"punctuation\"> /&gt;</span>"}return parsed}_parseAttributes(node){let parsed="";const attr=node.attributes;if(null!==attr&&0<attr.length){for(let i=0;i<attr.length;i++){parsed+=" "+this._getAttributesString(attr.item(i))}}return parsed}_getAttributesString(attr){const cssPrefix=this.cssPrefix;let data="<span class=\""+cssPrefix+"attname\">",name=attr.name;name=SafeHtmlUtils.htmlEscape(name);data+=name;data+="</span>";data+="<span class=\""+cssPrefix+"punctuation\">=</span>";data+="<span class=\""+cssPrefix+"attribute\">&quot;";let value=attr.value;value=SafeHtmlUtils.htmlEscape(value);data+=value;data+="&quot;</span>";return data}}window.customElements.define(XmlViewer.is,XmlViewer);</script></dom-module><dom-module id="js-max-number-error" assetpath="bower_components/json-viewer/"><template><style>:host{display:inline-block;vertical-align:text-bottom;}.parsed-value ::slot > *{color:#D32F2F;font-weight:500;}.content{@apply --layout-horizontal;@apply --layout-center;color:#D32F2F;font-weight:500;cursor:pointer;}iron-icon{height:18px;width:18px;margin-right:8px;}#collapse{white-space:initial;@apply --paper-font-body2;color:rgba(0, 0, 0, 0.74);}p{margin:0;}.message{padding:12px;background-color:#FFECB3;margin:12px 24px;}.expected{font-weight:700;}</style><div class="content" on-tap="toggle"><iron-icon icon="arc:info"></iron-icon><div class="parsed-value"><slot></slot></div></div><iron-collapse><div class="message"><p>The number used in the response is unsafe in JavaScript environment and therefore as a JSON value.</p><p>Original value for the number (represented as string) is <span class="expected">"[[expectedNumber]]"</span></p><p>This number will not work in web environment and should be passed as a string, not a number.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank">Read more about numbers in JavaScript</a>.</p></div></iron-collapse></template><script>class JsMaxNumberError extends Polymer.Element{static get is(){return"js-max-number-error"}static get properties(){return{expectedNumber:{type:String,value:"[unknown]"}}}toggle(){this.shadowRoot.querySelector("iron-collapse").toggle()}}window.customElements.define(JsMaxNumberError.is,JsMaxNumberError);</script></dom-module><dom-module id="json-viewer" assetpath="bower_components/json-viewer/"><template><style>:host{display:block;font-family:monospace;font-size:10pt;color:black;cursor:text;-webkit-user-select:text;@apply --arc-font-code1;@apply --json-viewer;}.prettyPrint{padding:8px;}.stringValue{white-space:normal;}.brace{display:inline-block;}.numeric{color:var(--code-type-number-value-color, blue);}.nullValue{color:var(--code-type-null-value-color, #708);}.booleanValue{color:var(--code-type-boolean-value-color, #708);}.punctuation{color:var(--code-punctuation-value-color, black);}.stringValue{color:var(--code-type-text-value-color, #48A);}.node{position:relative;white-space:nowrap;margin-bottom:4px;word-wrap:break-word;@apply --json-viewer-node;}.array-counter{color:gray;font-size:11px;}.array-counter::before{content:"Array[" attr(count) "]";user-select:none;pointer-events:none;}*[data-expanded="false"] > .array-counter::before{content:"Array[" attr(count) "] ...";user-select:none;pointer-events:none;}.array-key-number::before{content:"" attr(index) ":";user-select:none;pointer-events:none;}.key-name{color:var(--code-type-text-value-color, #48A);}.rootElementToggleButton{position:absolute;top:0;left:-9px;font-size:14px;cursor:pointer;font-weight:bold;user-select:none;}.rootElementToggleButton::after{content:"-";}.array-key-number{color:var(--code-array-index-color, rgb(119, 119, 119));}.info-row{display:none;margin:0 8px;text-indent:0;}div[data-expanded="false"] div[collapse-indicator]{display:inline-block !important;}div[data-expanded="false"] div[data-element]{display:none !important;}.arc-search-mark.selected{background-color:#ff9632;}div[data-expanded="false"] .punctuation.dimmed{opacity:0;}.dimmed{opacity:var(--code-dimmed-punctuation-opacity, 0.34);}a[response-anchor]{color:var(--code-type-link-color, #1976d2);}paper-spinner:not([active]){display:none;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-raw-viewer-action-bar;}.actions-panel.hidden{display:none;}[hidden]{display:none !important;}output{display:block;background-color:var(--code-background-color);}</style><paper-spinner active="[[working]]"></paper-spinner><template is="dom-if" if="[[isError]]"><div class="error"><p>There was an error parsing JSON data</p></div></template><div class$="[[_computeActionsPanelClass(showOutput)]]"><slot name="content-action"></slot></div><output hidden$="[[!showOutput]]" on-click="_handleDisplayClick"></output><script id="jsonWorker" type="text/js-worker">var SafeHtmlUtils = {
      AMP_RE: new RegExp(/&/g),
      GT_RE: new RegExp(/>/g),
      LT_RE: new RegExp(/</g),
      SQUOT_RE: new RegExp(/'/g),
      QUOT_RE: new RegExp(/"/g),

      htmlEscape: function(s) {
        if (s.indexOf('&') !== -1) {
          s = s.replace(SafeHtmlUtils.AMP_RE, '&amp;');
        }
        if (s.indexOf('<') !== -1) {
          s = s.replace(SafeHtmlUtils.LT_RE, '&lt;');
        }
        if (s.indexOf('>') !== -1) {
          s = s.replace(SafeHtmlUtils.GT_RE, '&gt;');
        }
        if (s.indexOf('"') !== -1) {
          s = s.replace(SafeHtmlUtils.QUOT_RE, '&quot;');
        }
        if (s.indexOf('\'') !== -1) {
          s = s.replace(SafeHtmlUtils.SQUOT_RE, '&#39;');
        }
        return s;
      }
    };

    function JSONViewer(data) {
      var jsonData = data.json;
      this.rawData = data.raw || '';
      this.cssPrefix = data.cssPrefix || '';
      this.debug = data.debug || false;
      this._numberIndexes = {}; // Regexp number indexes
      this.jsonValue = null;
      this.latestError = null;
      this.elementsCounter = 0;
      if (typeof jsonData === 'string') {
        try {
          this.jsonValue = JSON.parse(jsonData);
          if (!this.rawData) {
            this.rawData = jsonData;
          }
        } catch (e) {
          this.latestError = e.message;
        }
      } else {
        this.jsonValue = jsonData;
      }
    }
    /**
     * Uses the performance API to mark an event.
     */
    JSONViewer.prototype.mark = function(title) {
      // I hate you IE! <\3
      if (!this.debug) {
        return;
      }
      if (!(performance in self)) {
        return;
      }
      performance.mark(title);
    };
    /**
     * Creates a list of measurements performed during the HTML generation.
     */
    JSONViewer.prototype.getMeasurements = function() {
      if (!this.debug) {
        return;
      }
      if (!(performance in self)) {
        return;
      }
      performance.measure('get-html', 'get-html-start', 'get-html-end');
      var items = performance.getEntriesByType('mark');
      items.forEach(function(mark) {
        if (~mark.name.indexOf('parse-start-')) {
          var id = mark.name.substr(12);
          performance.measure('parse-' + id, 'parse-start-' + id, 'parse-start-' + id);
        }
      });
      var items = performance.getEntriesByType('measure');
      var result = items.map(function(measure) {
        return {
          duration: measure.duration,
          name: measure.name,
          startTime: measure.startTime
        }
      });
      return {
        items: result
      };
    };
    /**
     * Get created HTML content.
     */
    JSONViewer.prototype.getHTML = function() {
      this.mark('get-html-start');
      var parsedData = '<div class="' + this.cssPrefix + 'prettyPrint">';
      parsedData += this.parse(this.jsonValue);
      parsedData += '</div>';
      this.mark('get-html-end');
      return parsedData;
    };
    /**
     * Parse JSON data
     */
    JSONViewer.prototype.parse = function(data, opts) {
      opts = opts || {};
      this.__parseCallCounter = this.__parseCallCounter || 0;
      this.__parseCallCounter++;
      this.mark('parse-start-' + this.__parseCallCounter);
      var result = '';
      if (data === null) {
        result += this.parseNullValue();
      } else if (typeof data === 'number') {
        result += this.parseNumericValue(data);
      } else if (typeof data === 'boolean') {
        result += this.parseBooleanValue(data);
      } else if (typeof data === 'string') {
        result += this.parseStringValue(data);
      } else if (data instanceof Array) {
        result += this.parseArray(data);
      } else {
        result += this.parseObject(data);
      }
      if (opts.hasNextSibling && !opts.holdComa) {
        result += '<span class="' + this.cssPrefix + 'punctuation dimmed">,</span>';
      }
      this.mark('parse-end-' + this.__parseCallCounter);
      return result;
    };

    JSONViewer.prototype.parseNullValue = function() {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'nullValue">';
      result += 'null';
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseNumericValue = function(number) {
      var expectedNumber;
      if (number > 9007199254740991) { // IE doesn't support Number.MAX_SAFE_INTEGER
        var comp = String(number);
        comp = comp.substr(0, 16);
        var r = new RegExp(comp + '(\\d+),?', 'gim');
        if (comp in this._numberIndexes) {
          r.lastIndex = this._numberIndexes[comp];
        }
        var _result = r.exec(this.rawData);
        if (_result) {
          this._numberIndexes[comp] = _result.index;
          expectedNumber = comp + _result[1];
        }
      }

      var result = '';
      result += '<span class="' + this.cssPrefix + 'numeric">';
      if (expectedNumber) {
        result += '<js-max-number-error class="' + this.cssPrefix +
          'number-error" expected-number="' + expectedNumber + '">';
      }
      result += number + '';
      if (expectedNumber) {
        result += '</js-max-number-error>';
      }
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseBooleanValue = function(bool) {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'booleanValue">';
      if (bool !== null && bool !== undefined) {
        result += bool + '';
      } else {
        result += 'null';
      }
      result += '</span>';
      return result;
    };

    JSONViewer.prototype.parseStringValue = function(str) {
      var result = '';
      var value = str || '';
      if (value !== null && value !== undefined) {
        value = SafeHtmlUtils.htmlEscape(value);
        if (value.slice(0, 1) === '/' || value.substr(0, 4) === 'http') {
          value = '<a class="' + this.cssPrefix + '" title="Click to insert into URL field" ' +
            'response-anchor add-root-url href="' + value + '">' + value + '</a>';
        }
      } else {
        value = 'null';
      }
      result += '&quot;';
      result += '<span class="' + this.cssPrefix + 'stringValue">';
      result += value;
      result += '</span>';
      result += '&quot;';
      return result;
    };

    JSONViewer.prototype.parseObject = function(object) {
      var result = '';
      result += '{';
      result += '<div collapse-indicator class="' + this.cssPrefix + 'info-row">...</div>';
      Object.getOwnPropertyNames(object)
      .forEach(function(key, i, arr) {
        var value = object[key];
        var lastSibling = (i + 1) === arr.length;
        var parseOpts = {
          hasNextSibling: !lastSibling
        };
        if (value instanceof Array) {
          parseOpts.holdComa = true;
        }
        var elementNo = this.elementsCounter++;
        var data = this.parse(value, parseOpts);
        var hasManyChildren = this.elementsCounter - elementNo > 1;
        result += '<div data-element="' + elementNo + '" style="margin-left: 24px" class="' +
          this.cssPrefix + 'node">';
        var _nan = isNaN(key);
        if (_nan) {
          result += '&quot;';
        }
        result += this.parseKey(key);
        if (_nan) {
          result += '&quot;';
        }
        result += ': ' + data;
        if (hasManyChildren) {
          result += '<div data-toggle="' + elementNo + '" class="' + this.cssPrefix +
            'rootElementToggleButton"></div>';
        }
        result += '</div>';
      }, this);
      result += '}';
      return result;
    };

    JSONViewer.prototype.parseArray = function(array) {
      var cnt = array.length;
      var result = '';
      result += '<span class="' + this.cssPrefix + 'punctuation dimmed">[</span>';
      result += '<span class="' + this.cssPrefix + 'array-counter brace punctuation" count="' +
        cnt + '"></span>';
      for (var i = 0; i < cnt; i++) {
        var elementNo = this.elementsCounter++;

        var lastSibling = (i + 1) === cnt;
        var data = this.parse(array[i], {
          hasNextSibling: !lastSibling
        });
        var hasManyChildren = this.elementsCounter - elementNo > 1;
        result += '<div data-element="' + elementNo +
          '" style="margin-left: 24px" class="' + this.cssPrefix + 'node">';
        result += '<span class="' + this.cssPrefix + 'array-key-number" index="' + i +
          '"> &nbsp;</span>';
        result += data;
        if (hasManyChildren) {
          result += '<div data-toggle="' + elementNo + '" class="' + this.cssPrefix +
            'rootElementToggleButton"></div>';
        }
        result += '</div>';
      }
      result += '<span class="' + this.cssPrefix + 'punctuation dimmed">],</span>';
      return result;
    };

    JSONViewer.prototype.parseKey = function(key) {
      var result = '';
      result += '<span class="' + this.cssPrefix + 'key-name">' + key + '</span>';
      return result;
    };

    self.onmessage = function(e) {
      try {
        var parser = new JSONViewer(e.data);
        if (parser.latestError !== null) {
          self.postMessage({
            message: parser.latestError,
            error: true
          });
          return;
        }
        var html = parser.getHTML();
        var result = {
          message: html,
          error: false
        };
        if (e.data.debug) {
          result.measurement = parser.getMeasurements();
        }
        self.postMessage(result);
        parser = null;
      } catch (e) {
        self.postMessage({
          message: e.message,
          error: true
        });
      }
    };</script></template><script>class JsonViewer extends Polymer.Element{static get is(){return"json-viewer"}static get properties(){return{json:{type:String,observer:"_changed"},raw:String,isError:{type:Boolean,readOnly:!0,value:!1,notify:!0},working:{type:Boolean,readOnly:!0,value:!1,notify:!0},showOutput:{type:Boolean,readOnly:!0,value:!1,computed:"_computeShowOutput(working, isError, json)"},_worker:Object,debug:Boolean}}constructor(){super();this._workerError=this._workerError.bind(this);this._workerData=this._workerData.bind(this)}detached(){super.detached();this._removeWorker()}ready(){super.ready();this._isReady=!0;if(this.json){this._changed(this.json)}}_removeWorker(){if(this._worker){this._worker.removeEventListener("message",this._workerData);this._worker.removeEventListener("error",this._workerError);this._worker.terminate();this._worker=void 0;window.URL.revokeObjectURL(this._workerUrl);this._workerUrl=void 0}}_clearOutput(){const node=this.shadowRoot.querySelector("output");node.innerHTML=""}_writeOutput(text){const node=this.shadowRoot.querySelector("output");node.innerHTML=text}_changed(json){if(!this._isReady){return}this._setIsError(!1);this._clearOutput();if(json===void 0){return}let html;if(null===json){html="<div class=\"prettyPrint\"><span class=\"nullValue\">null";html+="</span></div>";this._writeOutput(html);this._setShowOutput(!0);return}if(!1===json){html="<div class=\"prettyPrint\"><span class=\"booleanValue\">false";html+="</span></div>";this._writeOutput(html);this._setShowOutput(!0);return}this._setWorking(!0);let worker=this._worker;if(!worker){const script=this.shadowRoot.querySelector("script[type=\"text/js-worker\"]"),blob=new Blob([script.textContent],{type:"text/javascript"});this._workerUrl=window.URL.createObjectURL(blob);worker=new Worker(this._workerUrl);worker.addEventListener("message",this._workerData);worker.addEventListener("error",this._workerError);this._worker=worker}let debug=this.debug;const ua=navigator.userAgent;if(-1!==ua.indexOf("MSIE ")||-1!==ua.indexOf("Trident")){debug=!1}worker.postMessage({json:json,raw:this.raw,cssPrefix:this.nodeName.toLowerCase()+" style-scope ",debug:debug})}_workerData(e){const data=e.data;if(data.error){this._setIsError(!0)}this._writeOutput(data.message);this._setWorking(!1);if(this.debug&&data.measurement){if(data.measurement.items&&data.measurement.items.length){console.groupCollapsed("JSON viewer parse measurements");console.table(data.measurement.items);console.groupEnd()}}this.dispatchEvent(new CustomEvent("json-viewer-parsed",{}))}_workerError(){this._setIsError(!0);this._setWorking(!1);this.dispatchEvent(new CustomEvent("json-viewer-parsed",{}))}_computeShowOutput(working,isError,json){if(working){return!1}if(isError){return!0}return!!json&&null!==json&&!1!==json}_handleDisplayClick(e){if(!e.target){return}if("A"===e.target.nodeName){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.dispatchEvent(new CustomEvent("url-change-action",{detail:{url:e.target.getAttribute("href")},bubbles:!0,cancelable:!0,composed:!0}));return}const toggleId=e.target.dataset.toggle;if(!toggleId){return}const parent=Polymer.dom(this.root).querySelector("div[data-element=\""+toggleId+"\"]");if(!parent){return}const expanded=parent.dataset.expanded;if(!expanded||"true"===expanded){parent.dataset.expanded="false"}else{parent.dataset.expanded="true"}}_computeActionsPanelClass(showOutput){let clazz="actions-panel";if(!showOutput){clazz+=" hidden"}return clazz}}window.customElements.define(JsonViewer.is,JsonViewer);</script></dom-module><dom-module id="prism-styles" assetpath="bower_components/prism-highlight/"><template><style>code[class*="language-"],
    pre[class*="language-"]{white-space:pre-wrap;word-spacing:normal;word-break:break-all;word-wrap:break-word;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;hyphens:auto;background-color:var(--prism-container-background-color);display:block;@apply --arc-font-code1;@apply --prism-container;}pre[class*="language-"]::-moz-selection,
    pre[class*="language-"]::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"]::-moz-selection{text-shadow:none;background:var(--prism-container-selection-background-color, #b3d4fc);}pre[class*="language-"]::selection,
    pre[class*="language-"]::selection,
    code[class*="language-"]::selection,
    code[class*="language-"]::selection{text-shadow:none;background:var(--prism-container-selection-background-color, #b3d4fc);}@media print{code[class*="language-"],
      pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) > code[class*="language-"],
    pre[class*="language-"]{background:#f5f2f0;}:not(pre) > code[class*="language-"]{padding:.1em;border-radius:.3em;white-space:normal;}.token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata{color:slategray;}.token.punctuation{color:var(--code-punctuation-value-color, #999);}.namespace{opacity:.7;}.token.property,
    .token.tag,
    .token.constant,
    .token.symbol,
    .token.deleted{color:var(--code-property-value-color, #905);}.token.number{color:var(--code-type-number-value-color, #905);}.token.boolean{color:var(--code-type-boolean-value-color, #905);}.token.selector,
    .token.attr-name,
    .token.string,
    .token.char,
    .token.builtin,
    .token.inserted{color:var(--code-type-text-value-color, #690);}.token.operator,
    .token.entity,
    .token.url,
    .language-css .token.string,
    .style .token.string{color:#a67f59;background:hsla(0, 0%, 100%, .5);}.token.atrule,
    .token.attr-value,
    .token.keyword{color:var(--code-keyword-value-color, #07a);}.token.function{color:var(--code-function-value-color, #DD4A68);}.token.regex,
    .token.important,
    .token.variable{color:var(--code-variable-value-color, #e90);}.token.important,
    .token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}</style></template></dom-module><dom-module id="prism-highlight" assetpath="bower_components/prism-highlight/"><template><style include="prism-styles">:host{display:block;@apply --prism-highlight;}pre{-webkit-user-select:text;margin:8px;@apply --prism-highlight-code;}paper-progress{width:100%;}.worker-error{color:var(--error-color);}</style><pre class="parsed-content"><code id="output" class="language-" on-click="_handleLinks"></code></pre><template is="dom-if" if="[[hasMore]]"><div><paper-button raised="" on-tap="_loadNext" data-action="load-next">Show next [[maxRead]] lines</paper-button><paper-button raised="" on-tap="_loadAll" data-action="load-all">Display all</paper-button></div></template><paper-progress indeterminate="" hidden$="[[!working]]"></paper-progress></template><script>class PrismHighlight extends Polymer.Element{static get is(){return"prism-highlight"}static get properties(){return{code:String,lang:String,tokenized:{type:Array,readOnly:!0},hasMore:{type:Boolean,readOnly:!0,computed:"_computeHasMore(tokenized)"},maxRead:{type:Number,value:500},working:{type:Boolean,value:!1,readOnly:!0},worker:{type:Object,readOnly:!0},tokenizeTimeout:{type:Number,value:5e3}}}static get observers(){return["_highlight(code, lang)"]}constructor(){super();this._onWorkerData=this._onWorkerData.bind(this);this._onWorkerError=this._onWorkerError.bind(this);this._onTokenizeTimeout=this._onTokenizeTimeout.bind(this)}detached(){super.detached();this._unregisterWorker()}reset(){this._setTokenized(void 0);this._setWorking(!1);this.$.output.innerHTML=""}_highlight(code,lang){if(!code||!lang){return}this.reset();if(this._highlightDebounce){return}this._highlightDebounce=!0;setTimeout(()=>{this._highlightDebounce=!1;const message={language:this.lang,code:this.code,payload:"tokenize"};this._runWorker(message)},10)}_runWorker(message){this._setWorking(!0);if(!this.worker){this._registerWorker()}this.worker.postMessage(message);const timeout=this.tokenizeTimeout;if(timeout){this._tokenizeTimeout=window.setTimeout(this._onTokenizeTimeout,timeout)}}_clearTokenizeTimeout(){if(!this._tokenizeTimeout){return}window.clearTimeout(this._tokenizeTimeout);this._tokenizeTimeout=void 0}_registerWorker(){if(this.worker){return}const worker=new Worker(this.resolveUrl("workers/prism-worker.js"));worker.addEventListener("message",this._onWorkerData);worker.addEventListener("error",this._onWorkerError);this._setWorker(worker)}_unregisterWorker(){if(!this.worker){return}this._clearTokenizeTimeout();this.worker.removeEventListener("message",this._onWorkerData);this.worker.removeEventListener("error",this._onWorkerError);this.worker.terminate();this._setWorker(void 0)}_onWorkerData(e){this._setWorking(!1);this._clearTokenizeTimeout();switch(e.data.payload){case"error":this._renderWorkerError();this._notifyError(e.data);console.warn(e.data);break;case"tokenize":this._onTokenized(e.data.tokens);break;case"stringify":this._display(e.data.html);this.dispatchEvent(new CustomEvent("prism-highlight-parsed",{bubbles:!1}));break;}}_renderWorkerError(){const p=document.createElement("p");p.className="worker-error";p.innerText="Script error. Displaying unprocessed data.";this.$.output.innerHTML="";this.$.output.appendChild(p);const div=document.createElement("div");div.className="raw-content";div.innerText=this.code;this.$.output.appendChild(div);this._setTokenized(void 0)}_notifyError(e){this.dispatchEvent(new CustomEvent("error",{bubbles:!1,detail:{message:e.message}}))}_onWorkerError(e){this._setWorking(!1);this._clearTokenizeTimeout();this._renderWorkerError();this._notifyError(e);this.dispatchEvent(new CustomEvent("app-log",{bubbles:!0,composed:!0,detail:{message:e,level:"error"}}))}_onTokenized(tokens){this._setTokenized(tokens);this._loadNext()}_loadNext(){if(!this.tokenized||0===this.tokenized.length){return}const tokens=this.splice("tokenized",0,this.maxRead);this._runWorker({tokens:tokens,payload:"stringify"});if(0===this.tokenized.length){this._setTokenized(void 0)}}_loadAll(){const tokens=this.tokenized;this._setTokenized(void 0);this._runWorker({tokens:tokens,payload:"stringify"})}_display(html){this.$.output.innerHTML+=html}_computeHasMore(tokenized){if(!tokenized||0===tokenized.length){return!1}return!0}_handleLinks(e){var el=e.target;if("A"!==el.nodeName){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();this.dispatchEvent(new CustomEvent("url-change-action",{cancelable:!0,bubbles:!0,composed:!0,detail:{url:el.href}}))}_onTokenizeTimeout(){this._setWorking(!1);this._unregisterWorker();this.dispatchEvent(new CustomEvent("prism-highlight-timeout",{cancelable:!0,bubbles:!1,detail:{message:"Highlighter is unable to highlight the syntax."}}))}}window.customElements.define(PrismHighlight.is,PrismHighlight);</script></dom-module><dom-module id="response-highlighter" assetpath="bower_components/response-highlighter/"><template><style>:host{display:block;@apply --response-highlighter;}.actions-panel{@apply --layout-horizontal;@apply --layout-center;@apply --response-highlighter-action-bar;}.actions-panel.hidden{display:none;}.no-info{@apply --no-info-message;}[hidden]{display:none !important;}</style><div class$="[[_computeActionsPanelClass(hasResponse)]]"><slot name="content-action"></slot></div><prism-highlight max-read="[[maxRead]]" hidden$="[[!hasResponse]]" code="[[responseText]]" lang$="[[lang]]" on-prism-highlight-timeout="_prismTimeout"></prism-highlight><p class="no-info" hidden$="[[hasResponse]]">Nothing to display.</p></template><script>class ResponseHighlighter extends Polymer.Element{static get is(){return"response-highlighter"}static get properties(){return{responseText:String,hasResponse:{type:Boolean,value:!1,computed:"_computeHasResponse(responseText)"},contentType:String,maxRead:Number,lang:{type:String,computed:"_computeLang(contentType)"},isTimeout:{type:Boolean,readOnly:!0,notify:!0}}}static get observers(){return["_clearTimeout(lang, hasResponse)"]}_computeHasResponse(responseText){return!!responseText}_computeActionsPanelClass(hasResponse){let clazz="actions-panel";if(!hasResponse){clazz+=" hidden"}return clazz}_computeLang(contentType){if(!contentType||!contentType.indexOf){return}if(-1!==contentType.indexOf(";")){return contentType.split(";")[0]}return contentType}_prismTimeout(){this._setIsTimeout(!0)}_clearTimeout(){if(this.isTimeout){this._setIsTimeout(!1)}}}window.customElements.define(ResponseHighlighter.is,ResponseHighlighter);</script></dom-module><dom-module id="response-body-view" assetpath="bower_components/response-body-view/"><template strip-whitespace=""><style>:host{display:block;position:relative;@apply --response-body-view;}#webView{width:100%;height:100%;background-color:#fff;border:0;margin-top:12px;}#saveDialog{min-width:320px;}paper-icon-button{transition:color 0.25s ease-in-out;}paper-icon-button[toggles]{color:var(--content-action-button-color, rgba(0, 0, 0, 0.74));}paper-icon-button:hover{color:var(--content-action-button-color-hover, var(--accent-color, rgba(0, 0, 0, 0.74)));}paper-icon-button[active]{background-color:var(--response-raw-viewer-button-active, #BDBDBD);border-radius:50%;}.close-preview{position:absolute;top:8px;right:12px;background:#fff;color:rgba(0,0,0,0.74);@apply --response-body-view-preview-close;}[hidden]{display:none !important;}.content-actions{@apply --layout-horizontal;@apply --layout-center;@apply --response-body-view-content-actions;}.dialog-title{@apply --arc-font-common-base;@apply --response-body-view-dialog-title;}.buttons{@apply --response-body-view-dialog-buttons;}.button-dismiss{@apply --response-body-view-dialog-close;}.button-dismiss:hover{@apply --response-body-view-dialog-close-hover;}.button-download{@apply --response-body-view-dialog-download;}.button-download:hover{@apply --response-body-view-dialog-download-hover;}.download-link{text-decoration:none;color:inherit;outline:none;}</style><template is="dom-if" if="[[hasData]]"><div class="content-actions" hidden$="[[contentPreview]]"><paper-icon-button data-action="clipboard-copy" icon="arc:content-copy" on-click="_copyToClipboard" title="Copy content to clipboard"></paper-icon-button><paper-icon-button data-action="save-file" icon="arc:archive" on-click="_saveFile" title="Save content to file"></paper-icon-button><paper-icon-button data-action="raw-toggle" icon="arc:code" toggles="" active="{{rawView}}" title="Toogle raw response view"></paper-icon-button><template is="dom-if" if="[[_computeRenderPreviewResponse(activeView)]]"><paper-icon-button data-action="preview" icon="arc:visibility" toggles="" active="{{contentPreview}}" title="Preview response"></paper-icon-button></template><template is="dom-if" if="[[isJson]]"><paper-icon-button data-action="json-table" icon="arc:view-column" toggles="" active="{{jsonTableView}}" title="Toggle structured table view"></paper-icon-button></template><template is="dom-if" if="[[_computeRenderWithRaw(activeView)]]"><paper-icon-button icon="arc:wrap-text" toggles="" active="{{rawTextWrap}}" title="Toggle text wrapping"></paper-icon-button></template></div></template><iron-pages selected="{{activeView}}" hidden$="[[contentPreview]]"><response-raw-viewer response-text="[[_getRawContent(_raw)]]" wrap-text$="[[rawTextWrap]]"></response-raw-viewer><section><template is="dom-if" if="[[isParsed]]" restamp="true"><response-highlighter response-text="[[_getRawContent(_raw)]]" content-type="[[contentType]]" is-timeout="{{prismTimeout}}"></response-highlighter></template></section><section><template is="dom-if" if="[[isJson]]" restamp="true"><json-viewer json="[[_getRawContent(_raw)]]"></json-viewer></template></section><section><template is="dom-if" if="[[isXml]]" restamp="true"><xml-viewer xml="[[_getRawContent(_raw)]]"></xml-viewer></template></section><section><template is="dom-if" if="[[_computeRenderJsonTable(isJson, jsonTableView)]]" restamp="true"><json-table json="[[_getRawContent(_raw)]]"></json-table></template></section></iron-pages><iframe id="webView" hidden$="[[!contentPreview]]"></iframe><paper-icon-button class="close-preview" title="Close response preview" icon="arc:close" on-click="closePreview" hidden$="[[!contentPreview]]"></paper-icon-button><paper-dialog id="saveDialog" on-iron-overlay-closed="_downloadDialogClose"><h2 class="dialog-title">Saving to file</h2><div><p>Your file is now ready to download.</p></div><div class="buttons"><paper-button class="button-dismiss" dialog-dismiss="">Close</paper-button><a href$="[[downloadFileUrl]]" autofocus="" download$="[[downloadFileName]]" on-click="_downloadIconTap" target="_blank" class="download-link"><paper-button class="button-download">Download file</paper-button></a></div></paper-dialog><clipboard-copy content="[[_getRawContent(_raw)]]"></clipboard-copy><paper-toast id="safariDownload" text="Safari doesn't support file download. Please, use other browser."></paper-toast><paper-toast id="highlightTimeout"></paper-toast><script id="preview" type="text/html"><!DOCTYPE html><html><head><title>Advanced REST client - preview</title><style>
        body,html{overflow:auto;margin:0;padding:0}body{margin:16px;min-height:200px}
        </style></head><body></body></html></script></template><script>class ResponseBodyView extends Polymer.Element{static get is(){return"response-body-view"}static get properties(){return{responseText:{type:String,observer:"_responseTextChanged"},_raw:String,contentType:String,charset:String,contentPreview:{type:Boolean,value:!1,observer:"_contentPreviewChanged"},isParsed:{type:Boolean,value:!1,readOnly:!0},isJson:{type:Boolean,value:!1,readOnly:!0},isXml:{type:Boolean,value:!1,readOnly:!0},activeView:Number,downloadFileUrl:{type:String,readOnly:!0},downloadFileName:{type:String,readOnly:!0},rawTextWrap:Boolean,rawView:{type:Boolean,observer:"_toggleViewSource"},jsonTableView:{type:Boolean,observer:"_jsonTableViewChanged"},hasData:{value:!1,type:Boolean,computed:"_computeHasData(contentType, _raw)"},prismTimeout:{type:Boolean,observer:"_onPrismHighlightTimeout"},hasLocalStorage:{type:Boolean,readOnly:!0,value:function(){if("undefined"!==typeof chrome&&chrome.i18n){return!1}try{localStorage.getItem("test");return!0}catch(_){return!1}}}}}static get observers(){return["_contentTypeChanged(contentType, _raw)"]}constructor(){super();this._onStorageChanged=this._onStorageChanged.bind(this);this._onJsonTableStateChanged=this._onJsonTableStateChanged.bind(this)}connectedCallback(){super.connectedCallback();window.addEventListener("storage",this._onStorageChanged);window.addEventListener("json-table-state-changed",this._onJsonTableStateChanged)}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("storage",this._onStorageChanged);window.removeEventListener("json-table-state-changed",this._onJsonTableStateChanged);if(this.__previewUrl){window.URL.revokeObjectURL(this.__previewUrl);this.__previewUrl=void 0}}_onPrismHighlightTimeout(state){if(!state){return}this.__parsedView=this.activeView;this.activeView=0;let message="Response pasing timeout. The response body might be";message+=" to long.";this.$.highlightTimeout.text=message;this.$.highlightTimeout.opened=!0}_responseTextChanged(payload){this._setIsXml(!1);this._setIsJson(!1);this._setIsParsed(!1);if(payload===void 0){this.set("_raw",void 0);return}if(null===payload||!1===payload){this.set("_raw",payload);return}this.set("_raw",void 0);if(!payload){return}if(this.__setRawDebouncer){return}this.__setRawDebouncer=!0;setTimeout(()=>{this.__setRawDebouncer=!1;this.set("_raw",this.responseText)},1)}_computeHasData(contentType,_raw){return!!(contentType&&_raw)}_contentTypeChanged(contentType){let parsed=!1,json=!1,xml=!1;this.contentPreview=!1;if(contentType){if(-1!==contentType.indexOf("xml")){this.activeView=3;xml=!0}else if(-1!==contentType.indexOf("json")){this.activeView=2;json=!0}else{this.activeView=1;parsed=!0}}this._setIsXml(xml);this._setIsJson(json);this._setIsParsed(parsed);if(json){this._ensureJsonTable()}}_ensureJsonTable(){if(!this.hasLocalStorage){return}const isTable=this._localStorageValueToBoolean(localStorage.jsonTableEnabled);if(this.jsonTableView!==isTable){this.jsonTableView=isTable}if(this.jsonTableView){this.activeView=4}else if(4===this.activeView){this.activeView=2}}_contentPreviewChanged(val){if(val){this._openResponsePreview()}else{this._closeResponsePreview()}}_getRawContent(){let raw=this._raw;if(!raw||"string"===typeof raw){return raw}if(raw&&"Buffer"===raw.type){raw=new Uint16Array(raw.data)}const ce=this.charset||"utf-8",decoder=new TextDecoder(ce);return decoder.decode(raw)}_openResponsePreview(){const context=this,raw=this._getRawContent();function onLoad(){try{context.$.webView.contentWindow.document.body.innerHTML=raw}catch(_){}setTimeout(()=>{context._resizePreviewWindow(context.$.webView.contentWindow.document.body.clientHeight)},2)}if(!this.$.webView.src){const blob=new Blob([this.$.preview.textContent],{type:"text/html"});this.__previewUrl=window.URL.createObjectURL(blob);this.$.webView.src=this.__previewUrl;this.$.webView.addEventListener("load",()=>onLoad())}else{onLoad()}}_closeResponsePreview(){try{this.$.webView.contentWindow.document.body.innerHTML=""}catch(_){}}_resizePreviewWindow(height){if(!height){this.$.webView.style.height="auto"}else{this.$.webView.style.height=height+"px"}}_copyToClipboard(e){const button=e.composedPath()[0],copy=this.shadowRoot.querySelector("clipboard-copy");if(copy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>this._resetCopyButtonState(button),1e3)}_resetCopyButtonState(button){button.icon="arc:content-copy"}_saveFile(){const e=new CustomEvent("export-data",{bubbles:!0,composed:!0,cancelable:!0,detail:{destination:"file",data:this._getRawContent(),type:this.contentType,file:"response-data-export"}});this.dispatchEvent(e);if(e.defaultPrevented){return}this.saveToFile()}saveToFile(){let ext=".";if(this.isJson){ext+="json"}else if(this.isXml){ext+="xml"}else{ext+="txt"}const ct=this.contentType||"text/plain",raw=this._getRawContent(),file=new Blob([raw],{type:ct}),fileName="response-"+new Date().toISOString()+ext;this._setDownloadFileUrl(URL.createObjectURL(file));this._setDownloadFileName(fileName);this.$.saveDialog.opened=!0}_downloadIconTap(){setTimeout(()=>{this.$.saveDialog.opened=!1},250)}_downloadDialogClose(){URL.revokeObjectURL(this.downloadFileUrl);this._setDownloadFileUrl(void 0);this._setDownloadFileName(void 0)}_toggleViewSource(opened){if(!opened){if(!this.__parsedView){return}this.activeView=this.__parsedView;this.__parsedView=void 0;if(2===this.activeView&&this.jsonTableView){this.jsonTableView=!1}}else{if(this.jsonTableView){this._skipJsonTableEvent=!0;this.jsonTableView=!1;this._skipJsonTableEvent=!1}this.__parsedView=this.activeView;this.activeView=0}}_jsonTableViewChanged(state){if(state){if(this.rawView){this.__parsedView=void 0;this.rawView=!1}this.activeView=4}else{this.activeView=2}if(this._skipJsonTableEvent){return}if(this.hasLocalStorage){if(localStorage.jsonTableEnabled!==state+""){window.localStorage.setItem("jsonTableEnabled",state)}}this.dispatchEvent(new CustomEvent("json-table-state-changed",{detail:{enabled:state},bubbles:!0,composed:!0}))}_onStorageChanged(e){if("jsonTableEnabled"!==e.key){return}if(!e.newValue){return}const v=this._localStorageValueToBoolean(e.newValue);if(this.jsonTableView!==v){this._skipJsonTableEvent=!0;this.jsonTableView=v;this._skipJsonTableEvent=!1}}_localStorageValueToBoolean(value){if(!value){return!1}if("true"===value){value=!0}else{value=!1}return value}_onJsonTableStateChanged(e){if(e.target===this){return}const enabled=e.detail.enabled;if(enabled!==this.jsonTableView){this._skipJsonTableEvent=!0;this.jsonTableView=enabled;this._skipJsonTableEvent=!1}}closePreview(){this.contentPreview=!1}_computeRenderWithRaw(activeView){return 0===activeView?!0:!1}_computeRenderShowRaw(activeView){return 0===activeView?!1:!0}_computeRenderPreviewResponse(activeView){return 1===activeView?!0:!1}_computeRenderToggleTable(activeView){return 4===activeView||2===activeView?!0:!1}_computeRenderJsonTable(isJson,jsonTableView){return!!(isJson&&jsonTableView)}}window.customElements.define(ResponseBodyView.is,ResponseBodyView);</script></dom-module><dom-module id="response-view" assetpath="bower_components/response-view/"><template><style>:host{display:block;@apply --response-view;}.empty-info{@apply --no-info-message;}</style><response-status-view status-code="[[statusCode]]" status-message="[[statusMessage]]" request-headers="[[requestHeaders]]" response-headers="[[responseHeaders]]" loading-time="[[loadingTime]]" http-message="[[sentHttpMessage]]" redirects="[[redirects]]" redirect-timings="[[redirectTimings]]" timings="[[responseTimings]]" is-xhr="[[isXhr]]" request-url="[[requestUrl]]" request-method="[[requestMethod]]"></response-status-view><template is="dom-if" if="[[hasResponse]]"><template is="dom-if" if="[[_renderError]]"><response-error-view message="[[responseError.message]]"></response-error-view></template><template is="dom-if" if="[[hasResponseBody]]"><response-body-view response-text="[[responseBody]]" content-type="[[contentType]]" charset="[[charset]]"></response-body-view></template></template><template is="dom-if" if="[[!hasResponse]]"><p class="empty-info">This response does not carry a payload.</p></template></template><script>class ResponseView extends Polymer.Element{static get is(){return"response-view"}static get properties(){return{response:{type:Object,observer:"_responseChanged"},request:{type:Object,observer:"_requestChanged"},responseError:Object,responseBody:String,statusCode:Number,statusMessage:String,requestHeaders:String,responseHeaders:String,contentType:String,responseTimings:Object,loadingTime:Number,sentHttpMessage:String,redirects:Array,redirectTimings:Array,hasResponse:{type:Boolean,value:!0,computed:"_computeHasResponse(request)"},hasResponseBody:{type:Boolean,value:!1,computed:"_computeHasResponseBody(responseBody)"},isError:{type:Boolean,value:!1},isXhr:{type:Boolean,value:!1},requestUrl:String,requestMethod:String,_renderError:{type:Boolean,computed:"_computeRenderError(isError, hasResponseBody)"},charset:{type:String,readOnly:!0}}}_reset(){this.statusCode=void 0;this.statusMessage=void 0;this.responseHeaders=void 0;this.responseBody=void 0;this.contentType=void 0}_responseChanged(response){this._reset();if(!response){return}this.statusCode=response.status;this.statusMessage=response.statusText;this.responseHeaders=response.headers;let[contentType,charset]=this._readContentType(response.headers);if(!contentType){contentType="text/plain"}this._setCharset(charset);this.responseBody=response.payload;this.contentType=contentType}_readContentType(headers){if(!headers||"string"!==typeof headers){return[]}const ctMatches=headers.match(/^\s*content\-type\s*:\s*(.*)$/im);if(!ctMatches){return[]}let mime=ctMatches[1];const charset=this._computeCharset(mime);let index=mime.indexOf(";");if(-1!==index){mime=mime.substr(0,index)}return[mime,charset]}_requestChanged(request){this.requestHeaders=void 0;if(!request){return}this.requestUrl=request.url;this.requestMethod=request.method;this.requestHeaders=request.headers}_computeHasResponse(request){if(request&&"HEAD"===request.method){return!1}return!0}_computeHasResponseBody(body){return!!body}_computeRenderError(isError,hasResponseBody){return!!(isError&&!hasResponseBody)}_computeCharset(contentType){if(!contentType||!contentType.split){return}if(-1===contentType.indexOf("charset")){return}const parts=contentType.split(";");for(let i=0,len=parts.length,part;i<len;i++){part=parts[i].trim();const _tmp=part.split("=");if("charset"===_tmp[0]){return _tmp[1].trim()}}}}window.customElements.define(ResponseView.is,ResponseView);</script></dom-module><dom-module id="api-request-panel" assetpath="bower_components/api-request-panel/"><template><style>:host{display:block;@apply --api-request-panel;}response-view{margin-top:var(--api-request-panel-response-margin-top, 12px);}</style><api-request-editor narrow="{{narrow}}" redirect-uri="[[redirectUri]]" selected="[[selected]]" amf-model="[[amfModel]]" no-url-editor="[[noUrlEditor]]" base-uri="[[baseUri]]" url="{{editorRequest.url}}" http-method="{{editorRequest.method}}" headers="{{editorRequest.headers}}" payload="{{editorRequest.payload}}" query-model="{{editorRequest.queryModel}}" path-model="{{editorRequest.pathModel}}" no-docs="[[noDocs]]" events-target="[[eventsTarget]]" allow-hide-optional="[[allowHideOptional]]" allow-disable-params="[[allowDisableParams]]" allow-custom="[[allowCustom]]"></api-request-editor><template is="dom-if" if="[[hasResponse]]"><response-view request="[[request]]" response="[[response]]" response-error="[[responseError]]" is-error="[[isErrorResponse]]" is-xhr="[[responseIsXhr]]" loading-time="{{loadingTime}}" redirects="[[redirects]]" redirect-timings="[[redirectsTiming]]" response-timings="[[timing]]" sent-http-message="[[sourceMessage]]"></response-view></template><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template></template><script>class ApiRequestPanel extends Polymer.mixinBehaviors([Polymer.IronScrollTargetBehavior],ArcBehaviors.EventsTargetBehavior(ArcBehaviors.HeadersParserBehavior(Polymer.Element))){static get is(){return"api-request-panel"}static get properties(){return{aware:String,selected:{type:String,observer:"_selectedChanged"},handleNavigationEvents:{type:Boolean,observer:"_handleNavChanged"},amfModel:Object,noUrlEditor:Boolean,baseUri:String,redirectUri:String,narrow:{type:Boolean,notify:!0,reflectToAttribute:!0},editorRequest:{type:Object,notify:!0,value:function(){return{}}},request:Object,response:Object,hasResponse:{type:Boolean,computed:"_computeHasResponse(response, responseError)"},isErrorResponse:Boolean,responseIsXhr:{type:Boolean,value:!0},responseError:Object,loadingTime:Number,timing:Object,redirectsTiming:Array,redirects:Array,sourceMessage:String,scrollTarget:HTMLElement,appendHeaders:Array,proxy:String,proxyEncodeUrl:Boolean,bowerLocation:{type:String,observer:"_updateRedirectUri"},lastRequestId:String,noDocs:Boolean,allowHideOptional:Boolean,allowDisableParams:Boolean,allowCustom:Boolean}}static get observers(){return["_editorRequestChanged(editorRequest.*)"]}constructor(){super();this._apiResponseHandler=this._apiResponseHandler.bind(this);this._apiRequestHandler=this._apiRequestHandler.bind(this);this._navigationHandler=this._navigationHandler.bind(this)}ready(){super.ready();if(!this.redirectUri){this._updateRedirectUri(this.bowerLocation)}}_attachListeners(){window.addEventListener("api-response",this._apiResponseHandler);this.addEventListener("api-request",this._apiRequestHandler)}_detachListeners(){window.removeEventListener("api-response",this._apiResponseHandler);this.removeEventListener("api-request",this._apiRequestHandler);if(this.__navEventsRegistered){this._unregisterNavigationEvents()}}_registerNavigationEvents(){this.__navEventsRegistered=!0;window.addEventListener("api-navigation-selection-changed",this._navigationHandler)}_unregisterNavigationEvents(){this.__navEventsRegistered=!1;window.removeEventListener("api-navigation-selection-changed",this._navigationHandler)}_handleNavChanged(state){if(state){this._registerNavigationEvents()}else{this._unregisterNavigationEvents()}}_navigationHandler(e){let id=e.detail.selected;if("method"!==e.detail.type){id=void 0}this.selected=id}_updateRedirectUri(location){const a=document.createElement("a");if(!location){location="bower_components/"}if(location&&"/"!==location[location.length-1]){location+="/"}a.href=location+"oauth-authorization/oauth-popup.html";this.redirectUri=a.href}_computeHasResponse(response,responseError){return!!response||!!responseError}_apiRequestHandler(e){this.lastRequestId=e.detail.id;this._appendConsoleHeaders(e);this._appendProxy(e)}_appendConsoleHeaders(e){const headersToAdd=this.appendHeaders;if(!headersToAdd){return}let eventHeaders=e.detail.headers||"";for(let i=0,len=headersToAdd.length;i<len;i++){const header=headersToAdd[i];eventHeaders=this.replaceHeaderValue(eventHeaders,header.name,header.value)}e.detail.headers=eventHeaders}_appendProxy(e){const proxy=this.proxy;if(!proxy){return}let url=this.proxyEncodeUrl?encodeURIComponent(e.detail.url):e.detail.url;url=proxy+url;e.detail.url=url}_apiResponseHandler(e){if(this.lastRequestId!==e.detail.id){return}this._propagateResponse(e.detail);setTimeout(()=>{const panel=this.shadowRoot.querySelector("response-view"),position=panel.offsetTop;this.scroll(0,position)},1)}_propagateResponse(data){this.isErrorResponse=data.isError;this.responseError=data.isError?data.error:void 0;this.loadingTime=data.loadingTime;this.request=data.request;this.response=data.response;const isXhr=!1===data.isXhr?!1:!0;this.responseIsXhr=isXhr;this.redirects=isXhr?void 0:data.redirects;this.redirectsTiming=isXhr?void 0:data.redirectsTiming;this.timing=isXhr?void 0:data.timing;this.sourceMessage=data.sentHttpMessage}_selectedChanged(id){if(!id){return}this.clearResponse()}clearResponse(){this.isErrorResponse=void 0;this.responseError=void 0;if(this.loadingTime){this.loadingTime=void 0}if(this.request){this.request=void 0}if(this.response){this.response=void 0}if(this.responseIsXhr!==void 0){this.responseIsXhr=void 0}if(this.redirects){this.redirects=void 0}if(this.redirectsTiming){this.redirectsTiming=void 0}if(this.timing){this.timing=void 0}if(this.sourceMessage){this.sourceMessage=void 0}}_editorRequestChanged(record){this.dispatchEvent(new CustomEvent("api-request-data-changed",{bubbles:!0,composed:!0,detail:record.base}))}}window.customElements.define(ApiRequestPanel.is,ApiRequestPanel);</script></dom-module><dom-module id="api-endpoint-documentation" assetpath="bower_components/api-endpoint-documentation/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;@apply --arc-font-body1;@apply --api-endpoint-documentation;}h1{@apply --arc-font-display1;}h2{@apply --arc-font-title;font-size:22px;}:host([narrow]) h1{font-size:20px;margin:0;}:host([narrow]) h2{font-size:18px;}marked-element{margin:12px 0;}.markdown-body{margin-bottom:28px;color:var(--api-endpoint-documentation-description-color, rgba(0, 0, 0, 0.74));@apply --arc-font-body1;}.extensions{font-style:italic;margin:12px 0;}.bottom-nav,
    .bottom-link{@apply --layout-horizontal;@apply --layout-center;}.bottom-nav{padding:32px 0;margin:16px 0;color:var(--api-endpoint-documentation-bottom-navigation-color, #000);font-size:18px;}.bottom-link{cursor:pointer;max-width:50%;word-break:break-all;}.bottom-link.previous{margin-right:12px;}.bottom-link.next{margin-left:12px;}.nav-separator{@apply --layout-flex;}.url-area{@apply --layout-flex;@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-endpoint-documentation-url-font-size, 16px);margin-bottom:40px;background:var(--api-endpoint-documentation-url-background-color, #424242);color:var(--api-endpoint-documentation-url-font-color, #fff);padding:8px;border-radius:4px;}.url-area[extra-margin]{margin-top:20px;}.url-value{@apply --layout-flex;word-break:break-all;}.method-label{margin-bottom:0px;}.method-anchor{text-decoration:none;color:inherit;@apply --arc-font-body1;font-size:16px;@apply --arc-link;}.method-anchor:hover{text-decoration:underline;}.method{margin:0.83em 0;}.method p{margin:0;}.method-name + p{margin-top:0.83em;}.method-container{@apply --layout-horizontal;padding:24px 0;box-sizing:border-box;border-top:2px var(--api-endpoint-documentation-method-doc-border-top-color, #E5E5E5) var(--api-endpoint-documentation-method-doc-border-top-style, dashed);}:host([narrow]) .method-container{@apply --layout-vertical;}.method-container api-method-documentation{width:var(--api-endpoint-documentation-method-doc-width, 60%);max-width:var(--api-endpoint-documentation-method-doc-max-width);padding-right:12px;box-sizing:border-box;}.method-container .try-it-column{width:var(--api-endpoint-documentation-tryit-width, 40%);max-width:var(--api-endpoint-documentation-tryit-max-width);background-color:var(--api-endpoint-documentation-tryit-background-color, #ECEFF1);}:host([narrow]) .method-container api-method-documentation,
    :host([narrow]) .method-container .try-it-column{border:none !important;max-width:900px;width:100%;margin:0;padding:0;}.try-it-column api-request-panel,
    .try-it-column http-code-snippets{margin:12px;padding:8px;background-color:var(--api-endpoint-documentation-tryit-panels-background-color, #fff);box-sizing:border-box;border-radius:var(--api-endpoint-documentation-tryit-panels-border-radius, 3px);border:1px var(--api-endpoint-documentation-tryit-panels-border-color, #EEEEEE) var(--api-endpoint-documentation-tryit-panels-border-style, solid);}.try-it-column h3{padding-left:12px;padding-right:12px;@apply --layout-flex;@apply --arc-font-title;@apply --api-endpoint-documentation-tryit-section-title;}.section-title-area{@apply --layout-horizontal;@apply --layout-center;border-bottom:1px var(--api-endpoint-documentation-tryit-title-border-bottom-color, #bac6cb) var(--api-endpoint-documentation-tryit-title-border-bottom-style, solid);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.toggle-button{outline:none;color:var(--api-method-document-toggle-view-color, var(--arc-toggle-view-icon-color, rgba(0, 0, 0, 0.74)));transition:color 0.25s ease-in-out;@apply --toggle-button;}.toggle-button:hover{color:var(--api-method-document-toggle-view-hover-color, var(--arc-toggle-view-icon-hover-color, rgba(0, 0, 0, 0.88)));@apply --toggle-button-hover;}.toggle-icon{margin-left:8px;transform:rotateZ(0deg);transition:transform 0.3s ease-in-out;}.toggle-icon.opened{transform:rotateZ(-180deg);}.noinfo{@apply --no-info-message;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[hasName]]"><h1 class="title">[[endpointName]]</h1></template><template is="dom-if" if="[[!inlineMethods]]"><section class="url-area" extra-margin$="[[!hasName]]"><div class="url-value">[[path]]</div><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-tap="_copyPathClipboard" title="Copy path to clipboard"></paper-icon-button></section><clipboard-copy id="pathCopy" content="[[path]]"></clipboard-copy></template><template is="dom-if" if="[[hasExtension]]"><section class="extensions"><template is="dom-if" if="[[hasParentType]]"><span>Implements </span><span class="resource-type-name" title="Resource type applied to this endpoint">[[parentTypeName]]</span>.</template><template is="dom-if" if="[[hasTraits]]"><span>Mixes in </span><span class="trait-name">[[_computeTraitNames(traits)]]</span>.</template></section></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document shape="[[endpoint]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><h2>Methods</h2><template is="dom-if" if="[[hasOperations]]"><template is="dom-if" if="[[inlineMethods]]" restamp="true"><section class="methods"><template is="dom-repeat" items="[[operations]]" on-dom-change="_operationRendered" initial-count="2"><div class$="method-container [[_computeTryItColumClass(index, operations)]]"><api-method-documentation data-operation-id$="[[_computeOperationId(item)]]" amf-model="[[amfModel]]" endpoint="[[endpoint]]" method="[[item]]" narrow="[[narrow]]" base-uri="[[baseUri]]" no-try-it="[[noTryIt]]" render-security=""></api-method-documentation><div class="try-it-column"><section class="request-panel"><div class="section-title-area" on-click="_toggleRequestPanel" title="Toogle code example details"><h3 class="table-title">Try the API</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(item._tryitOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(item._tryitOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[item._tryitOpened]]"><template is="dom-if" restamp="true" data-type="arp-if" on-dom-change="_tryItRendered"><api-request-panel amf-model="[[amfModel]]" selected="[[_computeTryItSelected(item)]]" narrow="[[narrow]]" no-url-editor="[[noUrlEditor]]" base-uri="[[baseUri]]" redirect-uri="[[redirectUri]]" no-docs=""></api-request-panel></template></iron-collapse></section><section class="snippets"><div class="section-title-area" on-click="_toggleSnippets" title="Toogle code example details"><h3 class="table-title">Code examples</h3><div class="title-area-actions"><paper-button class="toggle-button">[[_computeToggleActionLabel(item._snippetsOpened)]]<iron-icon icon="arc:expand-more" class$="[[_computeToggleIconClass(item._snippetsOpened)]]"></iron-icon></paper-button></div></div><iron-collapse opened="[[item._snippetsOpened]]"><http-code-snippets url="[[endpointUri]]" method="[[_computeHttpMethod(item)]]" headers="[[_computeSnippetsHeaders(item)]]" payload="[[_computeSnippetsPayload(item)]]"></http-code-snippets></iron-collapse></section></div></div></template></section></template><template is="dom-if" if="[[!inlineMethods]]" restamp="true"><section class="methods"><template is="dom-repeat" items="[[operations]]"><div class="method"><div class="method-name"><a href="#" on-click="_methodNavigate" class="method-anchor" data-api-id$="[[item.id]]"><span class="method-label" data-method$="[[item.method]]">[[item.method]]</span> <span class="method-value" data-method$="[[item.name]]">[[item.name]]</span></a></div><template is="dom-if" if="[[item.desc]]"><p>[[item.desc]]</p></template></div></template></section></template></template><template is="dom-if" if="[[!hasOperations]]"><p class="noinfo">This enpoint doesn't have HTTP methods defined in the API specification file.</p></template><template is="dom-if" if="[[hasPagination]]"><section class="bottom-nav"><template is="dom-if" if="[[hasPreviousLink]]"><div class="bottom-link previous" on-tap="_navigatePrevious"><paper-icon-button icon="arc:chevron-left"></paper-icon-button><span class="nav-label">[[previous.label]]</span></div></template><div class="nav-separator"></div><template is="dom-if" if="[[hasNextLink]]"><div class="bottom-link next" on-tap="_navigateNext"><span class="nav-label">[[next.label]]</span><paper-icon-button icon="arc:chevron-right"></paper-icon-button></div></template></section></template><api-example-generator amf-model="[[amfModel]]" id="exampleGenerator"></api-example-generator></template><script>class ApiEndpointDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-endpoint-documentation"}static get properties(){return{aware:String,amfModel:Object,endpoint:{type:Object,observer:"_endpointChnaged"},selected:{type:String},baseUri:String,apiVersion:{type:String,computed:"_computeApiVersion(amfModel)"},endpointUri:{type:String,computed:"_computeEndpointUri(server, endpoint, baseUri, apiVersion)"},server:{type:Object,computed:"_computeServer(amfModel)"},endpointName:{type:String,computed:"_computeEndpointName(endpoint)"},hasName:{type:Boolean,value:!1,computed:"_computeHasStringValue(endpointName)"},description:{type:String,computed:"_computeDescription(endpoint)"},path:{type:String,computed:"_computePath(endpoint)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(endpoint)"},security:{type:Object,computed:"_computeSecurity(endpoint)"},hasSecurity:{type:Boolean,computed:"_computeHasArrayValue(security)"},narrow:{type:Boolean,reflectToAttribute:!0},extendsTypes:{type:Array,computed:"_computeExtendsTypes(endpoint)"},parentType:{type:Object,computed:"_computeParentType(extendsTypes)"},hasParentType:{type:Boolean,computed:"_computeHasParentType(parentType)"},parentTypeName:{type:String,computed:"_computeParentTypeName(parentType)"},traits:{type:Array,computed:"_computeTraits(extendsTypes)"},hasTraits:{type:Boolean,computed:"_computeHasArrayValue(traits)"},hasExtension:{type:Boolean,computed:"_computeHasExtension(hasTraits, hasParentType)"},previous:Object,hasPreviousLink:{type:Boolean,computed:"_computeHasStringValue(previous)"},next:Object,hasNextLink:{type:Boolean,computed:"_computeHasStringValue(next)"},hasPagination:{type:Boolean,computed:"_computeHasNavigation(hasPreviousLink, hasNextLink)"},scrollTarget:{type:Object,observer:"_scrollTargetChanged"},noTryIt:Boolean,operations:{type:Array,computed:"_computeOperations(endpoint, inlineMethods, amfModel)"},hasOperations:{type:Boolean,value:!1,computed:"_computeHasArrayValue(operations)"},inlineMethods:{type:Boolean,value:!1,observer:"_inlineMethodsChanged"},noUrlEditor:Boolean,redirectUri:String,_editorEventTarget:{type:Object,readOnly:!0,value:function(){return this}}}}static get observers(){return["_selectedChanged(selected, endpoint, inlineMethods)"]}constructor(){super();this._scrollHandler=this._scrollHandler.bind(this)}_computeEndpointName(endpoint){const name=this._getValue(endpoint,this.ns.schema.schemaName);return name}_computePath(endpoint){return this._getValue(endpoint,this.ns.raml.vocabularies.http+"path")}_computeExtendsTypes(shape){const key=this._getAmfKey(this.ns.raml.vocabularies.document+"extends");return shape&&this._ensureArray(shape[key])}_computeParentType(types){if(!types||!types.length){return}return types.find(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedResourceType"))}_computeHasParentType(type){return!!type}_computeParentTypeName(type){return this._getValue(type,this.ns.schema.schemaName)}_computeTraits(types){if(!types||!types.length){return}const data=types.filter(item=>this._hasType(item,this.ns.raml.vocabularies.document+"ParametrizedTrait"));return data.length?data:void 0}_computeTraitNames(traits){if(!traits||!traits.length){return}const names=traits.map(trait=>this._getValue(trait,this.ns.schema.schemaName));if(2===names.length){return names.join(" and ")}return names.join(", ")}_computeHasExtension(hasTraits,hasParentType){return!!(hasTraits||hasParentType)}_computeHasNavigation(previous,next){return!!(previous||next)}_navigatePrevious(){this._navigate(this.previous.id,"endpoint")}_navigateNext(){this._navigate(this.next.id,"endpoint")}_navigate(id,type){const e=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:id,type:type}});this.dispatchEvent(e)}_copyPathClipboard(e){const button=e.localTarget||e.target;if(this.$.pathCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}_computeOperations(endpoint,inlineMethods){if(!endpoint){return}const key=this._getAmfKey(this.ns.w3.hydra.supportedOperation),ops=this._ensureArray(endpoint[key]);if(!ops||!ops.length){return}if(inlineMethods){return ops.map(item=>{item._tryitOpened=!0;return item})}const result=[];for(let i=0,len=ops.length;i<len;i++){const op=ops[i],method=this._getValue(op,this.ns.w3.hydra.core+"method"),name=this._getValue(op,this.ns.schema.schemaName),desc=this._getValue(op,this.ns.schema.desc);result[result.length]={method,name,desc,id:op["@id"]}}return result}_methodNavigate(e){e.stopPropagation();e.preventDefault();const target=e.composedPath().find(node=>"A"===node.nodeName),id=target.dataset.apiId;this._navigate(id,"method")}_scrollTargetChanged(st){if(this._oldScrollTarget){this._oldScrollTarget.removeEventListener("scroll",this._scrollHandler);this._oldScrollTarget=void 0}if(st){st.addEventListener("scroll",this._scrollHandler);this._oldScrollTarget=st}}_scrollHandler(){if(!this.inlineMethods){return}Polymer.RenderStatus.afterNextRender(this,this._checkMethodsPosition)}_checkMethodsPosition(){const st=this._oldScrollTarget;if(!st){return}const scroll=st.scrollY||st.scrollTop;if(scroll===void 0){return}const diff=(this._lastScrollPos||0)-scroll;if(0===diff){return}this._lastScrollPos=scroll;const dir=0>diff?"down":"up",scrollHeigth=st.scrollHeight||st.innerHeight,targetHeigth=st.offsetHeight||st.innerHeight;if(!this._methodsList){const section=this.shadowRoot.querySelector("section.methods");this._methodsList=section.childNodes}for(let i=0,len=this._methodsList.length;i<len;i++){const node=this._methodsList[i];if("DIV"!==node.nodeName){continue}if(this._occupiesMainScrollArea(targetHeigth,scrollHeigth,dir,node)){const doc=node.querySelector("api-method-documentation");this._notifyPassiveNavigation(doc.method["@id"]);return}}}_occupiesMainScrollArea(targetHeigth,scrollHeigth,dir,element){const rect=element.getBoundingClientRect();if(0>rect.top&&rect.bottom>targetHeigth){return!0}if(0>rect.bottom||targetHeigth<rect.top||0>rect.top&&0>=rect.top+rect.height){return!1}if(0>rect.top&&"down"===dir&&rect.top+rect.height<targetHeigth/2){return!1}if("down"===dir&&rect.top+rect.height>targetHeigth/2){return!0}const padding=60;if(0<rect.y&&rect.y<padding){if("up"===dir){return!1}return!0}if("up"===dir&&rect.bottom+padding>scrollHeigth&&rect.bottom<targetHeigth){return!0}return!1}_notifyPassiveNavigation(selected){if(this.__notyfyingChange||this.__latestNotified===selected||this.selected===selected){return}this.__latestNotified=selected;this.__notyfyingChange=!0;setTimeout(()=>{this.__notyfyingChange=!1;this.dispatchEvent(new CustomEvent("api-navigation-selection-changed",{composed:!0,bubbles:!0,detail:{selected,type:"method",passive:!0}}))},200)}_selectedChanged(selected,endpoint,inlineMethods){if(!selected||!endpoint||!inlineMethods){return}Polymer.RenderStatus.afterNextRender(this,()=>this._repositionVerb(selected))}_repositionVerb(id){let options;if("scrollBehavior"in document.documentElement.style){options={block:"start",inline:"nearest"}}else{options=!0}const isEndpoint=this.endpoint&&this.endpoint["@id"]===id;if(isEndpoint){const title=this.shadowRoot.querySelector(".title");if(title){title.scrollIntoView(!0)}return}const node=this.shadowRoot.querySelector(`[data-operation-id="${id}"]`);if(!node){return}node.scrollIntoView(options)}_computeOperationId(item){return item&&item["@id"]}_computeToggleActionLabel(opened){return opened?"Hide":"Show"}_computeToggleIconClass(opened){let clazz="toggle-icon";if(opened){clazz+=" opened"}return clazz}_computeSnippetsHeaders(method){if(!method){return}const expects=this._computeExpects(method);if(!expects){return}let result;const headers=this._computeHeaders(expects);if(headers&&headers.length){result="";headers.forEach(item=>{const name=this._getValue(item,this.ns.schema.schemaName),value=this._computePropertyValue(item)||"";result+=`${name}: ${value}\n`})}return result}_computeSnippetsPayload(payload){if(payload&&payload instanceof Array){payload=payload[0]}if(this._hasType(payload,this.ns.w3.hydra.core+"Operation")){const expects=this._computeExpects(payload);payload=this._computePayload(expects)}if(payload&&payload instanceof Array){payload=payload[0]}if(!payload){return}let mt=this._getValue(payload,this.ns.raml.vocabularies.http+"mediaType");if(!mt){mt="application/json"}const examples=this.$.exampleGenerator.generatePayloadExamples(payload,mt,{});if(!examples||!examples[0]){return}return examples[0].value}_computePropertyValue(item){const key=this._getAmfKey(this.ns.raml.vocabularies.http+"schema");let schema=item&&item[key];if(!schema){return}if(schema instanceof Array){schema=schema[0]}let value=this._getValue(item,this.ns.w3.shacl.name+"defaultValue");if(!value){const examplesKey=this._getAmfKey(this.ns.raml.vocabularies.document+"examples");let example=item[examplesKey];if(example){if(example instanceof Array){example=example[0]}value=this._getValue(item,this.ns.raml.vocabularies.document+"value")}}return value}_computeHttpMethod(method){let name=this._getValue(method,this.ns.w3.hydra.core+"method");if(name){name=name.toUpperCase()}return name}_toggleSnippets(e){const newState=!e.model.get("item._snippetsOpened");e.model.set("item._snippetsOpened",newState)}_toggleRequestPanel(e){const newState=!e.model.get("item._tryitOpened");e.model.set("item._tryitOpened",newState)}_inlineMethodsChanged(value){if(value){this.noTryIt=!0}}_operationRendered(){const ifs=this.shadowRoot.querySelectorAll("[data-type=\"arp-if\"]");this._renderTryItQueue(ifs)}_renderTryItQueue(queue,index){index=index||0;const domIf=queue[index];if(!domIf){return}Polymer.RenderStatus.afterNextRender(this,()=>{domIf.if=!0;index++;this._renderTryItQueue(queue,index)})}_tryItRendered(e){if(!e.target.if){return}const panel=e.target.parentElement.querySelector("api-request-panel");panel.eventsTarget=panel}_clearRequestPanels(){const ifs=this.shadowRoot.querySelectorAll("[data-type=\"arp-if\"]");for(let i=0;i<ifs.length;i++){if(ifs[i].if){ifs[i].if=!1}}}_computeTryItColumClass(index,operations){if(!operations||!operations.length||index===void 0){return""}let klass="";if(0===index){klass+=" first"}if(index===operations.length-1){klass+=" last"}return klass}_computeTryItSelected(item){if(!item){return}return item["@id"]}_endpointChnaged(){this._clearRequestPanels()}}window.customElements.define(ApiEndpointDocumentation.is,ApiEndpointDocumentation);</script></dom-module><dom-module id="api-type-documentation" assetpath="bower_components/api-type-documentation/"><template><style include="markdown-styles"></style><style>:host{display:block;@apply --api-type-documentation;}h1{@apply --arc-font-headline;@apply --api-type-documentation-title;}:host([narrow]) h1{@apply --api-type-documentation-title-narrow;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[typeTitle]]"><h1 class="title">[[typeTitle]]</h1></template><template is="dom-if" if="[[hasCustomProperties]]"><api-annotation-document amf-model="[[amfModel]]" shape="[[type]]"></api-annotation-document></template><template is="dom-if" if="[[description]]"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></template><template is="dom-if" if="[[!isSchema]]"><api-type-document amf-model="[[amfModel]]" type="[[type]]" narrow="[[narrow]]" media-type="[[mediaType]]" media-types="[[mediaTypes]]"></api-type-document></template><template is="dom-if" if="[[isSchema]]"><api-schema-document shape="[[type]]" amf-model="[[amfModel]]"></api-schema-document></template></template><script>class ApiTypeDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-type-documentation"}static get properties(){return{aware:String,amfModel:Object,type:Object,typeTitle:{type:String,computed:"_computeTitle(type)"},description:{type:String,computed:"_computeDescription(type)"},hasCustomProperties:{type:Boolean,computed:"_computeHasCustomProperties(type)"},isSchema:{type:Boolean,value:!1,computed:"_computeIsSchema(type)"},narrow:{type:Boolean,reflectToAttribute:!0},mediaType:String,mediaTypes:Array}}_computeTitle(shape){if(!shape){return}let name=this._getValue(shape,this.ns.schema.schemaName);if(!name){name=this._getValue(shape,this.ns.w3.shacl.name+"name")}return name}_computeDescription(shape){return shape&&this._getValue(shape,this.ns.schema.desc)}_computeIsSchema(shape){if(!shape){return}return this._hasType(shape,this.ns.w3.shacl.name+"SchemaShape")}}window.customElements.define(ApiTypeDocumentation.is,ApiTypeDocumentation);</script></dom-module><dom-module id="api-documentation-document" assetpath="bower_components/api-documentation-document/"><template><style include="markdown-styles"></style><style>:host{display:block;}h1{@apply --arc-font-headline;}</style><div id="preview"><template is="dom-if" if="[[hasTitle]]"><h1>[[title]]</h1></template><marked-element markdown="[[content]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><script>class ApiDocumentationDocument extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-documentation-document"}static get properties(){return{apiDocument:Object,title:{type:String,computed:"_computeTitle(apiDocument, amfModel)"},hasTitle:{type:Boolean,computed:"_computeHasTitle(title)"},content:{type:String,computed:"_computeContent(apiDocument, amfModel)"}}}_computeTitle(doc){return this._getValue(doc,this.ns.schema.title)}_computeHasTitle(title){return!!title}_computeContent(doc){return this._getValue(doc,this.ns.schema.desc)}}window.customElements.define(ApiDocumentationDocument.is,ApiDocumentationDocument);</script></dom-module><dom-module id="api-summary" assetpath="bower_components/api-summary/"><template><style include="markdown-styles"></style><style include="http-method-label-common-styles"></style><style>:host{display:block;color:var(--api-summary-color);@apply --arc-font-body1;@apply --api-summary;}h1{@apply --arc-font-headline;}.marked-description{margin:24px 0;}.markdown-body{margin-bottom:28px;}:host([narrow]) h1{font-size:20px;margin:0;}.url-area{@apply --layout-horizontal;@apply --layout-center;@apply --arc-font-code1;font-size:var(--api-summary-url-font-size, 16px);margin:40px 0;background:var(--api-summary-url-background-color, #424242);color:var(--api-summary-url-font-color, #fff);padding:8px;border-radius:2px;}.url-value{margin-left:12px;word-break:break-all;@apply --layout-flex;}.method-value{text-transform:uppercase;white-space:nowrap;}label.section{@apply --arc-font-subhead;font-size:18px;margin-top:20px;display:block;@apply --api-summary-section-label;}a{@apply --api-link;}a:hover{@apply --api-link-hover;}.chip{display:inline-block;white-space:nowrap;padding:2px 4px;margin-right:8px;background-color:var(--api-summary-chip-background-color, #F0F0F0);color:var(--api-summary-chip-color, #616161);border-radius:var(--api-summary-chip-border-radius, 2px);}.app-link{@apply --arc-link;}.link-padding{margin-left:8px;}.inline-description{padding:0;margin:0;}.docs-section{margin-bottom:40px;}.separator{background-color:var(--api-summary-separator-color, rgba(0, 0, 0, 0.12));height:1px;margin:40px 0;}.endpoint-item{margin-bottom:32px;}.method-label{margin-right:8px;margin-bottom:8px;cursor:pointer;}.method-label:hover{text-decoration:underline;}.endpoint-label{display:inline-block;margin-right:8px;cursor:pointer;font-weight:bold;text-decoration:underline;font-size:15px;@apply --arc-link;}.endpoint-path{text-decoration:underline;font-size:14px;cursor:pointer;margin-bottom:4px;display:inline-block;}.toc .section{margin-bottom:24px;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><div role="main"><h1>[[apiTitle]]</h1><template is="dom-if" if="[[hasVersion]]"><p class="inline-description"><label>Version:</label> <span>[[version]]</span></p></template><template is="dom-if" if="[[description]]"><div role="region" class="marked-description"><marked-element markdown="[[description]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></div></template><div class="url-area"><div class="url-value">[[apiBaseUri]]</div><paper-icon-button class="action-icon copy-icon" icon="arc:content-copy" on-click="_copyPathClipboard" title="Copy path to clipboard"></paper-icon-button></div><clipboard-copy id="pathCopy" content="[[apiBaseUri]]"></clipboard-copy><template is="dom-if" if="[[hasProtocols]]"><label class="section">Supported protocols</label><div class="protocol-chips"><template is="dom-repeat" items="[[protocols]]"><span class="chip">[[item]]</span></template></div></template><template is="dom-if" if="[[hasProvider]]"><section role="contentinfo" class="docs-section"><label class="section">Contact information</label><p class="inline-description"><span>[[providerName]]</span><template is="dom-if" if="[[providerEmail]]"><a class="app-link link-padding" href$="mailto:[[providerEmail]]">[[providerEmail]]</a></template></p><template is="dom-if" if="[[providerUrl]]"><p class="inline-description"><a href$="[[providerUrl]]" target="_blank" class="app-link">[[providerUrl]]</a></p></template></section></template><template is="dom-if" if="[[hasLicense]]"><section role="region" aria-labelledby="licenseLabel" class="docs-section"><label class="section" id="licenseLabel">License</label><p class="inline-description"><template is="dom-if" if="[[licenseUrl]]"><a href$="[[licenseUrl]]" target="_blank" class="app-link">[[licenseName]]</a></template></p></section></template><template is="dom-if" if="[[termsOfService]]"><section role="region" aria-labelledby="tocLabel" class="docs-section"><label class="section" id="tocLabel">Terms of service</label><marked-element markdown="[[termsOfService]]"><div slot="markdown-html" class="markdown-body"></div></marked-element></section></template></div><template is="dom-if" if="[[hasEndpoints]]"><div class="separator"></div><div class="toc"><label class="section">API endpoints</label><template is="dom-repeat" items="[[endpoints]]"><div class="endpoint-item" on-click="_navigateItem"><div class="endpoint-path" data-id$="[[item.id]]" data-shape-type="endpoint" title="Open endpoint documentation">[[item.path]]</div><div class="endpoint-header"><template is="dom-if" if="[[item.hasName]]"><span class="endpoint-label" data-id$="[[item.id]]" data-shape-type="endpoint" title="Open endpoint documentation">[[item.name]]</span></template><template is="dom-repeat" items="[[item.ops]]"><span class="method-label" data-method$="[[item.method]]" data-id$="[[item.id]]" data-shape-type="method" title="Open method documentation">[[item.method]]</span></template></div></div></template></div></template></template><script>class ApiSummary extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-summary"}static get properties(){return{aware:String,webApi:{type:Object,computed:"_computeWebApi(amfModel)"},baseUri:{type:String,value:""},apiBaseUri:{type:String,computed:"_computeBaseUri(server, baseUri, protocols)"},apiTitle:{type:String,computed:"_computeApiTitle(webApi)"},description:{type:String,computed:"_computeDescription(webApi)"},server:{type:Object,computed:"_computeServer(amfModel)"},version:{type:String,computed:"_computeVersion(webApi)"},hasVersion:{type:Boolean,computed:"_computeHasStringValue(version)"},protocols:{type:String,computed:"_computeProtocols(amfModel)"},hasProtocols:{type:Boolean,computed:"_computeHasArrayValue(protocols)"},provider:{type:Object,computed:"_computeProvider(webApi)"},hasProvider:{type:Boolean,computed:"_computeHasStringValue(provider)"},providerName:{type:String,computed:"_computeName(provider)"},providerEmail:{type:String,computed:"_computeEmail(provider)"},providerUrl:{type:String,computed:"_computeUrl(provider)"},termsOfService:{type:String,computed:"_computeToS(webApi)"},license:{type:Object,computed:"_computeLicense(webApi)"},hasLicense:{type:Boolean,computed:"_computeHasStringValue(license)"},licenseName:{type:String,computed:"_computeName(license)"},licenseUrl:{type:String,computed:"_computeUrl(license)"},endpoints:{type:Array,computed:"_computeEndpoints(webApi)"},hasEndpoints:{type:Boolean,computed:"_computeHasArrayValue(endpoints)"}}}_computeApiTitle(shape){return this._getValue(shape,this.ns.schema.schemaName)}_computeVersion(webApi){return this._getValue(webApi,this.ns.schema.name+"version")}_computeBaseUri(server,baseUri,protocols){let base=this._getBaseUri(baseUri,server,protocols);if(base&&"/"===base[base.length-1]){base=base.substr(0,base.length-1)}if(!base){base="Base URI not defined in the API file."}return base}_displayArray(arr){if(!arr||!arr.length){return}if(!(arr instanceof Array)){return arr}return arr.join(", ")}_computeProvider(webApi){const key=this._getAmfKey(this.ns.schema.name+"provider");let data=this._ensureArray(webApi[key]);if(!data){return}data=data[0];if(data instanceof Array){data=data[0]}return data}_computeName(provider){return this._getValue(provider,this.ns.schema.schemaName)}_computeEmail(provider){return this._getValue(provider,this.ns.schema.name+"email")}_computeUrl(provider){let value=this._getValue(provider,this.ns.schema.name+"url");if(!value&&provider){const key=this._getAmfKey(this.ns.schema.name+"url");let data=provider[key];if(data){value=data instanceof Array?data[0]["@id"]:data["@id"]}}return value}_computeToS(webApi){return this._getValue(webApi,this.ns.schema.name+"termsOfService")}_computeLicense(webApi){const key=this._getAmfKey(this.ns.schema.name+"license"),data=webApi&&webApi[key];if(!data){return}return data instanceof Array?data[0]:data}_copyPathClipboard(){const button=this.shadowRoot.querySelector(".copy-icon");if(this.$.pathCopy.copy()){button.icon="arc:done"}else{button.icon="arc:error"}setTimeout(()=>{button.icon="arc:content-copy"},1e3)}_computeEndpoints(webApi){if(!webApi){return}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[key]);if(!endpoints||!endpoints.length){return}return endpoints.map(item=>{const result={name:this._getValue(item,this.ns.schema.schemaName),path:this._getValue(item,this.ns.raml.vocabularies.http+"path"),id:item["@id"],ops:this._endpointOperations(item)};result.hasName=!!result.name;result.hasOps=!!(result.ops&&result.ops.length);return result})}_endpointOperations(endpoint){const key=this._getAmfKey(this.ns.w3.hydra.core+"supportedOperation"),so=this._ensureArray(endpoint[key]);if(!so||!so.length){return}return so.map(item=>{return{id:item["@id"],method:this._getValue(item,this.ns.w3.hydra.core+"method")}})}_navigateItem(e){const data=e.composedPath()[0].dataset;if(!data.id||!data.shapeType){return}const ev=new CustomEvent("api-navigation-selection-changed",{bubbles:!0,composed:!0,detail:{selected:data.id,type:data.shapeType}});this.dispatchEvent(ev)}}window.customElements.define(ApiSummary.is,ApiSummary);</script></dom-module><dom-module id="api-documentation" assetpath="bower_components/api-documentation/"><template><style>:host{display:block;@apply --api-documentation;}</style><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><template is="dom-if" if="[[isSummary]]" restamp="true"><api-summary amf-model="[[amfModel]]" base-uri="[[baseUri]]"></api-summary></template><template is="dom-if" if="[[isSecurity]]" restamp="true"><api-security-documentation amf-model="{{amfModel}}" security="[[_computeSecurity(declares, references, selected, amfModel, _isFragment)]]" narrow="[[narrow]]"></api-security-documentation></template><template is="dom-if" if="[[_renderInlineEndpoint(inlineMethods, isMethod, isEndpoint)]]" restamp="true"><api-endpoint-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" previous="[[_computeEndpointPrevious(webApi, selected)]]" next="[[_computeEndpointNext(webApi, selected)]]" base-uri="[[baseUri]]" narrow="[[narrow]]" selected="[[selected]]" no-try-it="" inline-methods="" scroll-target="[[scrollTarget]]" redirect-uri="[[redirectUri]]"></api-endpoint-documentation></template><template is="dom-if" if="[[_renderEndpoint(inlineMethods, isEndpoint)]]" restamp="true"><api-endpoint-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" previous="[[_computeEndpointPrevious(webApi, selected)]]" next="[[_computeEndpointNext(webApi, selected)]]" base-uri="[[baseUri]]" narrow="[[narrow]]" inline-methods="[[inlineMethods]]" scroll-target="[[scrollTarget]]" redirect-uri="[[redirectUri]]"></api-endpoint-documentation></template><template is="dom-if" if="[[_renderMethod(inlineMethods, isMethod)]]" restamp="true"><api-method-documentation amf-model="{{amfModel}}" endpoint="[[endpoint]]" method="[[_computeMethodModel(webApi, selected)]]" previous="[[_computeMethodPrevious(webApi, selected)]]" next="[[_computeMethodNext(webApi, selected)]]" base-uri="[[baseUri]]" no-try-it="[[noTryIt]]" narrow="[[narrow]]" render-security="" render-code-snippets=""></api-method-documentation></template><template is="dom-if" if="[[isDoc]]" restamp="true"><api-documentation-document amf-model="{{amfModel}}" api-document="[[_computeDocuemntationModel(webApi, selected, amfModel, _isFragment)]]"></api-documentation-document></template><template is="dom-if" if="[[isType]]" restamp="true"><api-type-documentation amf-model="{{amfModel}}" type="[[_computeTypeModel(declares, references, selected, amfModel, _isFragment)]]" narrow="[[narrow]]" media-types="[[_computeApiMediaTypes(webApi)]]"></api-type-documentation></template></template><script>class ApiDocumentation extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-documentation"}static get properties(){return{aware:String,selected:String,selectedType:String,_isFragment:{type:Boolean,computed:"_computeIsFragment(amfModel)"},handleNavigationEvents:{type:Boolean,observer:"_handleNavChanged"},isEndpoint:{type:Boolean,readOnly:!0},isMethod:{type:Boolean,readOnly:!0},isDoc:{type:Boolean,readOnly:!0},isType:{type:Boolean,readOnly:!0},isSecurity:{type:Boolean,readOnly:!0},isSummary:{type:Boolean,readOnly:!0},webApi:{type:Object,computed:"_computeWebApi(amfModel)"},declares:{type:Array,computed:"_computeDeclares(amfModel)"},references:{type:Array,computed:"_computeReferences(amfModel)"},baseUri:String,noTryIt:Boolean,narrow:Boolean,inlineMethods:{type:Boolean,value:!1},scrollTarget:Object,redirectUri:String,endpoint:{type:Object,readOnly:!0}}}static get observers(){return["_navigationOccured(selectedType)","_updateEndpoint(isEndpoint,isMethod,selected,webApi)"]}constructor(){super();this._navigationHandler=this._navigationHandler.bind(this)}disconnectedCallback(){if(this.__eventsRegistered){this._unregisterNavigationEvents()}}_registerNavigationEvents(){this.__eventsRegistered=!0;window.addEventListener("api-navigation-selection-changed",this._navigationHandler)}_unregisterNavigationEvents(){this.__eventsRegistered=!1;window.removeEventListener("api-navigation-selection-changed",this._navigationHandler)}_handleNavChanged(state){if(state){this._registerNavigationEvents()}else{this._unregisterNavigationEvents()}}_navigationHandler(e){if(!0===e.detail.passive){return}this.selected=e.detail.selected;this.selectedType=e.detail.type}_navigationOccured(selectedType){const isEndpoint="endpoint"===selectedType;if(this.isEndpoint!==isEndpoint){this._setIsEndpoint(isEndpoint)}const isMethod="method"===selectedType;if(this.isMethod!==isMethod){this._setIsMethod(isMethod)}const isDoc="documentation"===selectedType;if(this.isDoc!==isDoc){this._setIsDoc(isDoc)}const isType="type"===selectedType;if(this.isType!==isType){this._setIsType(isType)}const isSecurity="security"===selectedType;if(this.isSecurity!==isSecurity){this._setIsSecurity(isSecurity)}const isSummary="summary"===selectedType;if(this.isSummary!==isSummary){this._setIsSummary(isSummary)}}_computeEndpointLink(item){if(!item){return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name){name=this._getValue(item,this.ns.raml.vocabularies.http+"path")}return{id:item["@id"],label:name}}_computeEndpointPrevious(webApi,selected){if(!webApi||!selected){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[ekey]);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){if(endpoints[i]["@id"]===selected){return this._computeEndpointLink(endpoints[i-1])}}}_computeEndpointNext(webApi,selected){if(!webApi||!selected){return}const ekey=this._getAmfKey(this.ns.raml.vocabularies.http+"endpoint"),endpoints=this._ensureArray(webApi[ekey]);if(!endpoints){return}for(let i=0;i<endpoints.length;i++){if(endpoints[i]["@id"]===selected){return this._computeEndpointLink(endpoints[i+1])}}}_computeMethodLink(item){if(!item){return}let name=this._getValue(item,this.ns.schema.schemaName);if(!name){name=this._getValue(item,this.ns.w3.hydra.core+"method")}return{id:item["@id"],label:name}}_computeMethodPrevious(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}for(let i=0;i<methods.length;i++){if(methods[i]["@id"]===selected){return this._computeMethodLink(methods[i-1])}}}_computeMethodNext(webApi,selected){const methods=this.__computeMethodsListForMethod(webApi,selected);if(!methods){return}for(let i=0;i<methods.length;i++){if(methods[i]["@id"]===selected){return this._computeMethodLink(methods[i+1])}}}_updateEndpoint(isEndpoint,isMethod,selected,webApi){if(!selected||!webApi){return}if(!isEndpoint&&!isMethod){return}let endpoint;if(isEndpoint){endpoint=this._computeEndpointModel(webApi,selected)}else{endpoint=this._computeMethodEndpoint(webApi,selected)}const current=this.endpoint;if(current===endpoint){return}if(!current){if(endpoint){this._setEndpoint(endpoint)}}else{if(!endpoint){this._setEndpoint(endpoint)}else if(current["@id"]!==endpoint["@id"]){this._setEndpoint(endpoint)}}}_renderInlineEndpoint(inlineMethods,isMethod,isEndpoint){if(!inlineMethods){return!1}return!!(isMethod||isEndpoint)}_renderEndpoint(inlineMethods,isEndpoint){return!!(!inlineMethods&&isEndpoint)}_renderMethod(inlineMethods,isMethod){return!!(!inlineMethods&&isMethod)}_computeIsFragment(model){if(model instanceof Array){model=model[0]}return!this._hasType(model,this.ns.raml.vocabularies.document+"Document")}_isLibrary(model){if(!model){return!1}if(model instanceof Array){model=model[0]}const moduleKey=this._getAmfKey(this.ns.raml.vocabularies.document+"Module");return moduleKey===model["@type"][0]}_computeSecurity(declares,references,selected,model,isFragment){if(!isFragment){return this._computeSecurityModel(declares,references,selected)}if(this._isLibrary(model)){return this._computeDeclById(model,selected)}return this._computeEncodes(model)}_computeSecurityModel(declares,references,selected){if(!declares&&!references||!selected){return}let result;if(declares){result=declares.find(item=>item["@id"]===selected)}if(!result&&references&&references.length){for(let i=0,len=references.length;i<len;i++){if(!this._hasType(references[i],this.ns.raml.vocabularies.document+"Module")){continue}result=this._computeReferenceSecurity(references[i],selected);if(result){break}}}return result}_computeReferenceSecurity(reference,selected){const declare=this._computeDeclares(reference);if(!declare){return}let result=declare.find(item=>{if(item instanceof Array){item=item[0]}return item["@id"]===selected});if(result instanceof Array){result=result[0]}return this._resolve(result)}_computeDocuemntationModel(webApi,selected,model,isFragment){if(!isFragment){return this._computeDocument(webApi,selected)}return this._computeEncodes(model)}_computeTypeModel(declares,references,selected,model,isFragment){if(!isFragment){return this._computeType(declares,references,selected)}if(this._isLibrary(model)){return this._computeDeclById(model,selected)}return this._computeEncodes(model)}_computeDeclById(model,selected){const declares=this._computeDeclares(model);if(!declares){return}return declares.find(item=>item["@id"]===selected)}_computeApiMediaTypes(webApi){if(!webApi){return}if(webApi instanceof Array){webApi=webApi[0]}const key=this._getAmfKey(this.ns.raml.vocabularies.http+"accepts"),value=this._ensureArray(webApi[key]);if(value){return value.map(item=>item["@value"])}}}window.customElements.define(ApiDocumentation.is,ApiDocumentation);</script></dom-module><script>class ApiConsoleExtComm extends Polymer.Element{static get is(){return"api-console-ext-comm"}static get properties(){return{hasExtension:{type:Boolean,value:!1,notify:!0,readOnly:!0},eventTarget:{type:Object,value:function(){return document.body},observer:"_eventTargetChanged"},_activeRequests:{type:Object,readOnly:!0,value:function(){return{}}}}}constructor(){super();this._messsageHandler=this._messsageHandler.bind(this);this._requestHandler=this._requestHandler.bind(this);this._oauthTokenHandler=this._oauthTokenHandler.bind(this);this._abortHandler=this._abortHandler.bind(this)}connectedCallback(){super.connectedCallback();window.addEventListener("message",this._messsageHandler);this._notifyExtension()}disconnectedCallback(){super.disconnectedCallback();window.removeEventListener("message",this._messsageHandler);if(this._oldEventTarget){this._unobserverConsoleEvents(this._oldEventTarget);this._oldEventTarget=void 0}}_notifyExtension(){window.postMessage({payload:"api-console-extension-installed"},location.origin)}_eventTargetChanged(et){if(this._oldEventTarget){this._unobserverConsoleEvents(this._oldEventTarget)}this._oldEventTarget=et;this._observerConsoleEvents(et)}_observerConsoleEvents(node){node.addEventListener("api-request",this._requestHandler);node.addEventListener("abort-api-request",this._abortHandler);node.addEventListener("oauth2-token-requested",this._oauthTokenHandler)}_unobserverConsoleEvents(node){node.removeEventListener("api-request",this._requestHandler);node.removeEventListener("abort-api-request",this._abortHandler);node.removeEventListener("oauth2-token-requested",this._oauthTokenHandler)}_messsageHandler(e){if(e.source!==window||!e.data){return}const data=e.data;if(!data["api-console-extension"]){return}switch(data["api-console-payload"]){case"init":this._extensionDetected();break;case"api-console-response":this._responseReady(data["api-console-data"]);break;case"api-console-oauth2-token-response":this._oauthTokenReady(data["api-console-data"]);break;}}_requestHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();const detail={headers:e.detail.headers,id:e.detail.id,method:e.detail.method,payload:e.detail.payload,url:e.detail.url};this._activeRequests[e.detail.id]=detail;window.postMessage({payload:"api-console-request",detail},location.origin)}_abortHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();delete this._activeRequests[e.detail.id]}_oauthTokenHandler(e){if(!this.hasExtension){return}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();window.postMessage({payload:"api-console-oauth2",detail:e.detail},location.origin)}_extensionDetected(){this._setHasExtension(!0);this.dispatchEvent(new CustomEvent("api-console-extension-installed",{bubbles:!0,composed:!0}))}_responseReady(data){if(!this.hasExtension){return}const logs=data.log;if(logs&&logs.length){logs.forEach(item=>console.info(`[API console proxy] ${item}`))}const response=data.data,request=this._activeRequests[response.id];if(!request){return}delete this._activeRequests[response.id];response.request=request;this.dispatchEvent(new CustomEvent("api-response",{bubbles:!0,composed:!0,detail:response}))}_oauthTokenReady(data){if(!data){this.dispatchEvent(new CustomEvent("oauth2-error",{bubbles:!0,composed:!0,detail:{message:"No response has been recorded.",code:"no_response"}}));return}if(data.error){const message=data.message&&"string"===typeof data.message?data.message:"No response has been recorded.",code=data.code&&"string"===typeof data.code?data.code:"unknown_error";this.dispatchEvent(new CustomEvent("oauth2-error",{bubbles:!0,composed:!0,detail:{message:message,code:code}}));return}const state=data.state&&"string"===typeof data.state?data.state:void 0,accessToken=data.accessToken&&"string"===typeof data.accessToken?data.accessToken:void 0,tokenType=data.tokenType&&"string"===typeof data.tokenType?data.tokenType:void 0,tokenTime=data.tokenTime&&"number"===typeof data.tokenTime?data.tokenTime:void 0,expiresIn=data.expiresIn&&("number"===typeof data.expiresIn||"string"===typeof data.expiresIn)?+data.expiresIn:void 0,scope=data.scope&&"string"===typeof data.scope?data.scope:void 0;this.dispatchEvent(new CustomEvent("oauth2-token-response",{bubbles:!0,composed:!0,detail:{state,accessToken,tokenType,tokenTime,expiresIn,scope}}))}}window.customElements.define(ApiConsoleExtComm.is,ApiConsoleExtComm);</script><dom-module id="api-console" assetpath="bower_components/api-console/"><template><style>:host{--app-primary-color:var(--api-console-primary-color, #00A2DF);--app-secondary-color:var(--api-console-secondary-color, black);display:block;background-color:var(--api-console-primary-background-color, var(--primary-background-color, transparent));@apply --arc-font-body1;}:host([app]){min-height:100%;}*[hidden]{display:none !important;}.nav-content{@apply --layout-horizontal;@apply --layout-center;}.powered-by{padding:12px 0px;border-top:1px rgba(0,0,0,0.24) solid;margin:8px 12px 0 12px;}a img{text-underline:none;}a.attribution{display:inline-block;width:177px;margin-left:24px;fill:var(--api-console-menu-color, #424143);}app-drawer-layout:not([narrow]) [drawer-toggle]{display:none;}app-drawer{z-index:0;}:host(:not([app])) app-drawer{position:absolute;}:host([layout-narrow]) app-drawer{z-index:var(--api-console-drawer-zindex, 1);}app-toolbar{background-color:var(--api-console-toolbar-background-color, #000);color:var(--api-console-toolbar-color, #fff);}.extension-banner{@apply --layout-center;display:none;border-bottom:1px var(--api-console-extension-banner-border-bottom-color, rgba(0,0,0,0.12)) solid;border-top:1px var(--api-console-extension-banner-border-bottom-color, rgba(0,0,0,0.12)) solid;margin-bottom:12px;box-sizing:border-box;color:var(--api-console-extension-banner-color, rgba(0,0,0,0.54));}.extension-banner[active]{@apply --layout-horizontal;}.main-content{margin-left:var(--api-console-main-content-margin-left, 24px);margin-right:var(--api-console-main-content-margin-right, 24px);margin-top:var(--api-console-main-content-margin-top, 0px);}.drawer-content-wrapper{max-height:calc(100% - 64px);@apply --layout-vertical;background-color:var(--api-console-menu-background-color, inherit);color:var(--api-console-menu-color);height:100%;}api-navigation{background-color:var(--api-console-menu-background-color, inherit);color:var(--api-console-menu-color);--paper-tab-content-unselected_-_color:var(--api-console-menu-tabs-color-unselected);@apply --layout-flex-auto;}:host(:not([app])) app-drawer-layout{min-height:inherit;overflow:hidden;}:host(:not([app])) app-header{position:absolute;right:0 !important;left:0 !important;}api-request-panel,
    api-documentation{max-width:var(--api-console-main-max-width, 1600px);}.api-docs{@apply --layout-horizontal;overflow:auto;}.api-docs api-documentation{@apply --layout-flex;}.api-docs .inline-request{max-width:600px;margin-left:12px;background-color:var(--apic-tryint-wide-background-color, #f8f8f8);padding:0 12px;box-sizing:border-box;@apply --layout-flex;}.method-title-area{@apply --layout-horizontal;@apply --layout-center;}.method-title-area,
    .extension-banner{max-width:var(--api-console-main-max-width, 900px);}.method-title{@apply --layout-flex;@apply --arc-font-headline;font-weight:var(--api-method-documentation-title-method-font-weight, 500);text-transform:capitalize;@apply --api-method-documentation-title;}:host([narrow]) .method-title-area{margin-bottom:24px;margin-top:12px;}:host([narrow]) .method-title{font-size:20px;margin:0;@apply --api-method-documentation-title-narrow;}.store-link{@apply --arc-link;}</style><template is="dom-if" if="[[app]]" restamp="true"><iron-media-query query="(max-width: 740px)" query-matches="{{narrow}}"></iron-media-query><iron-media-query query="(min-width: 1500px)" query-matches="{{wideLayout}}"></iron-media-query></template><app-drawer-layout responsive-width="[[responsiveWidth]]" force-narrow="[[_narrowNavForced]]" narrow="{{layoutNarrow}}"><app-drawer slot="drawer" align="[[drawerAlign]]" opened="[[navigationOpened]]"><template is="dom-if" if="[[!noToolbars]]"><app-toolbar><div>API console</div></app-toolbar></template><div class="drawer-content-wrapper"><api-navigation amf-model="[[amfModel]]" summary="" endpoints-opened="" on-api-navigation-selection-changed="_apiNavigationOcurred" selected="{{selectedShape}}" selected-type="{{selectedShapeType}}"></api-navigation><template is="dom-if" if="[[!noAttribution]]"><div class="powered-by"><a href="https://github.com/mulesoft/api-console" class="attribution" target="_blank" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 818.9 148"><defs><style>.cls-1{}.cls-2{font-size:60px;font-family:OpenSans, Open Sans;}</style></defs><path class="cls-1" d="M436.08,12.57a61.79,61.79,0,1,0,62.08,61.79A62,62,0,0,0,436.08,12.57Zm0,118.8a56.63,56.63,0,1,1,56.63-56.63A56.63,56.63,0,0,1,436.09,131.36Z"></path><path class="cls-1" d="M420.34,102.08a28.4,28.4,0,0,1-15.87-25.84,29.25,29.25,0,0,1,4.89-16.29l20.42,30.43h12.34l20.42-30.43a29.25,29.25,0,0,1,4.89,16.29,28.55,28.55,0,0,1-14,24.87l3.93,15.06a46.47,46.47,0,0,0,2.45-81.29L436.08,71.47,412.6,34.75A46.47,46.47,0,0,0,416.45,117Z"></path><polygon class="cls-1" points="544.97 80.8 529.71 48.31 521.79 48.31 521.79 100.53 529.71 100.53 529.71 65.62 542.03 91.08 547.9 91.08 559.93 65.62 559.93 100.53 567.85 100.53 567.85 48.31 559.93 48.31 544.97 80.8"></polygon><path class="cls-1" d="M597.61,86c0,5.73-3.53,8.29-7.7,8.29s-7.48-2.5-7.48-8.29V63.34h-7.48V87.11c0,4.19.88,7.71,3.74,10.5a12.93,12.93,0,0,0,9.17,3.37,13.28,13.28,0,0,0,9.9-4.18v3.74h7.34V63.34h-7.48Z"></path><path class="cls-1" d="M619.75,89.83V48.31h-7.48v42c0,5.51,3.08,10.27,10.2,10.27h4.62V94.16h-3.3C620.77,94.16,619.75,92.68,619.75,89.83Z"></path><path class="cls-1" d="M645.07,62.91c-9.54,0-15.77,7-15.77,19,0,14.16,7.41,19.07,16.73,19.07,6.53,0,10.12-2,13.93-5.79L655.2,90.7a11.08,11.08,0,0,1-9,3.81c-6.09,0-9.46-4-9.46-10.41h24.13V80.8C660.85,70.24,655.05,62.91,645.07,62.91Zm-8.36,16a11.79,11.79,0,0,1,1-5.06,7.77,7.77,0,0,1,7.41-4.69,7.66,7.66,0,0,1,7.34,4.69,11.62,11.62,0,0,1,1,5.06Z"></path><path class="cls-1" d="M697.78,74.93c-2.2-2-4.91-3.15-9.76-3.89l-5.94-.88a11.67,11.67,0,0,1-5.87-2.42,6.24,6.24,0,0,1-2-4.84c0-4.62,3.37-8.15,9.54-8.15,4.4,0,8.14,1,11.37,4l5.06-5c-4.47-4.18-9.31-5.94-16.21-5.94-10.86,0-17.46,6.23-17.46,15.33,0,4.25,1.25,7.55,3.82,10,2.27,2.12,5.64,3.59,9.9,4.18l6.16.89c3.09.44,4.4,1,5.73,2.2a7,7,0,0,1,2.05,5.43c0,5.06-4,8-10.78,8-5.36,0-9.54-1.17-13.35-5l-5.28,5.21c5,5.06,10.64,6.9,18.48,6.9C694.18,101,702,95.25,702,85.65,702,81.16,700.63,77.43,697.78,74.93Z"></path><path class="cls-1" d="M721.76,62.91a14.88,14.88,0,0,0-11.08,4.4c-3.52,3.66-4.4,8.36-4.4,14.6s.88,11,4.4,14.67a14.88,14.88,0,0,0,11.08,4.4,15,15,0,0,0,11.15-4.4c3.52-3.66,4.4-8.36,4.4-14.67s-.88-10.94-4.4-14.6A15,15,0,0,0,721.76,62.91Zm5.5,29.19a7.65,7.65,0,0,1-5.5,2.2,7.44,7.44,0,0,1-5.42-2.2c-2.28-2.27-2.57-6.17-2.57-10.2s.29-7.92,2.57-10.2a7.39,7.39,0,0,1,5.42-2.13,7.6,7.6,0,0,1,5.5,2.13c2.27,2.27,2.57,6.16,2.57,10.2S729.54,89.83,727.27,92.1Z"></path><path class="cls-1" d="M744.88,58.29V64h-4.26v5.73h4.26v30.81h7.48V69.73h7.41V64h-7.41V58.65c0-2.71,1.31-4.33,4.1-4.33h3.31V47.94h-4.7C748.1,47.94,744.88,52.93,744.88,58.29Z"></path><path class="cls-1" d="M776.12,52.71h-7.48V64h-4.26v5.73h4.26V90.19c0,5.36,3.22,10.35,10.19,10.35h4.47V94.16h-3.08c-2.78,0-4.11-1.62-4.11-4.33V69.73h7.19V64h-7.19Z"></path><path class="cls-1" d="M792.58,58.48a4,4,0,0,0-2.14-2.11,4.11,4.11,0,0,0-3.11,0,4.07,4.07,0,0,0-1.29.84,4,4,0,0,0-.87,1.26,3.86,3.86,0,0,0-.32,1.58,3.94,3.94,0,0,0,.32,1.6,4,4,0,0,0,.87,1.28,4,4,0,0,0,1.29.84,4.19,4.19,0,0,0,3.11,0,3.92,3.92,0,0,0,1.28-.84,4.1,4.1,0,0,0,.87-1.28,4,4,0,0,0,.32-1.6A3.86,3.86,0,0,0,792.58,58.48Zm-.66,2.94a3.34,3.34,0,0,1-.7,1.09,3.25,3.25,0,0,1-1,.72,3.19,3.19,0,0,1-1.3.26,3.24,3.24,0,0,1-2.36-1,3.35,3.35,0,0,1-.7-1.09,3.64,3.64,0,0,1-.25-1.37,3.54,3.54,0,0,1,.25-1.34,3.26,3.26,0,0,1,3.06-2.06,3.21,3.21,0,0,1,1.3.26,3.26,3.26,0,0,1,1.74,1.8,3.52,3.52,0,0,1,.25,1.34A3.62,3.62,0,0,1,791.92,61.42Z"></path><path class="cls-1" d="M790.42,60a1.14,1.14,0,0,0,.35-.93,1.23,1.23,0,0,0-.4-1,1.92,1.92,0,0,0-1.24-.33h-1.81v4.68H788v-2h.77l1.28,2h.78l-1.34-2.07A1.59,1.59,0,0,0,790.42,60Zm-1.61-.19H788V58.32h1l.37,0a1,1,0,0,1,.33.1.63.63,0,0,1,.24.21A.68.68,0,0,1,790,59a.79.79,0,0,1-.1.43.61.61,0,0,1-.27.23,1.19,1.19,0,0,1-.39.09Z"></path><text class="cls-2" transform="translate(19 91.93)">Powered by</text></svg></a></div></template></div></app-drawer><app-header-layout><template is="dom-if" if="[[!noToolbars]]"><app-header slot="header" fixed="" condenses="" effects="waterfall"><app-toolbar><paper-icon-button icon="arc:menu" drawer-toggle="" hidden$="[[manualNavigation]]"></paper-icon-button><div main-title="">[[apiTitle]]</div><slot name="toolbar"></slot></app-toolbar></app-header></template><div class="main-content"><slot name="content"></slot><template is="dom-if" if="[[isRequest]]"><div class="method-title-area"><h1 class="method-title">[[methodName]]</h1><div class="method-close-action"><paper-button class="action-button" on-click="closeTryIt" raised="">Back to docs</paper-button></div></div><div class="extension-banner" active$="[[extensionBannerActive]]"><p>For better experience install API console extension. Get it from <a target="_blank" class="store-link" href="https://chrome.google.com/webstore/detail/olkpohecoakpkpinafnpppponcfojioa">Chrome Web Store</a></p><paper-icon-button icon="arc:close" on-click="dismissExtensionBanner"></paper-icon-button></div><api-request-panel amf-model="[[amfModel]]" selected="[[selectedShape]]" narrow="[[narrow]]" no-url-editor="[[noUrlEditor]]" redirect-uri="[[redirectUri]]" scroll-target="[[scrollTarget]]" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" bower-location="[[bowerLocation]]" base-uri="[[baseUri]]" no-docs="[[noDocs]]" events-target="[[eventsTarget]]"></api-request-panel></template><template is="dom-if" if="[[isDocs]]"><section class="api-docs"><api-documentation amf-model="[[amfModel]]" selected="[[selectedShape]]" selected-type="[[selectedShapeType]]" no-try-it="[[_noTryItValue]]" narrow="[[narrow]]" base-uri="[[baseUri]]" inline-methods="[[inlineMethods]]" redirect-uri="[[redirectUri]]" scroll-target="[[scrollTarget]]"></api-documentation><template is="dom-if" if="[[_renderInlineTyit]]" restamp=""><div class="inline-request"><div class="extension-banner" active$="[[extensionBannerActive]]"><p>For better experience install API console extension. Get it from <a target="_blank" class="store-link" href="https://chrome.google.com/webstore/detail/olkpohecoakpkpinafnpppponcfojioa">Chrome Web Store</a></p><paper-icon-button icon="arc:close" on-click="dismissExtensionBanner"></paper-icon-button></div><api-request-panel amf-model="[[amfModel]]" selected="[[selectedShape]]" narrow="[[narrow]]" no-url-editor="[[noUrlEditor]]" redirect-uri="[[redirectUri]]" scroll-target="[[scrollTarget]]" allow-custom="[[allowCustom]]" allow-disable-params="[[allowDisableParams]]" allow-hide-optional="[[allowHideOptional]]" bower-location="[[bowerLocation]]" base-uri="[[baseUri]]" no-docs="[[noDocs]]" events-target="[[eventsTarget]]"></api-request-panel></div></template></section></template></div></app-header-layout></app-drawer-layout><template is="dom-if" if="[[aware]]"><raml-aware raml="{{amfModel}}" scope="[[aware]]"></raml-aware></template><paper-toast class="error-toast" id="apiLoadErrorToast"></paper-toast><api-console-ext-comm has-extension="{{_hasApicCorsExtension}}"></api-console-ext-comm><xhr-simple-request append-headers="[[appendHeaders]]" proxy="[[proxy]]" proxy-encode-url="[[proxyEncodeUrl]]"></xhr-simple-request><oauth1-authorization></oauth1-authorization><oauth2-authorization></oauth2-authorization></template><script>class ApiConsole extends ApiElements.AmfHelperMixin(Polymer.Element){static get is(){return"api-console"}static get properties(){return{aware:String,amfModel:Object,selectedShape:{type:String,notify:!0},selectedShapeType:{type:String,notify:!0},isMethod:{type:Boolean,computed:"_computeIsMethod(selectedShapeType)"},modelLocation:{type:String,observer:"_modelLocationChanged"},page:{type:String,value:"docs",notify:!0},isRequest:{type:Boolean,computed:"_computeIsRequest(page)"},isDocs:{type:Boolean,computed:"_computeIsDocs(page)"},noExtensionBanner:{type:Boolean,observer:"_noExtBannerChanged"},extensionBannerActive:{type:Boolean,readOnly:!0},_hasApicCorsExtension:{type:Boolean,observer:"_hasCorsExtensionChanged"},appendHeaders:String,narrow:{type:Boolean,reflectToAttribute:!0},proxy:String,proxyEncodeUrl:Boolean,noTryIt:Boolean,manualNavigation:Boolean,navigationOpened:{type:Boolean,notify:!0},responsiveWidth:String,_narrowNavForced:{type:Boolean,computed:"_computeNarrowNavForced(manualNavigation, narrow)"},bowerLocation:String,redirectUri:String,noUrlEditor:Boolean,baseUri:String,noAttribution:{type:Boolean,value:!1},webApi:{type:Object,computed:"_computeWebApi(amfModel)"},apiTitle:{type:String,computed:"_computeApiTitle(webApi)"},isChrome:{type:Boolean,readOnly:!0,value:function(){return /Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},layoutNarrow:{type:Boolean,reflectToAttribute:!0},drawerAlign:String,noToolbars:{type:Boolean,value:!1},app:{type:Boolean,reflectToAttribute:!0},wideLayout:Boolean,inlineMethods:{type:Boolean,value:!1},_renderInlineTyit:{type:Boolean,computed:"_computeRenderInlineTryIt(wideLayout, isMethod, app, inlineMethods)"},_noTryItValue:{type:Boolean,computed:"_computeNoTryItValue(noTryIt, _renderInlineTyit)"},methodName:{type:String,computed:"_computeMethodName(isMethod, selectedShape, webApi)"},scrollTarget:Object,allowDisableParams:Boolean,allowCustom:Boolean,allowHideOptional:Boolean,noDocs:Boolean,eventsTarget:Object}}constructor(){super();this._tryitHandler=this._tryitHandler.bind(this)}connectedCallback(){super.connectedCallback();this.addEventListener("tryit-requested",this._tryitHandler);this._notifyApicExtension()}disconnectedCallback(){super.disconnectedCallback();this.removeEventListener("tryit-requested",this._tryitHandler)}ready(){super.ready();this._initExtensionBanner()}_modelLocationChanged(url){if(!url){return}const xhr=new XMLHttpRequest;xhr.addEventListener("error",error=>this._apiLoadErrorHandler(error));xhr.addEventListener("loadend",()=>this._apiLoadEndHandler(xhr));xhr.open("GET",url,!0);xhr.send()}_apiLoadEndHandler(xhr){let data;try{data=JSON.parse(xhr.response)}catch(e){this._apiLoadErrorHandler(e);return}this.set("amfModel",data)}_apiLoadErrorHandler(error){const message="Unable to load API model data. "+(error.message?error.message:"");this.$.apiLoadErrorToast.text=message;this.$.apiLoadErrorToast.opened=!0}_tryitHandler(){this.page="request"}resetSelection(){if("docs"!==this.page){this.page="docs"}this.selectedShapeType="summary";this.selectedShape="summary"}_computeApiTitle(shape){return this._getValue(shape,this.ns.schema.schemaName)}_computeIsRequest(page){return"request"===page}_computeIsDocs(page){return"docs"===page}_initExtensionBanner(){if(!this.isChrome||this.noExtensionBanner){return}setTimeout(()=>{if(!this.noExtensionBanner&&!this._hasApicCorsExtension){this._setExtensionBannerActive(!0)}})}dismissExtensionBanner(){this._setExtensionBannerActive(!1)}_apiNavigationOcurred(e){const isPassive=!0===e.detail.passive;if(!isPassive&&"docs"!==this.page){this.closeTryIt()}if(e.detail.selected!==this.selectedShape){this.selectedShape=e.detail.selected}if(e.detail.type!==this.selectedShapeType){this.selectedShapeType=e.detail.type}}closeTryIt(){this.page="docs"}_computeNarrowNavForced(manualNavigation,narrow){return!!(manualNavigation||narrow)}resetLayout(){this.shadowRoot.querySelector("app-drawer-layout").notifyResize()}_notifyApicExtension(){this.dispatchEvent(new CustomEvent("api-console-ready",{bubbles:!0,composed:!0}))}_noExtBannerChanged(value){if(value&&this.extensionBannerActive){this._setExtensionBannerActive(!1)}}_hasCorsExtensionChanged(value){if(value&&this.extensionBannerActive){this._setExtensionBannerActive(!1)}}_computeIsMethod(selectedShapeType){return"method"===selectedShapeType}_computeRenderInlineTryIt(wideLayout,isMethod,app,inlineMethods){if(!wideLayout||!app||!isMethod||inlineMethods){return!1}return wideLayout&&isMethod}_computeNoTryItValue(noTryIt,renderInlineTyit){if(renderInlineTyit){return!0}return noTryIt}_computeMethodName(isMethod,selected,webApi){if(!isMethod||!selected||!webApi){return}let method;try{method=this._computeMethodModel(webApi,selected)}catch(_){return}if(!method){return}let name=this._getValue(method,this.ns.schema.schemaName);if(!name){name=this._getValue(method,this.ns.w3.hydra.core+"method")}return name}}window.customElements.define(ApiConsole.is,ApiConsole);</script></dom-module><script>class XhrSimpleRequestTransport extends ArcBehaviors.HeadersParserBehavior(Polymer.Element){static get is(){return"xhr-simple-request-transport"}static get properties(){return{xhr:{type:Object,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,readOnly:!0,value:function(){return null}},headers:{type:Object,readOnly:!0},status:{type:Number,readOnly:!0,value:0},statusText:{type:String,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,value:function(){return new Promise((resolve,reject)=>{this.resolveCompletes=resolve;this.rejectCompletes=reject})}},progress:{type:Object,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,readOnly:!0,value:!1},errored:{type:Boolean,readOnly:!0,value:!1},timedOut:{type:Boolean,readOnly:!0,value:!1},appendHeaders:String,_addHeaders:{type:Array,computed:"_computeAddHeaders(appendHeaders)"},proxy:String,proxyEncodeUrl:Boolean}}ready(){super.ready();this.setAttribute("hidden","true")}get succeeded(){if(this.errored||this.aborted||this.timedOut){return!1}const status=this.xhr.status||0;return 0===status||200<=status&&300>status}send(options){const xhr=this.xhr;if(0<xhr.readyState){return null}xhr.addEventListener("progress",e=>this._progressHandler(e));xhr.addEventListener("error",error=>this._errorHandler(error));xhr.addEventListener("timeout",error=>this._timeoutHandler(error));xhr.addEventListener("abort",()=>this._abortHandler());xhr.addEventListener("loadend",()=>this._loadEndHandler());const url=this._appendProxy(options.url);xhr.open(options.method||"GET",url,!0);this._applyHeaders(xhr,options.headers);xhr.timeout=options.timeout;xhr.withCredentials=!!options.withCredentials;try{xhr.send(options.payload)}catch(e){this._errorHandler(e)}return this.completes}_applyHeaders(xhr,headers){const fixed=this._addHeaders,fixedNames=[];if(fixed&&fixed.length){fixed.forEach(item=>{fixedNames[fixedNames.length]=item.name;try{xhr.setRequestHeader(item.name,item.value)}catch(e){console.warn(`Header ${item.name} cannot be set with value ${item.value}`)}})}if(headers){const data=this.headersToJSON(headers+"");data.forEach(item=>{if(-1!==fixedNames.indexOf(item.name)){return}try{xhr.setRequestHeader(item.name,item.value)}catch(e){console.warn(`Header ${item.name} cannot be set with value ${item.value}`)}})}}_progressHandler(progress){if(this.aborted){return}this._setProgress({lengthComputable:progress.lengthComputable,loaded:progress.loaded,total:progress.total});const e=new CustomEvent("api-request-progress-changed",{cancelable:!1,bubbles:!0,composed:!0,detail:{value:this.progress}});this.dispatchEvent(e)}_errorHandler(error){if(this.aborted){return}this._setErrored(!0);this._updateStatus();this._setHeaders(this.collectHeaders());const response={error:error,request:this.xhr,headers:this.headers};this.rejectCompletes(response)}_timeoutHandler(error){this._setTimedOut(!0);this._updateStatus();const response={error:error,request:this.xhr};this.rejectCompletes(response)}_abortHandler(){this._setAborted(!0);this._updateStatus();const error=new Error("Request aborted"),response={error:error,request:this.xhr};this.rejectCompletes(response)}_loadEndHandler(){if(this.aborted||this.timedOut){return}this._updateStatus();this._setHeaders(this.collectHeaders());this._setResponse(this.parseResponse());if(!this.succeeded){const error=new Error("The request failed with status code: "+this.xhr.status),response={error:error,request:this.xhr,headers:this.headers};this.rejectCompletes(response)}else{this.resolveCompletes({response:this.response,headers:this.headers})}}abort(){this._setAborted(!0);this.xhr.abort()}_updateStatus(){this._setStatus(this.xhr.status);this._setStatusText(this.xhr.statusText===void 0?"":this.xhr.statusText)}parseResponse(){const xhr=this.xhr,responseType=xhr.responseType||xhr._responseType,preferResponseText=!this.xhr.responseType;try{switch(responseType){case"json":if(preferResponseText||xhr.response===void 0){try{return JSON.parse(xhr.responseText)}catch(_){console.warn("Failed to parse JSON sent from "+xhr.responseURL);return null}}return xhr.response;case"xml":return xhr.responseXML;case"blob":case"document":case"arraybuffer":return xhr.response;case"text":return xhr.responseText;default:{return xhr.responseText}}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}}collectHeaders(){let data;try{data=this.xhr.getAllResponseHeaders()}catch(_){}return data}_computeAddHeaders(headers){if(!headers){return}headers=(headers+"").replace("\\n","\n");return this.headersToJSON(headers)}_appendProxy(url){const proxy=this.proxy;if(!proxy){return url}let result=this.proxyEncodeUrl?encodeURIComponent(url):url;result=proxy+result;return result}}window.customElements.define(XhrSimpleRequestTransport.is,XhrSimpleRequestTransport);</script><script>class XhrSimpleRequest extends ArcBehaviors.EventsTargetBehavior(Polymer.Element){static get is(){return"xhr-simple-request"}static get properties(){return{activeRequests:{type:Object,value:function(){return new Map}},loading:{type:Boolean,notify:!0,readOnly:!0},lastRequest:{type:Object,notify:!0,readOnly:!0},appendHeaders:String,proxy:String,proxyEncodeUrl:Boolean}}constructor(){super();this._requestHandler=this._requestHandler.bind(this);this._aborthHandler=this._aborthHandler.bind(this)}ready(){super.ready();this.setAttribute("hidden","true")}_attachListeners(node){node.addEventListener("api-request",this._requestHandler);node.addEventListener("abort-api-request",this._aborthHandler)}_detachListeners(node){node.removeEventListener("api-request",this._requestHandler);node.removeEventListener("abort-api-request",this._aborthHandler)}_createRequest(){const request=document.createElement("xhr-simple-request-transport");request.appendHeaders=this.appendHeaders;request.proxy=this.proxy;request.proxyEncodeUrl=this.proxyEncodeUrl;return request}_requestHandler(e){if(e.defaultPrevented){return}e.preventDefault();const opts=e.detail,request=this._createRequest();request.__opts=opts;this.activeRequests.set(opts.id,request);request.completes.then(()=>this._responseHandler(opts.id)).catch(error=>this._erroreHandler(error,opts.id)).then(()=>this._discardRequest(opts.id));request._startTime=performance.now();request.send(opts);this._setLastRequest(request);this._setLoading(!0)}_aborthHandler(e){if(e.defaultPrevented){return}e.preventDefault();const id=e.detail.id,request=this.activeRequests.get(id);if(!request){return}request.abort()}_createDetail(request,id){const loadingTime=performance.now()-request._startTime,result={id:id,request:request.__opts,response:{status:request.status,statusText:request.statusText,payload:request.response,headers:request.headers},loadingTime:loadingTime};return result}_responseHandler(id){this._setLoading(!1);const request=this.activeRequests.get(id),result=this._createDetail(request,id);result.isError=!1;this._notifyResponse(result)}_erroreHandler(err,id){this._setLoading(!1);let error=err.error;if(error instanceof ProgressEvent){error=new Error("Unable to connect")}const request=this.activeRequests.get(id),result=this._createDetail(request,id);result.isError=!0;result.error=error;this._notifyResponse(result)}_notifyResponse(detail){const e=new CustomEvent("api-response",{bubbles:!0,composed:!0,detail});this.dispatchEvent(e)}_discardRequest(id){this.activeRequests.delete(id)}}window.customElements.define(XhrSimpleRequest.is,XhrSimpleRequest);</script><custom-style><style is="custom-style">:root{--primary-color:var(--anypoint-color-primary);--secondary-color:var(--anypoint-color-secondary);--primary-background-color:var(--anypoint-color-tertiary);--accent-color:var(--anypoint-color-violet3);--arc-font-common-base:{@apply --anypoint-font-common-base;};--arc-font-common-code:{@apply --anypoint-font-common-code;};--arc-font-common-nowrap:{@apply --anypoint-font-common-nowrap;};--arc-font-display1:{@apply --anypoint-title-font-common-base;font-weight:100;font-size:20px;line-height:40px;color:#var(--anypoint-color-steel2);};--arc-font-headline:{@apply --anypoint-title-font-common-base;font-weight:100;letter-spacing:-.03em;font-size:24px;line-height:32px;font-size:20px;color:#var(--anypoint-color-steel2);};--arc-font-title:{@apply --anypoint-title-font-common-base;@apply --arc-font-common-nowrap;font-weight:100;letter-spacing:-.02em;font-size:20px;line-height:28px;font-size:18px;padding:0.83em 0em;margin:0;};--arc-font-subhead:{@apply --anypoint-title-font-common-base;font-weight:400;font-size:16px;line-height:24px;};--arc-font-body2:{@apply --anypoint-font-body;font-weight:500;font-size:14px;};--arc-font-body1:{@apply --anypoint-font-body;font-size:14px;};--arc-font-caption:{@apply --arc-font-common-base;@apply --arc-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--select-text:{@apply --arc-font-common-base;-webkit-user-select:text;cursor:text;};--arc-link:{@apply --arc-font-common-base;color:#00A1DF;};--arc-font-code1:{@apply --anypoint-font-code;font-size:14px;};--no-info-message:{@apply --arc-font-body1;font-style:italic;color:var(--anypoint-color-aluminum5);};--form-label:{font-weight:500;};--code-block:{@apply --arc-font-common-code;};--arc-code-mirror-background-color:var(--anypoint-color-aluminum2);--code-mirror-editor:{background-color:var(--arc-code-mirror-background-color);z-index:0;display:block;};--code-mirror-wrapper:{display:block;height:100%;};--code-mirror-string-color:#690;--code-mirror-number-color:#690;--code-mirror-atom-color:#0288d1;--code-mirror-punctuation-color:#999;--code-type-text-value-color:var(--code-mirror-string-color);--code-type-number-value-color:var(--code-mirror-number-color);--code-type-boolean-value-color:var(--code-mirror-atom-color);--code-type-null-value-color:var(--code-mirror-atom-color);--code-punctuation-value-color:var(--code-mirror-punctuation-color);--code-type-link-color:#757575;--code-array-index-color:rgba(1, 87, 155, 0.57);--code-background-color:var(--anypoint-color-aluminum2);--api-navigation:{background-color:#f9fafb;};--api-navigation-list-item-color:#58595A;--api-navigation-list-item-selected-background-color:var(--anypoint-color-aluminum3);--api-navigation-list-item-selected-color:var(--api-navigation-list-item-color);--api-navigation-header-color:var(--api-navigation-list-item-color);--api-navigation-list-item:{border-left:4px transparent solid;};--api-navigation-list-item-selected:{border-left:4px var(--anypoint-color-primary) solid;};--api-navigation-list-item-hovered:{border-left:4px var(--anypoint-color-coreBlue1) solid;};--api-navigation-summary-label:{padding:15px;};--api-navigation-list-item-selected-weight:normal;--api-navigation-list-item-padding:5px 15px;--api-navigation-section-title-padding:5px 15px 5px 19px;--api-navigation-operation-item-padding-left:29px;--api-navigation-list-section-font-size:14px;--api-navigation-operation-endpoint-opened-background-color:var(--anypoint-color-aluminum2);--api-navigation-endpoint-toggle-icon:{width:32px;height:32px;margin-right:2px;color:#989a9b;};--api-navigation-toggle-icon:{width:36px;height:36px;};--api-navigation-method-label-border-radius:1px;--api-navigation-endpoint-font-size:14px;--dark-divider-opacity:0;--main-region-panel:{margin-bottom:20px;max-width:900px;margin-left:16px;};--action-button:{background-color:var(--primary-color);color:var(--primary-action-color, #fff);};--action-button-hover:{background-color:var(--anypoint-color-coreBlue2);color:white;};--auth-button:{background-color:var(--anypoint-color-danger);color:#fff;};--auth-button-hover:{};--api-url-params-form-enable-checkbox-margin-top:43px;--api-url-params-form-enable-checkbox-array-margin-top:40px;--api-headers-form-enable-checkbox-margin-top:43px;--api-url-params-form-hint-icon-margin-top:33px;--api-url-params-form-hint-icon-array-margin-top:35px;--api-headers-editore-hint-icon-margin-top:33px;--api-headers-editore-hint-icon-margin-top-narrow:33px;--api-headers-form-delete-icon-margin-top:33px;--api-url-params-editor-editor-subheader:{@apply --arc-font-subhead;};--auth-method-custom-help-icon-margin-top:35px;--api-form-action-button-color:var(--primary-color);--api-form-action-button-hover-color:var(--anypoint-color-coreBlue2);--api-form-action-icon-color:var(--primary-color);--api-form-action-icon-hover-color:var(--anypoint-color-coreBlue2);--hint-trigger-color:var(--primary-color);--hint-trigger-hover-color:var(--anypoint-color-coreBlue2);--content-action-button-color:var(--primary-color);--content-action-button-color-hover:var(--anypoint-color-coreBlue2);--from-row-action-icon-color:var(--primary-color);--from-row-action-icon-color-hover:var(--anypoint-color-coreBlue2);--method-display-selected-color:#fff;--method-display-get-color:var(--anypoint-color-viridian3);--method-display-post-color:var(--anypoint-color-violet3);--method-display-put-color:var(--anypoint-color-yellow3);--method-display-patch-color:var(--anypoint-color-indigo3);--method-display-delete-color:var(--anypoint-color-red3);--method-display-options-color:var(--anypoint-color-teal3);--method-display-head-color:var(--anypoint-color-futureGreen3);--http-method-label-border-radius:1px;--http-method-label-get-background-color:var(--method-display-get-color);--http-method-label-get-color:#fff;--http-method-label-post-background-color:var(--method-display-post-color);--http-method-label-post-color:#fff;--http-method-label-put-background-color:var(--method-display-put-color);--http-method-label-put-color:#fff;--http-method-label-patch-background-color:var(--method-display-patch-color);--http-method-label-patch-color:#fff;--http-method-label-delete-background-color:var(--method-display-delete-color);--http-method-label-delete-color:#fff;--http-method-label-options-background-color:var(--method-display-options-color);--http-method-label-options-color:#fff;--http-method-label-head-background-color:var(--method-display-head-color);--http-method-label-head-color:#fff;--http-method-label-padding:4px 5px;--method-display-font-weigth:100;--http-code-snippet-container-highlighted:{background-color:var(--anypoint-color-aluminum3);};--http-code-snippet-line:{word-break:break-all;white-space:pre-wrap;};--http-code-snippet-container:{background-color:var(--anypoint-color-aluminum2);padding:8px;};--api-type-document-type-background-color:transparent;--api-type-document-type-color:var(--anypoint-color-steel4);--api-type-document-trait-data-type-padding:4px 0;--api-type-document-trait-color:var(--anypoint-color-steel2);--api-type-document-property-parent-color:#000;--api-type-document-property-color:#000;--property-shape-document-border-bottom-style:solid;--property-shape-document-border-bottom-color:var(--anypoint-color-aluminum3);--property-shape-document-union-color:transparent;--property-shape-document-union-color-active:transparent;--property-shape-document-array-color:transparent;--property-shape-document-array-color-active:transparent;--property-shape-document-object-color:transparent;--property-shape-document-object-color-active:transparent;--property-shape-document-title:{font-weight:600;};--api-body-document-media-button-background-color:var(--anypoint-color-futureGreen1);--api-type-document-trait-border-radius:0px;--api-body-document-media-type-label-font-weight:400;--api-type-document-union-button-background-color:var(--anypoint-color-primary);--api-type-document-union-button-active-color:#fff;--api-type-document-union-button-active-background-color:var(--anypoint-color-secondary);--api-type-document-union-button-active-color:#fff;--api-type-document-union-button-color:#fff;--api-type-document-property-complex-wrapper:{padding-right:12px;border:1px var(--anypoint-color-aluminum3) solid;};--api-body-document-title-narrow:{font-size:17px;};--api-parameters-document-title-narrow:{font-size:17px;};--api-headers-document-title-narrow:{font-size:17px;};--api-method-documentation-title-method-font-weight:100;--api-method-documentation-try-it-background-color-hover:var(--anypoint-color-coreBlue2);--api-method-documentation-url-background-color:var(--anypoint-color-steel2);--api-method-documentation-docs-sections:{background-color:var(--anypoint-color-aluminum1);box-sizing:border-box;padding:0 15px;};--api-method-documentation-title-narrow:{font-size:22px;font-weight:400;};--api-method-documentation-main-section-title-narrow:{font-size:20px;};--api-method-documentation-subsection-title-narrow:{font-size:17px;};--api-method-documentation-method-label-border-radius:1px;--api-request-editor-send-valid-button:{background-color:var(--anypoint-color-primary);};--api-request-editor-send-valid-button-hover:{background-color:var(--anypoint-color-coreBlue2);};--api-request-editor-send-invalid-button:{background-color:var(--anypoint-color-danger);};--api-request-editor-send-invalid-button-hover:{background-color:#ef5770;};--primary-button-disabled-background-color:rgb(234, 234, 234);--paper-tabs-selection-bar-color:var(--anypoint-color-primary);--paper-tab-ink:var(--primary-color);--paper-tabs-content:{height:calc(100% - 3px);border-bottom:3px solid rgba(39, 47, 51, 0.12);@apply --anypoint-font-common-base;font-style:normal;color:var(--anypoint-color-steel3);display:block;};--paper-tabs-selection-bar:{border-width:3px;};--paper-tab-content:{font-weight:400 !important;};--paper-tab-content-unselected:{color:var(--anypoint-color-steel1);};--paper-checkbox-label:{@apply --arc-font-body1;};--paper-button:{@apply --anypoint-font-body;font-size:14px;border-radius:0;box-shadow:none;padding:10px 16px;box-sizing:border-box;text-transform:none;box-shadow:none !important;};--paper-button-ink-color:transparent;--paper-icon-button-ink-color:transparent;--paper-input-container-input-input-style:{padding:0 10px;box-sizing:border-box;};--paper-item:{padding:0px 10px;border-left:2px transparent solid;border-right:2px transparent solid;cursor:pointer;border-left:2px solid var(--anypoint-color-aluminum4);border-right:2px solid var(--anypoint-color-aluminum4);};--paper-item-hover:{padding:0px 10px;color:var(--anypoint-color-coreBlue3);border-left:2px var(--anypoint-color-coreBlue3) solid;border-right:2px var(--anypoint-color-coreBlue3) solid;};--api-endpoint-documentation-url-background-color:var(--anypoint-color-steel2);--api-summary-url-background-color:var(--anypoint-color-steel2);}</style></custom-style></div></body></html>