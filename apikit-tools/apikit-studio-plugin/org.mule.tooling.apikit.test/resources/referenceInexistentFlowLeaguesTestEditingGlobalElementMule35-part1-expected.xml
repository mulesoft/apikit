<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:apikit="http://www.mulesoft.org/schema/mule/apikit" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:spring="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/apikit http://www.mulesoft.org/schema/mule/apikit/current/mule-apikit.xsd
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd" version="EE-3.5.0">
    <apikit:config name="apiConfig" raml="leaguesyamlfilerifltegeMule35.yaml" consoleEnabled="true" consolePath="console" doc:name="Router"/>
    <apikit:mapping-exception-strategy name="apiKitGlobalExceptionMapping">
        <apikit:mapping statusCode="404">
            <apikit:exception value="org.mule.module.apikit.exception.NotFoundException" />
            <set-property propertyName="Content-Type" value="application/json" />
            <set-payload value="{ &quot;message&quot;: &quot;Resource not found&quot; }" />
        </apikit:mapping>
        <apikit:mapping statusCode="405">
            <apikit:exception value="org.mule.module.apikit.exception.MethodNotAllowedException" />
            <set-property propertyName="Content-Type" value="application/json" />
            <set-payload value="{ &quot;message&quot;: &quot;Method not allowed&quot; }" />
        </apikit:mapping>
        <apikit:mapping statusCode="415">
            <apikit:exception value="org.mule.module.apikit.exception.UnsupportedMediaTypeException" />
            <set-property propertyName="Content-Type" value="application/json" />
            <set-payload value="{ &quot;message&quot;: &quot;Unsupported media type&quot; }" />
        </apikit:mapping>
        <apikit:mapping statusCode="406">
            <apikit:exception value="org.mule.module.apikit.exception.NotAcceptableException" />
            <set-property propertyName="Content-Type" value="application/json" />
            <set-payload value="{ &quot;message&quot;: &quot;Not acceptable&quot; }" />
        </apikit:mapping>
        <apikit:mapping statusCode="400">
            <apikit:exception value="org.mule.module.apikit.exception.BadRequestException" />
            <set-property propertyName="Content-Type" value="application/json" />
            <set-payload value="{ &quot;message&quot;: &quot;Bad request&quot; }" />
        </apikit:mapping>
    </apikit:mapping-exception-strategy>
    <flow name="main" doc:name="main">
        <http:inbound-endpoint address="http://localhost:${http.port}/api" doc:name="HTTP"/>
        <apikit:router config-ref="apiConfig" doc:name="APIkit Router"/>
        <exception-strategy ref="apiKitGlobalExceptionMapping" doc:name="Reference Exception Strategy"/>
    </flow>
    <flow name="put:/fixture/{homeTeamId}/{awayTeamId}:apiConfig" doc:name="put:/fixture/{homeTeamId}/{awayTeamId}:apiConfig">
        <set-payload value="#[NullPayload.getInstance()]" doc:name="Set Payload"/>
    </flow>
    <flow name="put:/teams/{teamId}:apiConfig" doc:name="put:/teams/{teamId}:apiConfig">
        <set-payload value="#[NullPayload.getInstance()]" doc:name="Set Payload"/>
    </flow>
    <flow name="delete:/teams/{teamId}:apiConfig" doc:name="delete:/teams/{teamId}:apiConfig">
        <set-payload value="#[NullPayload.getInstance()]" doc:name="Set Payload"/>
    </flow>
    <flow name="get:/fixture:apiConfig" doc:name="get:/fixture:apiConfig">
        <set-payload value="[{&#xA;  &quot;homeTeam&quot;: &quot;BAR&quot;,&#xA;  &quot;awayTeam&quot;: &quot;RMA&quot;,&#xA;  &quot;date&quot;: &quot;2014-01-12T20:00:00&quot;&#xA;}]" doc:name="Set Payload"/>
    </flow>
    <flow name="get:/fixture/{homeTeamId}/{awayTeamId}:apiConfig" doc:name="get:/fixture/{homeTeamId}/{awayTeamId}:apiConfig">
        <set-payload value="[{&#xA;  &quot;homeTeam&quot;: &quot;BAR&quot;,&#xA;  &quot;awayTeam&quot;: &quot;RMA&quot;,&#xA;  &quot;date&quot;: &quot;2014-01-12T20:00:00&quot;,&#xA;  &quot;homeTeamScore&quot;: 3,&#xA;  &quot;awayTeamScore&quot;: 0,&#xA;}]" doc:name="Set Payload"/>
    </flow>
    <flow name="get:/positions:apiConfig" doc:name="get:/positions:apiConfig">
        <set-payload value="[{&#xA;  &quot;position&quot;: 1,&#xA;  &quot;team&quot;: &quot;BAR&quot;,&#xA;  &quot;points&quot;: 36,&#xA;  &quot;matchesPlayed&quot;: 12,&#xA;  &quot;matchesWon&quot;: 10,&#xA;  &quot;matchesDraw&quot;: 0,&#xA;  &quot;matchesLost&quot;: 2,&#xA;  &quot;goalsInFavor&quot;: 15,&#xA;  &quot;goalsAgainst&quot;: 6&#xA;},&#xA;{&#xA;  &quot;position&quot;: 2,&#xA;  &quot;team&quot;: &quot;RMA&quot;,&#xA;  &quot;points&quot;: 34,&#xA;  &quot;matchesPlayed&quot;: 12,&#xA;  &quot;matchesWon&quot;: 11,&#xA;  &quot;matchesDraw&quot;: 1,&#xA;  &quot;matchesLost&quot;: 2,&#xA;  &quot;goalsInFavor&quot;: 14,&#xA;  &quot;goalsAgainst&quot;: 3&#xA;}]" doc:name="Set Payload"/>
    </flow>
    <flow name="get:/teams/{teamId}:apiConfig" doc:name="get:/teams/{teamId}:apiConfig">
        <set-payload value="{&#xA;  &quot;name&quot;: &quot;Barcelona&quot;,&#xA;  &quot;id&quot;: &quot;BAR&quot;,&#xA;  &quot;homeCity&quot;: &quot;Barcelona&quot;,&#xA;  &quot;stadium&quot;: &quot;Camp Nou&quot;,&#xA;  &quot;matches&quot;: 24&#xA;}" doc:name="Set Payload"/>
    </flow>
    <flow name="get:/teams:apiConfig" doc:name="get:/teams:apiConfig">
        <set-payload value="[{&#xA;  &quot;name&quot;: &quot;Athletic Bilbao&quot;,&#xA;  &quot;id&quot;: &quot;ATH&quot;,&#xA;  &quot;homeCity&quot;: &quot;Bilbao&quot;,&#xA;  &quot;stadium&quot;: &quot;San Mames&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Atletico Madrid&quot;,&#xA;  &quot;id&quot;: &quot;ATL&quot;,&#xA;  &quot;homeCity&quot;: &quot;Madrid&quot;,&#xA;  &quot;stadium&quot;: &quot;Vicente Calderon&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Barcelona&quot;,&#xA;  &quot;id&quot;: &quot;BAR&quot;,&#xA;  &quot;homeCity&quot;: &quot;Barcelona&quot;,&#xA;  &quot;stadium&quot;: &quot;Camp Nou&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Betis&quot;,&#xA;  &quot;id&quot;: &quot;BET&quot;,&#xA;  &quot;homeCity&quot;: &quot;Seville&quot;,&#xA;  &quot;stadium&quot;: &quot;Benito Villamarin&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Espanyol&quot;,&#xA;  &quot;id&quot;: &quot;ESP&quot;,&#xA;  &quot;homeCity&quot;: &quot;Barcelona&quot;,&#xA;  &quot;stadium&quot;: &quot;Cornella-El Prat&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Getafe&quot;,&#xA;  &quot;id&quot;: &quot;GET&quot;,&#xA;  &quot;homeCity&quot;: &quot;Getafe&quot;,&#xA;  &quot;stadium&quot;: &quot;Coliseum Alfonso Perez&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Granada&quot;,&#xA;  &quot;id&quot;: &quot;GRA&quot;,&#xA;  &quot;homeCity&quot;: &quot;Granada&quot;,&#xA;  &quot;stadium&quot;: &quot;Nuevo Los Carmenes&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Levante&quot;,&#xA;  &quot;id&quot;: &quot;LEV&quot;,&#xA;  &quot;homeCity&quot;: &quot;Valencia&quot;,&#xA;  &quot;stadium&quot;: &quot;Ciutat de Valencia&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Malaga&quot;,&#xA;  &quot;id&quot;: &quot;MAL&quot;,&#xA;  &quot;homeCity&quot;: &quot;Malaga&quot;,&#xA;  &quot;stadium&quot;: &quot;La Roselda&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Mallorca&quot;,&#xA;  &quot;id&quot;: &quot;MAL&quot;,&#xA;  &quot;homeCity&quot;: &quot;Palma&quot;,&#xA;  &quot;stadium&quot;: &quot;Iberostar Stadium&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Osasuna&quot;,&#xA;  &quot;id&quot;: &quot;OSA&quot;,&#xA;  &quot;homeCity&quot;: &quot;Pamplona&quot;,&#xA;  &quot;stadium&quot;: &quot;El Sadar&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Racing Santander&quot;,&#xA;  &quot;id&quot;: &quot;RAC&quot;,&#xA;  &quot;homeCity&quot;: &quot;Santander&quot;,&#xA;  &quot;stadium&quot;: &quot;El Sardinero&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Rayo Vallecano&quot;,&#xA;  &quot;id&quot;: &quot;RAY&quot;,&#xA;  &quot;homeCity&quot;: &quot;Madrid&quot;,&#xA;  &quot;stadium&quot;: &quot;Campo de Vallecas&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Real Madrid&quot;,&#xA;  &quot;id&quot;: &quot;RMA&quot;,&#xA;  &quot;homeCity&quot;: &quot;Madrid&quot;,&#xA;  &quot;stadium&quot;: &quot;Santiago Bernabeu&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Real Sociedad&quot;,&#xA;  &quot;id&quot;: &quot;RSC&quot;,&#xA;  &quot;homeCity&quot;: &quot;San Sebastian&quot;,&#xA;  &quot;stadium&quot;: &quot;Anoeta&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Sevilla&quot;,&#xA;  &quot;id&quot;: &quot;SEV&quot;,&#xA;  &quot;homeCity&quot;: &quot;Seville&quot;,&#xA;  &quot;stadium&quot;: &quot;Ramon Sanchez Pizjuan&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Sporting de Gijon&quot;,&#xA;  &quot;id&quot;: &quot;SPG&quot;,&#xA;  &quot;homeCity&quot;: &quot;Gijon&quot;,&#xA;  &quot;stadium&quot;: &quot;El Molinon&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Valencia&quot;,&#xA;  &quot;id&quot;: &quot;VAL&quot;,&#xA;  &quot;homeCity&quot;: &quot;Valencia&quot;,&#xA;  &quot;stadium&quot;: &quot;Mestalla&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Villareal&quot;,&#xA;  &quot;id&quot;: &quot;VIL&quot;,&#xA;  &quot;homeCity&quot;: &quot;Vila-real&quot;,&#xA;  &quot;stadium&quot;: &quot;El Madrigal&quot;&#xA;},&#xA;{&#xA;  &quot;name&quot;: &quot;Zaragoza&quot;,&#xA;  &quot;id&quot;: &quot;ZAR&quot;,&#xA;  &quot;homeCity&quot;: &quot;Zaragoza&quot;,&#xA;  &quot;stadium&quot;: &quot;La Romareda&quot;&#xA;}]" doc:name="Set Payload"/>
    </flow>
    <flow name="post:/teams:apiConfig" doc:name="post:/teams:apiConfig">
        <set-payload value="#[NullPayload.getInstance()]" doc:name="Set Payload"/>
    </flow>
</mule>
